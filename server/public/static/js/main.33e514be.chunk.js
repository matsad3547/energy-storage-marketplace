(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,t,n){},220:function(e,t,n){e.exports=n.p+"static/media/overview.9c4cfe71.md"},221:function(e,t,n){e.exports=n.p+"static/media/about.c3f1acfd.md"},222:function(e,t,n){e.exports=n.p+"static/media/contact.93d6a9d3.md"},256:function(e,t,n){e.exports=n(534)},268:function(e,t,n){},269:function(e,t,n){},448:function(e,t,n){},449:function(e,t,n){},450:function(e,t,n){},451:function(e,t,n){},531:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){},534:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(85),o=n.n(c),l=n(28),i=n(22),s={hour:{label:"Hour",value:"hour"},day:{label:"Day",value:"day"},week:{label:"Week",value:"week"},month:{label:"Month",value:"month"}},u={hour:{label:"Hour"},month:{label:"Month",values:{1:{full:"January",abv:"Jan"},2:{full:"February",abv:"Feb"},3:{full:"March",abv:"Mar"},4:{full:"April",abv:"Apr"},5:{full:"May",abv:"May"},6:{full:"June",abv:"Jun"},7:{full:"July",abv:"Jul"},8:{full:"August",abv:"Aug"},9:{full:"September",abv:"Sept"},10:{full:"October",abv:"Oct"},11:{full:"November",abv:"Nov"},12:{full:"December",abv:"Dec"}}},day:{label:"Day",values:{1:{full:"Monday",abv:"Mon"},2:{full:"Tuesday",abv:"Tue"},3:{full:"Wednesday",abv:"Wed"},4:{full:"Thursday",abv:"Thur"},5:{full:"Friday",abv:"Fri"},6:{full:"Saturday",abv:"Sat"},7:{full:"Sunday",abv:"Sun"}}}},m={caiso:"https://opendata.arcgis.com/datasets/9d1099b016e5482c900d657f06f3ac80_0.geojson?where=ID%20%3D%20'2775'"},d="3.157em",p="2.369em",f="1.777em",b="1.333em",g="1.1em",y="#363D38",v="#e2e2e2",h="#A0A0A0",E="#838383",O="#3D3D3D",j="#fff",w="#90DDAA",S="#23B253",x="#046D27",k="#01BAEF",D="#082656",C="#FFE659",P="#FFD800",T=["#F71735","#91A6FF","#FF88DC","#FAFF7F","#17BEBB","#CD5334","#004E64","#9FFFCB","#7AE582","#007EA7","#FF9F1C","#380036","#01BAEF","#26081C","#192BC2","#003459","#0E0E52","#FDE74C"],I={caiso:"#E28413",ercot:"#F56416",3:"#DD4B1A",4:"#EF271B",5:"#EA1744"},A={primary:{color:j,background:D},success:{color:j,background:S},danger:{color:j,background:"#CC333F"}},R="0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)",L=["#861388","#083D77","#345995","#7067CF","#89A6FB","#78C3FB","#03CEA4"],M=["#009FCC","#0BB6E5","#30C8F2","#60D2F2","#4BD87A","#2BD865","#14CC51","#00B23B"],z={Accept:"application/json","Content-Type":"application/json"},W=function(e,t,n){return n?e.replace("/".concat(t,"/").concat(n),""):e.replace("/".concat(t),"")},B=n(68),F=n(10);var N=function(e){return e.reduce((function(e,t){return Object.keys(t).forEach((function(t){return e=e.includes(t)||"timestamp"===t?e:[].concat(Object(B.a)(e),[t])})),e}),[])},Z=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},G=function(e,t){e.preventDefault(),t(e.target.value)},_=function(e){return"$".concat(Z(e,2).toFixed(2))},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(Z(100*e,2).toFixed(t),"%")},U=function(e){return e.json()},J=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error("HTTP Error: ".concat(e.status," ").concat(e.statusText));throw t.status=e.statusText,t.response=e,t},Y=function(e,t){return new Promise((function(n,a){return fetch(e,t).then(J).then(n).catch(a)}))},$=n(12),K=n.n($),q=function(e,t){var n=K.a.duration(t,"minutes");return K()(Math.floor(e/n)*n)},V=function(e,t,n){return K.a.tz(e,t).format(n)},X=function(e){switch(e){case"day":return function(e){return K()().day(parseInt(e)+1).format("dddd")};case"month":return function(e){return K()().month(parseInt(e)).format("MMMM")};case"hour":return function(e){return K()().hour(parseInt(e)).minute(0).format("h:mmA")};default:return function(e){return K()().format()}}},Q={lmp:{unit:"$/Mwh",label:"Locational Marginal Price",color:L[3],format:_},mvgAvg:{unit:"$/Mwh",label:"3 Week Moving Avg",color:L[6],format:_},temperature:{unit:"\xb0F",label:"Temperature",color:L[2],format:function(e){return Z(e,0)}},windSpeed:{unit:" m/s",label:"Wind Speed",color:L[5],format:function(e){return Z(e,0)}},windBearing:{unit:"\xb0",label:"Wind Bearing",color:L[4],format:function(e){return e||"n/a"}},cloudCover:{unit:"%",label:"Cloud Cover",color:L[6],format:function(e){return 100*Z(e,2)}}},ee={score:{unit:"",label:"Score",color:function(e){return e>0?"red":"green"},format:function(e){return Z(e,3)}}},te={belowThreeSigma:{label:"Below 3\u03c3",color:M[0],formatter:function(e){return e}},belowTwoSigma:{label:"Below 2\u03c3",color:M[1],formatter:function(e){return e}},belowOneSigma:{label:"Below 1\u03c3",color:M[2],formatter:function(e){return e}},withinOneSigmaBelow:{label:"Within 1\u03c3 Below",color:M[3],formatter:function(e){return e}},withinOneSigmaAbove:{label:"Within 1\u03c3 Above",color:M[4],formatter:function(e){return e}},aboveOneSigma:{label:"Above 1\u03c3",color:M[5],formatter:function(e){return e}},aboveTwoSigma:{label:"Above 2\u03c3",color:M[6],formatter:function(e){return e}},aboveThreeSigma:{label:"Above 3\u03c3",color:M[7],formatter:function(e){return e}}},ne={fontSize:d},ae=function(e){var t=e.content;return r.a.createElement("h1",{style:ne},t)},re={fontSize:p},ce=function(e){var t=e.content;return r.a.createElement("h2",{style:re},t)},oe={fontSize:f},le=function(e){var t=e.content;return r.a.createElement("h3",{style:oe},t)},ie={fontSize:b},se=function(e){var t=e.content;return r.a.createElement("h4",{style:ie},t)},ue=function(e){return{textDecoration:"none",color:e?h:y,pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"}},me=function(e){var t=e.to,n=e.children,a=e.disabled,c=void 0!==a&&a;return r.a.createElement(l.b,{to:t,style:ue(c)},n)},de={root:{width:"100%",display:"inline-flex",justifyContent:"space-around",margin:"2em 0 4em"}},pe=function(){return r.a.createElement("div",{style:de.root},r.a.createElement(me,{to:"/about"},r.a.createElement(se,{content:"About"})),r.a.createElement(me,{to:"/contact"},r.a.createElement(se,{content:"Contact"})))},fe=function(e){var t=e.height,n=void 0===t?100:t,a=e.className,c=void 0===a?"company-logo":a;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 162",className:c,style:{height:n}},r.a.createElement("g",null,r.a.createElement("polygon",{className:"e",points:"210.08 0 200.9 33.18 139.15 33.18 129.15 62.21 175.13 62.21 165.17 96 119.94 96 109.94 124.61 183.74 124.61 173.94 162 56.94 162 105.94 0 210.08 0"})),r.a.createElement("g",null,r.a.createElement("polygon",{className:"status-top",points:"99.61 0.58 84.81 45.36 57.47 45.36 79 0.58 99.61 0.58"}),r.a.createElement("polygon",{className:"status-middle",points:"54.59 51.52 82.77 51.52 66.15 103.7 29.34 103.7 54.59 51.52"}),r.a.createElement("polygon",{className:"status-bottom",points:"25.97 110.9 63.8 110.9 47.61 162 0 162 25.97 110.9"})))},be={root:{},primary:{background:'url("/images/solarPanels1wo.jpg") no-repeat left top',backgroundSize:"cover",backgroundPosition:"0% 50%",color:"#fff",padding:"0 0 2rem 2rem",height:"36em",display:"grid",gridTemplateRows:"auto 4em 2em",gridRowGap:".6em",justifyContent:"flex-start",justifyItems:"flex-start",alignItems:"flex-end"},secondary:{color:"#fff",background:'url("/images/windTurbines3wo.jpg") no-repeat',backgroundSize:"cover",backgroundPosition:"90% 50%",marginTop:"6em",height:"30em",padding:"2em",display:"grid",alignItems:"flex-end",gridTemplateColumns:"auto 20em"},secondaryText:{textAlign:"right",lineHeight:1.4},banner:{backgroundImage:"linear-gradient(".concat(x,", ").concat(S,")"),color:"#fff",marginTop:"5em",height:"8em",display:"flex",justifyContent:"center",alignItems:"center"},mission:{gridColumn:"leftCol1 / end",gridRowStart:"row4",padding:"1em 3em",color:y,zIndex:2},purpose:{display:"grid",gridTemplateColumns:"auto 80% auto",color:y},text:{padding:".5em",textAlign:"left"},list:{textAlign:"left",padding:"0 2em"},listItem:{padding:".2em 0"},footerLinks:{gridRowStart:"row6"}},ge=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:be.root},r.a.createElement("div",{style:be.primary},r.a.createElement(fe,{height:"9.5em"}),r.a.createElement(ae,{content:"Entelx"}),r.a.createElement(se,{content:"Accelerating Energy Intelligence"})),r.a.createElement("div",{style:be.secondary},r.a.createElement("div",null),r.a.createElement("div",{style:be.secondaryText},r.a.createElement(ce,{content:"Renewable energy has arrived..."}),r.a.createElement(ce,{content:"But the transition to sustainable energy must move faster"}))),r.a.createElement("div",{style:be.banner},r.a.createElement(ce,{content:"".concat("Entelx"," is here to help")})),r.a.createElement("div",{style:be.mission},r.a.createElement(le,{content:"Our mission is to help accelerate the transition to renewable energy by improving the economics of bulk energy storage"})),r.a.createElement("div",{style:be.purpose},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("p",{style:be.text},"Renewable energy has expanded by leaps and bounds in the last decade and is already the lowest cost source of energy in many places in the world.  Unfortunately, most of its natural intermittency is currently handled by fossil fuel energy resources.  Plus the more renewable energy that is deployed in each location, the lower its value becomes."),r.a.createElement("p",{style:be.text},"Energy storage can solve these issues.  Storage provides a market for renewable power that would otherwise be curtailed and storage assets charged from this low-cost power can then profitably undercut the dirtiest fossil fuel generators.  Energy storage is widely seen as essential for renewable energy supplying the majority of energy demand and setting us on the path to a sustainable future."),r.a.createElement("p",{style:be.text},"Entelx"," is accelerating energy intelligence by:"),r.a.createElement("ul",{style:be.list},r.a.createElement("li",{style:be.listItem},"Providing real-time charge and discharge signals that maximize arbitrage value"),r.a.createElement("li",{style:be.listItem},"Locating and evaluating arbitrage opportunities"),r.a.createElement("li",{style:be.listItem},"Estimating storage project ROI"))))),r.a.createElement(pe,null))},ye=n(11),ve=n.n(ye),he=n(16),Ee=n(2);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we={backgroundImage:"linear-gradient(".concat(S,", ").concat(x,")")},Se=function(e){var t=e.addlStyles;return r.a.createElement("div",{style:je({},we,{},t)})};function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={root:{display:"grid",gridTemplateColumns:"[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]",gridTemplateRows:"[row1] 5em [ws1] 1em"},placement:{gridColumn:"rightCol / end",gridRowStart:"row1"},background:{clipPath:"polygon(2% 0, 100% 0, 100% 100%, 0 100%)"},text:{zIndex:1,color:j,padding:".5em 3em",justifySelf:"end",alignSelf:"end",background:"transparent"}},Ce=function(e){var t=e.title;return r.a.createElement("div",{style:De.root},r.a.createElement(Se,{addlStyles:ke({},De.placement,{},De.background)}),r.a.createElement("div",{style:ke({},De.placement,{},De.text)},r.a.createElement(ce,{content:t})))},Pe={root:{color:y,display:"flex",flexDirection:"column",flex:1},content:{margin:"0 0 auto"}},Te=function(e){var t=e.title,n=e.children;return r.a.createElement("div",{style:Pe.root},r.a.createElement(Ce,{title:t}),r.a.createElement("div",{style:Pe.content},n),r.a.createElement(pe,null))},Ie=n(47),Ae=n.n(Ie);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me={root:{display:"block",boxSizing:"border-box",textAlign:"justify"}},ze=function(e){var t=e.zoom,n=e.center,c=e.style,o=e.children;Ae.a.accessToken="pk.eyJ1IjoibWF0c2FkIiwiYSI6ImNpdWZyMGp6ZTAwaHkzM21weXJjb3hzOTMifQ.D7oqQqX-t5YlZ5CeOnCVvQ";var l=Object(a.useState)(null),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=new Ae.a.Map({container:m.current,style:"mapbox://styles/mapbox/streets-v9",zoom:t,center:n,minZoom:3});return e.on("load",(function(){return u(e)})),function(){return e.remove()}}),[]);var d=r.a.Children.map(o,(function(e){return e&&r.a.cloneElement(e,{map:s})}));return r.a.createElement("div",{style:Le({},Me.root,{},c),ref:m},s&&d)},We=n(0),Be=n.n(We),Fe=function(e){var t=e.map,n=Object(a.useState)(null),r=Object(Ee.a)(n,2),c=r[0],o=r[1];Object(a.useEffect)((function(){(function(){var e=Object(he.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:z},e.prev=1,e.next=4,Y("/nodes",t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,o(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("there was an error getting nodes: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=new Ae.a.Popup({closeButton:!1,closeOnClick:!1}),i=Object(a.useCallback)((function(e){t.getCanvas().style.cursor="pointer";for(var n=e.features[0].geometry.coordinates.slice(),a=e.features[0].properties,r=Object.keys(a).reduce((function(e,t,n,r){var c="<tr><td><strong>".concat(function(e){switch(e){case"type":return"Type";case"name":return"Name";case"controlArea":return"Control Area";default:return e}}(t),":</strong></td><td>").concat(a[t],"</td></tr>");c=n<r.length-1?c+"*":c;var o=e.split("*");return[o[0],c,o[1]].join("")}),"<table>*</table>");Math.abs(e.lngLat.lng-n[0])>180;)n[0]+=e.lngLat.lng>n[0]?360:-360;l.setLngLat(n).setHTML(r).addTo(t)}),[t,l]),s=Object(a.useCallback)((function(){t.getCanvas().style.cursor="",l.remove()}),[t,l]),u=Object(a.useCallback)((function(){t.getCanvas().style.cursor="pointer"}),[t]),m=Object(a.useCallback)((function(){t.getCanvas().style.cursor=""}),[t]),d=Object(a.useCallback)((function(e){var n=t.queryRenderedFeatures(e.point,{layers:["clusters"]}),a=n[0].properties.cluster_id;t.getSource("nodes").getClusterExpansionZoom(a,(function(e,a){if(!e){var r=9===a?a+1:a;t.easeTo({center:n[0].geometry.coordinates,zoom:r})}}))}),[t]),p=Object(a.useCallback)((function(){c&&(t.addSource("nodes",{type:"geojson",data:c,cluster:!0,clusterMaxZoom:9,clusterRadius:50}),t.addLayer({id:"clusters",type:"circle",source:"nodes",filter:["has","point_count"],paint:{"circle-color":"rgba(0, 0, 0, .2)","circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-stroke-width":1,"circle-stroke-color":"#000"}}),t.addLayer({id:"cluster-count",type:"symbol",source:"nodes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),t.addLayer({id:"unclustered-nodes",type:"circle",source:"nodes",filter:["!",["has","point_count"]],paint:{"circle-color":["match",["get","controlArea"],"CA",T[0],"PACW",T[1],"PGE",T[2],"PSE",T[3],"NV",T[4],"IPCO",T[5],"PACE",T[6],"APS",T[7],E],"circle-radius":5,"circle-stroke-width":1,"circle-stroke-color":"#000"}}),t.on("mouseenter","clusters",u),t.on("mouseleave","clusters",m),t.on("click","clusters",d),t.on("mouseenter","unclustered-nodes",i),t.on("mouseleave","unclustered-nodes",s))}),[t,c,d,u,m,i,s]),f=Object(a.useCallback)((function(){t.off("mouseenter","clusters",u),t.off("mouseleave","clusters",m),t.off("click","clusters",d),t.off("mouseenter","unclustered-nodes",i),t.off("mouseleave","unclustered-nodes",s)}),[t,d,u,m,i,s]);return Object(a.useEffect)((function(){return p(),f}),[c]),!1};Fe.propTypes={map:Be.a.object};var Ne=Fe,Ze=function(e){var t=e.map,n=e.getLatLng,r=e.iso,c=Object(a.useCallback)((function(e){t.queryRenderedFeatures(e.point)[0].layer.id===r&&n(e.lngLat)}),[t,n,r]),o=Object(a.useCallback)((function(){t.addSource("isos",{type:"geojson",data:m[r]}),t.addLayer({id:r,type:"fill",source:"isos",paint:{"fill-color":I[r],"fill-opacity":.3,"fill-outline-color":"#000"}}),n&&t.on("click",r,c)}),[t,n,r,c]),l=Object(a.useCallback)((function(){n&&t.off("click",r,c)}),[t,r,c,n]);return Object(a.useEffect)((function(){return o(),function(){return l()}}),[]),!1};Ze.propTypes={map:Be.a.object,iso:Be.a.oneOf(Object.keys(m)).isRequired,getLatLng:Be.a.func};var Ge=Ze,_e=function(e){var t=e.map,n=e.lat,r=e.lng,c=e.color,o=void 0===c?k:c;return Object(a.useEffect)((function(){var e=t&&new Ae.a.Marker({color:o}).setLngLat([r,n]).addTo(t);return function(){return e.remove()}}),[r,n,o,t]),!1};_e.propTypes={map:Be.a.object,lngLat:Be.a.arrayOf(Be.a.number)};var He=_e,Ue={display:"block",padding:".5em 0",fontStyle:"italic",fontSize:g},Je=function(e){var t=e.content;return r.a.createElement("span",{style:Ue},t)};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var $e=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ke.input,{width:e,color:t?E:y,cursor:t?"not-allowed":"inherit"})},Ke={root:{display:"block"},input:{margin:"0 .5em 1em",fontSize:g,padding:".5em",background:v,border:"none",borderRadius:10}},qe=function(e){var t=e.name,n=e.label,a=e.type,c=void 0===a?"text":a,o=e.placeholder,l=void 0===o?"":o,i=e.value,s=e.inputWidth,u=void 0===s?"auto":s,m=e.unit,d=void 0===m?"":m,p=e.disabled,f=void 0!==p&&p,b=e.min,g=void 0===b?-1e3:b,y=e.max,v=void 0===y?1e3:y,h=e.step,E=void 0===h?1:h,O=e.onChange;return r.a.createElement("div",{style:Ke.root},r.a.createElement("label",{htmlFor:t,style:Ue},n),r.a.createElement("input",{style:$e(u,f),type:c,name:t,placeholder:l,value:i,disabled:f,min:"number"===c?g:void 0,max:"number"===c?v:void 0,step:"number"===c?E:void 0,onChange:function(e){return O(e,t)}}),r.a.createElement("span",null,d))};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Xe={root:{MozBorderRadius:10,WebkitBorderRadius:10,borderRadius:10,display:"inline-block",cursor:"pointer",fontSize:"1.3em",textAlign:"center",padding:"1em"}},Qe=function(e){var t=e.value,n=e.type,a=e.onClick,c=e.width,o=e.disabled,l=void 0!==o&&o;return r.a.createElement("input",{type:"button",value:t,style:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Xe.root,{},A[e],{width:c||"fit-content"})}(n),disabled:l,onClick:a})},et=(n(268),{main:{position:"fixed",right:0,top:0,zIndex:4},overlay:{background:"rgba(0, 30, 10, .8)",zIndex:3,height:"100vh",width:"100vw"},message:{color:j,position:"relative",bottom:"34vh"}}),tt=function(e){var t=e.message;return r.a.createElement("div",{style:et.main},r.a.createElement("div",{style:et.overlay}),r.a.createElement(fe,{height:"9.5em",className:"spinner"}),r.a.createElement("div",{style:et.message},t))},nt=(n(269),function(e){var t=e.baseUrl,n=e.link,a=e.id,c=e.label;e.current;return r.a.createElement(l.c,{exact:!0,to:"".concat(t,"/").concat(n,"/").concat(a),activeClassName:"currentButton",className:"navButton"},c)}),at={position:"absolute",zIndex:2,background:j,width:"13em",padding:".5em 1em",boxShadow:R,display:"flex",flexDirection:"column"},rt=Object(i.g)((function(e){var t=e.baseUrl,n=e.id,a=(e.match,[{link:"project",label:"Project Home",envTest:!0},{link:"dashboard",label:"Project Dashboard",envTest:!0},{link:"historical",label:"Historical",envTest:!0},{link:"insights",label:"Insights",envTest:!0},{link:"dev",label:"Development",envTest:!1}]);return r.a.createElement("ul",{style:at},a.filter((function(e){return e.envTest})).map((function(e,a){return r.a.createElement(nt,{key:"nav-button".concat(a),baseUrl:t,link:e.link,id:n,label:e.label})})))})),ct=function(e,t){var n=Object(a.useState)(null),r=Object(Ee.a)(n,2),c=r[0],o=r[1],l=Object(a.useState)(!1),s=Object(Ee.a)(l,2),u=s[0],m=s[1],d=Object(i.f)(),p=Object(a.useCallback)(Object(he.a)(ve.a.mark((function n(){var a,r,c;return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),a={method:"GET",headers:z},n.prev=2,n.next=5,Y("/project/".concat(e),a);case 5:return r=n.sent,n.next=8,r.json();case 8:c=n.sent,o(c),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),console.error("There was an error retrieving your project: ".concat(n.t0)),d.push(t);case 16:return n.prev=16,m(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,12,16,19]])}))),[e,d,t]);return Object(a.useEffect)((function(){p()}),[p]),[c,u]},ot=function(e,t){return Object(a.useEffect)((function(){var n=new EventSource(e),a=function(e){return console.log("ping: ".concat(JSON.parse(e.data).time))},r=function(t){return console.error("There was an error getting data from event source ".concat(e,":"),t)};return n.addEventListener("message",t),n.addEventListener("ping",a),n.addEventListener("error",r),function(){n.removeEventListener("message",t),n.removeEventListener("ping",a),n.removeEventListener("error",r),console.log("closing sse connection..."),n.close()}}),[e,t])},lt=function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(a.useEffect)((function(){return document.addEventListener("mousedown",n),function(){return document.removeEventListener("mousedown",n)}}))},it=function(e){var t=Object(a.useState)(""),n=Object(Ee.a)(t,2),r=n[0],c=n[1],o=Object(a.useCallback)(Object(he.a)(ve.a.mark((function t(){var n,a;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.text();case 6:a=t.sent,c(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("There was an error fetching markdown from ".concat(e,":"),t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e]);return Object(a.useEffect)((function(){o()}),[o]),r},st={button:{fontSize:"1.5em",padding:".5em",cursor:"pointer"}},ut=function(e){var t=e.baseUrl,n=e.id,c=Object(a.useState)(!1),o=Object(Ee.a)(c,2),l=o[0],i=o[1],s=Object(a.useRef)(null);lt(s,(function(){return i(!1)}));return r.a.createElement("div",null,r.a.createElement("span",{className:"fas fa-bars",onClick:function(){return i(!l)},style:st.button}),l&&r.a.createElement("div",{ref:s},r.a.createElement(rt,{baseUrl:t,id:n})))};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt={root:{display:"grid",gridTemplateColumns:"[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]",gridTemplateRows:"[row1] minmax(4em, max-content) [ws1] 2em"},compactRoot:{display:"block",width:"100%",position:"fixed",zIndex:10,top:0,background:"white",boxShadow:R,transition:"all 1s"},placement:{gridColumn:"leftCol / centerMargin",gridRowStart:"row1"},background:{clipPath:"polygon(0 0, 100% 0, 98% 100%, 0 100%)"},items:{display:"inline-flex",justifyContent:"space-between",alignItems:"flex-end",color:j,zIndex:1},compactItems:{display:"inline-flex",justifyContent:"space-between",width:"100%",color:E,alignItems:"baseline"},text:{padding:".5em 2em",alignSelf:"flex-end",background:"transparent"},compactText:{padding:".5em 2em"}},ft=function(e){var t=e.title,n=e.baseUrl,c=e.id,o=e.showMenu,l=Object(a.useRef)(null),i=function(e){var t=Object(a.useState)(null),n=Object(Ee.a)(t,2),r=n[0],c=n[1],o=Object(a.useCallback)((function(t){if(e.current){var n=e.current.getBoundingClientRect().top;c(n)}}),[e]);return Object(a.useEffect)((function(){return o(),document.addEventListener("scroll",o),function(){return document.removeEventListener("scroll",o)}}),[o]),r}(l),s=i<0,u=s?{height:90}:{height:2},m=s?pt.compactRoot:pt.root,d=s?{display:"none"}:dt({},pt.background,{},pt.placement),p=s?pt.compactItems:dt({},pt.placement,{},pt.items),f=s?dt({fontSize:i>=-40&&i<0?"".concat(1+.005*i,"em"):i<-40?".8em":"1em"},pt.compactText):pt.text;return r.a.createElement("div",null,r.a.createElement("div",{ref:l,style:u}),r.a.createElement("div",{style:m},r.a.createElement(Se,{addlStyles:d}),r.a.createElement("div",{style:p},o&&r.a.createElement(ut,{baseUrl:n,id:c}),r.a.createElement("div",{style:f},r.a.createElement(le,{content:t})))))},bt={root:{display:"grid",gridTemplateColumns:"auto 90% auto"}},gt=function(e){var t=e.title,n=e.baseUrl,a=e.id,c=e.children,o=e.showMenu,l=void 0===o||o;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{title:t,baseUrl:n,id:a,showMenu:l}),r.a.createElement("div",{style:bt.root},r.a.createElement("div",null),r.a.createElement("div",null,c)))},yt={root:{display:"flex",boxSizing:"border-box",flexWrap:"wrap",justifyContent:"space-between",color:y,marginBottom:"2em"},form:{display:"block",boxSizing:"border-box",minWidth:"30em",textAlign:"left",flex:"1 1 48%",padding:"0 1em"},subSection:{display:"flex",maxWidth:"30em",justifyContent:"space-between",flexWrap:"wrap",padding:"1em 0"},header:{width:"100%"},label:{fontSize:g,padding:"1em 0"},latLng:{display:"inline-flex",justifyContent:"space-between"},mapContainer:{display:"flex",flexDirection:"column",boxSizing:"border-box",flex:"1 1 48%",padding:"1em",minHeight:"50em"},map:{height:"100%"},button:{display:"flex",width:"100%",padding:"0 1em"}},vt=Object(i.g)((function(e){var t=e.match,n=e.history,c=t.url,o=W(c,"create_project"),l=Object(a.useState)(38.00002),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=Object(a.useState)(-119.00003),d=Object(Ee.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(""),g=Object(Ee.a)(b,2),y=g[0],v=g[1],h=Object(a.useState)(2),E=Object(Ee.a)(h,2),O=E[0],j=E[1],w=Object(a.useState)(1),S=Object(Ee.a)(w,2),x=S[0],k=S[1],D=Object(a.useState)(.85),C=Object(Ee.a)(D,2),P=C[0],T=C[1],I=Object(a.useState)(""),A=Object(Ee.a)(I,2),R=A[0],L=A[1],M=Object(a.useState)(""),z=Object(Ee.a)(M,2),B=z[0],F=z[1],N=Object(a.useState)("CA"),_=Object(Ee.a)(N,2),H=_[0],J=_[1],$=Object(a.useState)(""),K=Object(Ee.a)($,2),q=K[0],V=K[1],X=Object(a.useState)(!1),Q=Object(Ee.a)(X,2),ee=Q[0],te=Q[1],ne=Object(a.useState)(!1),ae=Object(Ee.a)(ne,2),re=ae[0],ce=ae[1];return r.a.createElement(gt,{title:"Create Your Project",baseUrl:o,id:"create_project",showMenu:!1},r.a.createElement("div",{style:yt.root},ee&&r.a.createElement(tt,{message:"Building your project..."}),r.a.createElement("div",{style:yt.form},r.a.createElement("div",{style:yt.subSection},r.a.createElement("div",{style:yt.header},r.a.createElement(se,{content:"General"})),r.a.createElement(qe,{name:"projectName",label:"Project Name",placeholder:'"My Project"',value:y,inputWidth:"23em",onChange:function(e){return G(e,v)}}),r.a.createElement(qe,{name:"energyCapacity",label:"Project Energy Capacity",type:"number",value:O,inputWidth:"4em",unit:"MWh",min:0,step:.1,onChange:function(e){return G(e,j)}}),r.a.createElement(qe,{name:"powerCapacity",label:"Project Power Capacity",type:"number",value:x,inputWidth:"4em",unit:"MW",min:0,step:.1,onChange:function(e){return G(e,k)}}),r.a.createElement(qe,{name:"rte",label:"Round Trip Efficiency",type:"number",value:Z(100*P,1),inputWidth:"2.5em",unit:"%",min:0,max:99,step:1,onChange:function(e){e.preventDefault(),T(e.target.value/100)}})),r.a.createElement("div",{style:yt.subSection},r.a.createElement("div",{style:yt.header},r.a.createElement(se,{content:"Location"}),r.a.createElement("p",{style:yt.label},"Enter an address or pick a location on the map")),r.a.createElement(qe,{name:"address",label:"Address",placeholder:'"123 Main St. Ste 456"',value:R,inputWidth:"23em",onChange:function(e){return G(e,L)}}),r.a.createElement(qe,{name:"city",label:"City",placeholder:'"Los Angeles"',value:B,inputWidth:"18em",onChange:function(e){return G(e,F)}}),r.a.createElement(qe,{name:"state",label:"State",value:H,inputWidth:"5em",onChange:J,disabled:!0}),r.a.createElement(qe,{name:"zip",label:"Zip Code",placeholder:'"90001"',value:q,inputWidth:"10em",onChange:function(e){return G(e,V)}}),r.a.createElement("div",{style:yt.latLng},r.a.createElement(qe,{name:"lat",label:"Latitude",type:"number",value:s,inputWidth:"6em",disabled:!0}),r.a.createElement(qe,{name:"lng",label:"Longitude",type:"number",value:p,inputWidth:"6em",disabled:!0})))),r.a.createElement("div",{style:yt.mapContainer},r.a.createElement(ze,{center:[p,s],zoom:5,style:yt.map},r.a.createElement(Ge,{iso:"caiso",getLatLng:function(e){var t=e.lat,n=e.lng;u(Z(t,5)),f(Z(n,5)),ce(!0)}}),r.a.createElement(Ne,null),re&&r.a.createElement(He,{lat:s,lng:p}))),r.a.createElement("div",{style:yt.button},r.a.createElement(Qe,{value:"SUBMIT",type:"success",onClick:function(){te(!0);var e=JSON.stringify({name:y,address:R,city:B,state:H,power:x,energy:O,lat:s,lng:p,rte:P,type:t.url.includes("demo")?"demo":"test"});Y("/project",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}).then(U).then((function(e){te(!1),n.push("".concat(o,"/project/").concat(e.id))})).catch((function(e){te(!1),function(e){console.error("There was an error creating your project: ".concat(e))}(e)}))}}))))})),ht={fontSize:"1.2em",padding:"0 0 .7em .5em",fontStyle:"normal"},Et=function(e){var t=e.content;return r.a.createElement("p",{style:ht},t)},Ot={root:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},project:{display:"flex",flexDirection:"column",textAlign:"left",flex:"1 1 48%"},header:{padding:"0 0 2em"},specs:{padding:"0 1em 2em"},latLng:{display:"inline-flex",alignItems:"baseline",justifyContent:"space-between",width:"24em"},button:{padding:"0 1em 2em"},map:{height:"100%"},mapContainer:{display:"flex",flexDirection:"column",boxSizing:"border-box",height:"30em",flex:"1 1 48%"}},jt=Object(i.g)((function(e){var t=e.match,n=e.history,c=t.url,o=t.params.projectId,l=Object(a.useState)(!1),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=W(c,"project",o),d=ct(o,m),p=Object(Ee.a)(d,2),f=p[0],b=p[1];return r.a.createElement(gt,{title:f?"".concat(f.name," - Home"):"Project Home",baseUrl:m,id:o},r.a.createElement("div",{style:Ot.root},(s||b)&&r.a.createElement(tt,{message:""}),r.a.createElement("div",{style:Ot.project},r.a.createElement("div",{style:Ot.header},r.a.createElement(se,{content:"Project Specifications"})),f&&r.a.createElement("div",{style:Ot.specs},r.a.createElement(Je,{content:"Power"}),r.a.createElement(Et,{content:"".concat(f.power," Mw")}),r.a.createElement(Je,{content:"Energy"}),r.a.createElement(Et,{content:"".concat(f.energy," Mwh")}),r.a.createElement(Je,{content:"Round Trip Efficiency"}),r.a.createElement(Et,{content:"".concat(100*f.rte,"%")}),r.a.createElement(Je,{content:"Location"}),f.address?r.a.createElement(Et,{content:"".concat(f.address," - ").concat(f.city," -  ").concat(f.state)}):r.a.createElement("div",{style:Ot.latLng},r.a.createElement(Et,{content:f.lat}),r.a.createElement(Je,{content:"latitude"}),r.a.createElement(Et,{content:f.lng}),r.a.createElement(Je,{content:"longitude"}))),r.a.createElement("div",{style:Ot.button},r.a.createElement(Qe,{value:"DELETE PROJECT",type:"danger",onClick:function(){u(!0);var e={method:"DELETE",headers:z};Y("/project/".concat(o),e).then((function(e){u(!1),n.push("".concat(m))})).catch((function(e){u(!1),console.error("There was an error deleting your project: ".concat(e))}))}}))),r.a.createElement("div",{style:Ot.mapContainer},f&&r.a.createElement(ze,{center:[f.lng,f.lat],zoom:8,style:Ot.map},r.a.createElement(He,{lat:f.lat,lng:f.lng})))))})),wt=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=W(n,"roi",c),l=Object(a.useState)(!1),i=Object(Ee.a)(l,1)[0],s=Object(a.useState)(null),u=Object(Ee.a)(s,2),m=u[0],d=u[1],p=Object(a.useCallback)((function(e){console.log(e),d(JSON.parse(e.data))}),[]),f="/roi/".concat(c);return ot(f,p),r.a.createElement(gt,{title:"Project Return on Investment",baseUrl:o,id:c},i&&r.a.createElement(tt,{message:""}),r.a.createElement("p",null,"Project id: ",c),m&&r.a.createElement("p",null,m.cheese))},St={root:{textAlign:"left",padding:"0 0 2em"},header:{padding:"0 0 .5em"}},xt=function(e){var t=e.headerContent,n=e.children,a=e.childStyles,c=void 0===a?{}:a;return r.a.createElement("div",{style:St.root},r.a.createElement("div",{style:St.header},r.a.createElement(se,{content:t})),r.a.createElement("div",{style:c},n))},kt={display:"flex",flexWrap:"wrap",justifyContent:"space-between",padding:".5em 1em"},Dt=function(e){var t=e.children;return r.a.createElement("div",{style:kt},t)},Ct=n(270)(window),Pt=function(e){var t=e.icon,n=e.style,c=function(e){switch(e){case"clear-night":return{key:"CLEAR_NIGHT",color:D};case"rain":return{key:"RAIN",color:k};case"snow":return{key:"SNOW",color:k};case"sleet":return{key:"SLEET",color:k};case"wind":return{key:"WIND",color:h};case"fog":return{key:"FOG",color:h};case"cloudy":return{key:"CLOUDY",color:h};case"partly-cloudy-day":return{key:"PARTLY_CLOUDY_DAY",color:C};case"partly-cloudy-night":return{key:"PARTLY_CLOUDY_NIGHT",color:D};default:return{key:"CLEAR_DAY",color:P}}}(t),o=new Ct({color:c.color}),l=Object(a.useRef)(null);return Object(a.useEffect)((function(){o.add(l.current,Ct[c.key]),o.play();var e=l.current;return function(){return o.remove(e)}}),[t,o,c.key]),r.a.createElement("canvas",{width:"128",height:"128",style:n,ref:l})},Tt={fontSize:".8em",fontStyle:"italic"},It=function(e){var t=e.message,n=e.isoString,a=e.timeZone;return r.a.createElement("div",{style:Tt},"".concat(t," ").concat(K()(n).tz(a).format("M/D h:mm A")))},At={linkContainer:{width:"100%",textAlign:"right"},icon:{height:"5em",padding:"1em 0"},ds:{color:"#0BA8F7",textDecoration:"none",fontSize:".8em",textAlign:"right"},dataDisplay:{padding:"0 1em 0"}},Rt=function(e){var t=e.weather,n=e.timeZone;return r.a.createElement(xt,{headerContent:"Weather"},t?r.a.createElement(Dt,null,r.a.createElement("div",null,r.a.createElement(It,{message:"Data as of",isoString:K()(1e3*t.time).toISOString(),timeZone:n}),r.a.createElement(Pt,{icon:t.icon,style:At.icon})),r.a.createElement("div",{style:At.dataDisplay},r.a.createElement(Je,{content:"Current Temperature"}),r.a.createElement(Et,{content:"".concat(Z(t.temperature,1),"\xb0F")})),r.a.createElement("div",{style:At.dataDisplay},r.a.createElement(Je,{content:"Cloud Cover"}),r.a.createElement(Et,{content:"".concat(Z(100*t.cloudCover,0)," %")})),r.a.createElement("div",{style:At.dataDisplay},r.a.createElement(Je,{content:"Wind"}),r.a.createElement(Et,{content:"".concat(Z(t.windSpeed,1)," mph gusting to ").concat(Z(t.windGust,1)," mph, bearing ").concat(t.windBearing,"\xb0")})),t.nearestStormDistance>0&&r.a.createElement("div",{style:At.dataDisplay},r.a.createElement(Je,{content:"Nearest Storm"}),r.a.createElement(Et,{content:"".concat(t.nearestStormDistance," mi bearing ").concat(t.nearestStormBearing,"\xb0")})),r.a.createElement("div",{style:At.linkContainer},r.a.createElement("a",{style:At.ds,target:"_blank",rel:"noopener noreferrer",href:"https://darksky.net/poweredby/"},"Powered by Dark Sky"))):r.a.createElement("p",null,"Weather data is not currently available"))},Lt=function(e){return{color:e,fontSize:"2em",fontStyle:"italic",fontWeight:"bold",padding:".5em 0",boxSizing:"border-box",width:"min-content"}},Mt={charge:k,discharge:S,standby:E},zt={noStatus:{padding:".5em 0"}},Wt=function(e){var t=e.currentPrc,n=e.avgPrc,a=e.status;if(t&&n&&a){var c=t-n,o="charge"===a,l="discharge"===a,i=!o&&!l;return r.a.createElement("div",null,o&&r.a.createElement("div",{style:Lt(Mt.charge)},"CHARGE"),l&&r.a.createElement("div",{style:Lt(Mt.discharge)},"DISCHARGE"),i&&r.a.createElement("div",{style:Lt(Mt.standby)},"STANDBY"),r.a.createElement("p",null,function(e,t,n){var a=Z(Math.abs(e),2);switch(!0){case t:return"LMP is currently $".concat(a,"/MWh less than 3-week running average");case n:return"LMP is currently $".concat(a,"/MWh greater than 3-week running average");default:return"Prices are not currently favorable for charging or discharging"}}(c,o,l)))}return r.a.createElement("p",{style:zt.noStatus},"Status data is not currently available")},Bt={display:"block",padding:"0 0 1em",fontStyle:"italic",fontSize:b},Ft=function(e){var t=e.content;return r.a.createElement("span",{style:Bt},t)},Nt={root:{display:"flex",padding:"0 1em"},status:{width:"35em"},prices:{display:"flex",justifyContent:"space-between",padding:"1em 0 0"},followingSection:{padding:"0 0 0 2em"}},Zt=function(e){var t=e.config,n=e.prices,a=e.charge,c=e.revenue,o=e.status,l=n&&n[n.length-1],i=l&&l.lmp,s=l&&l.mvgAvg,u=l&&l.timestamp;return r.a.createElement(xt,{headerContent:"Status"},r.a.createElement("div",{style:Nt.root},r.a.createElement("div",{style:Nt.status},u&&r.a.createElement(It,{message:"Data as of",isoString:u,timeZone:t.timeZone}),r.a.createElement(Wt,{currentPrc:i,avgPrc:s,status:o}),t&&i&&r.a.createElement("div",{style:Nt.prices},r.a.createElement("div",null,r.a.createElement(Je,{content:"Current Price"}),r.a.createElement(Et,{content:_(i)})),r.a.createElement("div",null,r.a.createElement(Je,{content:"Charge Threshold"}),r.a.createElement(Et,{content:_(t.chargeThreshold)})),r.a.createElement("div",null,r.a.createElement(Je,{content:"Discharge Threshold"}),r.a.createElement(Et,{content:_(t.dischargeThreshold)})))),r.a.createElement("div",{style:Nt.followingSection},r.a.createElement(Ft,{content:"State of Charge"}),null!==a&&t.energy?r.a.createElement(Et,{content:"".concat(Z(a/t.energy*100,1)," %")}):r.a.createElement("span",null,"State of charge data is not currently available")),r.a.createElement("div",{style:Nt.followingSection},r.a.createElement(Ft,{content:"Revenue"}),null!==c?r.a.createElement(Et,{content:_(c)}):r.a.createElement("span",null,"Revenue data is not currently available"))))},Gt=n(223),_t=n(8),Ht={data:{padding:5},dataValue:{color:O}},Ut=function(e){var t=e.label,n=e.color,a=e.value,c=e.formatter,o=void 0===c?function(e){return e}:c,l=e.unit,i=void 0===l?"":l;return r.a.createElement("p",{style:Ht.data},r.a.createElement("span",{style:{color:n}},"".concat(t,":  ")),r.a.createElement("span",{style:Ht.dataValue},"".concat(o(a)," ").concat(i)))};function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Yt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Q,{},ee),$t={root:{backgroundColor:"#fff",border:"1px solid #a8a2aa",borderRadius:5,textAlign:"left",padding:5},date:{padding:5,fontSize:"1.1em"}},Kt=function(e){var t=e.payload,n=e.label,a=e.active,c=e.timeZone;return a&&r.a.createElement("div",{style:$t.root},r.a.createElement("p",{style:$t.date},V(n,c,"ddd, M/D h:mm A")),t.map((function(e,t){return r.a.createElement(Ut,{label:Yt[e.name].label,color:e.color,value:e.value,formatter:Yt[e.name].format,unit:Yt[e.name].unit,key:"value-".concat(t)})})))},qt=function(e){return{margin:"0 12px 0 6px",width:20,height:10,background:e}},Vt=function(e){var t=e.color;return r.a.createElement("span",{style:qt(t)})};n(448);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Qt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Q,{},ee),en={root:{display:"inline-flex",flexWrap:"wrap",justifyContent:"space-evenly",padding:"0 5em 0 0"},dataType:{padding:".3em",display:"inline-flex",alignItems:"baseline"}},tn=function(e){var t=e.payload;return r.a.createElement("div",{style:en.root},t.map((function(e,t){return r.a.createElement("div",{style:en.dataType,key:"legend-".concat(t)},Qt[e.value].label,": ",r.a.createElement(Vt,{color:e.color}))})))};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=r.a.memo((function(e){var t=e.data,n=e.timeZone,a=e.barKey,c=e.negBarThreshold,o=void 0===c?0:c,l=e.posBarThreshold,i=void 0===l?0:l,s=e.aspect,u=void 0===s?3:s,m=e.xRefLines,d=void 0===m?[]:m,p=e.useBrush,f=void 0!==p&&p,b=N(t).filter((function(e){return Object.keys(Q).includes(e)})),g=t.reduce((function(e,t){var n=t.score>0?t[a]>i:t[a]<o,r=(t.score,Object(Gt.a)(t,["score"]));return[].concat(Object(B.a)(e),n?[t]:[an({},r)])}),[]),y={top:10,bottom:10};return r.a.createElement(_t.k,{width:"100%",aspect:u},r.a.createElement(_t.f,{data:g,margin:{top:10,right:0,left:10,bottom:0}},r.a.createElement(_t.m,{dataKey:"timestamp",tickFormatter:function(e){return V(e,n,"h:mm A")}}),r.a.createElement(_t.n,{yAxisId:"left",tickCount:10,minTickGap:5,allowDecimals:!1,padding:y,tickFormatter:function(e){return _(e)}}),r.a.createElement(_t.n,{yAxisId:"right",orientation:"right",tickCount:5,padding:y,domain:[-3,3],tickFormatter:function(e){return Z(e,2)}}),r.a.createElement(_t.d,{strokeDasharray:"3 3"}),r.a.createElement(_t.l,{content:r.a.createElement(Kt,{timeZone:n})}),r.a.createElement(_t.j,{y:0,yAxisId:"right",stroke:E,strokeDasharray:"4 4"}),r.a.createElement(_t.a,{yAxisId:"right",dataKey:"score",fill:"#000"},t.map((function(e,t){return r.a.createElement(_t.e,{fill:e.score>0?S:k,key:"bar-".concat(t)})}))),f&&r.a.createElement(_t.c,{dataKey:"timestamp",height:30,stroke:w,tickFormatter:function(e){return V(e,n,"M/D h:mm A")},endIndex:0}),b.map((function(e){return r.a.createElement(_t.h,{yAxisId:"left",key:"".concat(e,"-line"),type:"monotone",dataKey:e,connectNulls:!0,stroke:Q[e].color,dot:!1})})),d.map((function(e,t){return r.a.createElement(_t.j,{x:e,yAxisId:"right",key:"x-".concat(t)})})),r.a.createElement(_t.g,{content:r.a.createElement(tn,null)})))})),cn=n(35),on=n(219),ln={background:h},sn=function(e){var t=e.data,n=Object(a.useRef)(null),c=Math.PI/4,o=[375,100],l=cn.e();return Object(a.useEffect)((function(){var e=t.points,a=t.axisLength,r=Object(on._3d)().scale(1).x((function(e){return e.x})).y((function(e){return e.y})).z((function(e){return e.z})).origin(o).rotateY(c).rotateX(-c).shape("SURFACE",a),i=cn.g(n.current).append("g"),s=function(e){var t=(e[0].y+e[1].y+e[2].y+e[3].y)/4;return e.ccw?cn.b(l(t)):cn.a(cn.b(l(t))).darker(2.5)};!function(){var t=cn.d(e,(function(e){return e.y})),n=cn.c(e,(function(e){return e.y})),a=cn.f(e,(function(e,t){return t.y-e.y}));console.log("max revenue:",n,"\npoint?",e[a]),l.domain([t,n]),function(e,t){var n=i.selectAll("path").data(e,(function(e){return e.plane}));n.enter().append("path").attr("class","_3d").attr("fill",s).attr("opacity",0).attr("stroke-opacity",.1).merge(n).attr("stroke","black").transition().duration(t).attr("opacity",1).attr("fill",s).attr("d",r.draw),n.exit().remove(),cn.h("._3d").sort(r.sort)}(r(e),1e3)}()}),[l,t,o,c]),r.a.createElement("svg",{style:ln,width:750,height:1e3,ref:n})},un={root:{minWidth:"10em",backgroundColor:"#fff",border:"1px solid ".concat(v),borderRadius:5,textAlign:"left",padding:5}},mn=function(e){var t=e.payload;return e.active&&r.a.createElement("div",{style:un.root},t.map((function(e,t){return r.a.createElement(Ut,{label:e.payload.label,color:e.payload.color,value:e.payload.value,key:"value-".concat(t)})})))},dn=r.a.memo((function(e){var t=e.data,n=(e.timeZone,e.children),a=e.aspect,c=void 0===a?3:a;return r.a.createElement(_t.k,{width:"100%",aspect:c},r.a.createElement(_t.b,{data:t,margin:{top:10,right:0,left:10,bottom:0}},r.a.createElement(_t.m,{dataKey:"label"}),r.a.createElement(_t.n,{yAxisId:"left",tickCount:10,minTickGap:5,allowDecimals:!1,padding:{top:10,bottom:10}}),r.a.createElement(_t.d,{strokeDasharray:"3 3"}),r.a.createElement(_t.l,{content:r.a.createElement(mn,null)}),n))})),pn=(n(449),{root:{backgroundColor:j,border:"1px solid ".concat(h),borderRadius:5,textAlign:"left",padding:5},label:{padding:5,fontSize:"1.1em"}}),fn=function(e){var t=e.payload,n=e.label,a=e.active,c=(e.timeZone,e.labelFormatter),o=void 0===c?function(e){return e}:c;return a&&r.a.createElement("div",{style:pn.root},r.a.createElement("p",{style:pn.label},o(n)),t.map((function(e,t){return r.a.createElement(Ut,{label:e.name,color:e.fill,value:e.value,formatter:e.formatter,unit:e.unit,key:"value-".concat(t)})})))},bn=r.a.memo((function(e){var t=e.data,n=e.dataConfig,a=(e.timeZone,e.aspect),c=void 0===a?3:a,o=Object.keys(n);return r.a.createElement(_t.k,{width:"100%",aspect:c},r.a.createElement(_t.b,{data:t,margin:{top:10,right:0,left:10,bottom:0},barGap:1},r.a.createElement(_t.m,{dataKey:"label"}),r.a.createElement(_t.n,{yAxisId:"left",tickCount:10,minTickGap:5,allowDecimals:!1,padding:{top:10,bottom:10}}),r.a.createElement(_t.d,{strokeDasharray:"3 3"}),r.a.createElement(_t.l,{content:r.a.createElement(fn,null)}),o.map((function(e,t){return r.a.createElement(_t.a,{yAxisId:"left",dataKey:e,name:n[e].label,key:"by-".concat(e,"-bar-").concat(t),fill:n[e].color,formatter:n[e].formatter})}))))}));function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn={root:{textAlign:"left"},chart:{padding:"1em 0"},noData:{padding:"0 1em"}},hn=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=W(n,"dashboard",c),l=ct(c,o),i=Object(Ee.a)(l,2),s=i[0],u=i[1],m=Object(a.useState)(null),d=Object(Ee.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(null),g=Object(Ee.a)(b,2),y=g[0],v=g[1],h=Object(a.useState)(null),E=Object(Ee.a)(h,2),O=E[0],j=E[1],w=Object(a.useState)(null),S=Object(Ee.a)(w,2),x=S[0],k=S[1],D=Object(a.useState)(null),C=Object(Ee.a)(D,2),P=C[0],T=C[1],I=Object(a.useState)(null),A=Object(Ee.a)(I,2),R=A[0],L=A[1],M=Object(a.useState)("standby"),z=Object(Ee.a)(M,2),B=z[0],F=z[1],N=Object(a.useCallback)((function(e){e.preventDefault();var t=JSON.parse(e.data),n=t.weather,a=t.prices,r=t.revenue,c=t.charge,o=t.status,l=t.chargeThreshold,i=t.dischargeThreshold;f(n),v(a),j(r),k(c),F(o),T(l),L(i)}),[]),Z="/dashboard/".concat(c);ot(Z,N);var G=y&&y.length>0;return r.a.createElement(gt,{title:s?"".concat(s.name," - Dashboard"):"Project Dashboard",baseUrl:o,id:c},u&&r.a.createElement(tt,{message:""}),r.a.createElement("div",{style:vn.root},r.a.createElement(Zt,{config:yn({},s,{chargeThreshold:P,dischargeThreshold:R}),prices:y,charge:x,revenue:O,status:B}),r.a.createElement(xt,{headerContent:"Last Hour"},G&&s?r.a.createElement(rn,{barKey:"lmp",negBarThreshold:P,posBarThreshold:R,data:y,timeZone:s.timeZone,aspect:4}):r.a.createElement("p",{style:vn.noData},"Data for the last hour is not currently available")),s&&r.a.createElement(Rt,{weather:p,timeZone:s.timeZone})))};function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=function(e){return On({},wn.input,{color:e?E:y,cursor:e?"not-allowed":"inherit"})},wn={root:{display:"inline-flex",alignItems:"baseline"},input:{margin:"0 .5em 1em",fontSize:g,padding:".5em",background:v,border:"none",borderRadius:10},label:{padding:".2em 0",fontSize:"1em"}},Sn=function(e){var t=e.name,n=e.label,a=e.value,c=e.checked,o=e.onChange,l=e.disabled,i=void 0!==l&&l;return r.a.createElement("div",{style:wn.root},r.a.createElement("input",{style:jn(i),type:"checkbox",id:t,value:a,checked:c,disabled:i,onChange:o}),r.a.createElement("label",{htmlFor:t,style:On({},Ue,{},wn.label)},n))},xn={padding:"0 0 1em",fontSize:".8em",fontStyle:"italic"},kn=function(e){var t=e.message,n=e.startDate,a=e.endDate,c=e.timeZone;return r.a.createElement("p",{style:xn},"".concat(t," ").concat(K()(n).tz(c).format("M/D h:mm A")," to ").concat(K()(a).tz(c).format("M/D h:mm A")))};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn=function(e){return Cn({},Tn.input,{color:e?E:y,cursor:e?"not-allowed":"inherit"})},Tn={root:{display:"inline-flex",alignItems:"baseline",padding:"0 .5em .5em"},input:{margin:"0 .5em 1em",fontSize:g,padding:".5em",background:v,border:"none",borderRadius:10},label:{padding:".2em 0",fontSize:"1em"}},In=function(e){var t=e.name,n=e.label,a=e.value,c=e.checked,o=e.onChange,l=e.disabled,i=void 0!==l&&l;return r.a.createElement("div",{style:Tn.root},r.a.createElement("input",{style:Pn(i),type:"radio",id:t,value:a,checked:c,disabled:i,onChange:o}),r.a.createElement("label",{htmlFor:t,style:Cn({},Ue,{},Tn.label)},n))};function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Rn={root:{padding:"0.5em 0"},radios:{display:"flex",padding:"0 0 0 .5em"}},Ln=function(e){var t=e.onSelect,n=e.selected,a=(e.disabled,Object.keys(s).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s[e],{disabled:!1})})));return r.a.createElement("div",{style:Rn.root},r.a.createElement(Je,{content:"Select Time Increment"}),r.a.createElement("div",{style:Rn.radios},a.map((function(e,a){return r.a.createElement(In,{name:e.value,label:e.label,value:e.value,checked:n===e.value,onChange:t,disabled:e.disabled,key:"lr=".concat(a)})}))))},Mn={root:{width:"48em",display:"inline-flex",justifyContent:"space-between",flexWrap:"wrap",padding:"0 .5em"},dateDisplay:{display:"inline-flex",alignItems:"baseline"}},zn=function(e){var t=e.startTime,n=e.endTime,a=e.timeZone,c=function(e){return K.a.tz(e,a).format("ddd, MMM Do YYYY, h:mm A")};return r.a.createElement("div",{style:Mn.root},r.a.createElement("div",null,r.a.createElement("div",{style:Mn.dateDisplay},r.a.createElement(Je,{content:"Start Time"}),r.a.createElement(Et,{content:c(t)}))),r.a.createElement("div",null,r.a.createElement("div",{style:Mn.dateDisplay},r.a.createElement(Je,{content:"End Time"}),r.a.createElement(Et,{content:c(n)}))))},Wn={root:{boxSizing:"border-box",textAlign:"left",background:j,boxShadow:R,padding:"1em",position:"absolute",left:"-1em",top:"-3em",zIndex:2},header:{lineHeight:"2em"},controls:{width:"100%",display:"inline-flex",justifyContent:"space-between",flexWrap:"wrap"},buttons:{width:"18em",display:"flex",justifyContent:"space-between",padding:"0 .5em .5em"},increments:{padding:"0 .5em"}},Bn=function(e){var t=e.setStartTime,n=e.setEndTime,c=e.startTime,o=e.endTime,l=e.projectId,i=e.timeIncrement,u=e.setTimeIncrement,m=e.timeZone,d=void 0===m?"America/Los_Angeles":m,p=function(){return q(K()(),5)},f=function(e){return e.clone().add(1,i)},b=function(e){return e.clone().subtract(1,i)},g=function(e){var t=K()().subtract(7,"days"),n=Object(a.useState)(t.toISOString()),r=Object(Ee.a)(n,2),c=r[0],o=r[1],l=Object(a.useCallback)((function(e){e.preventDefault();var t=JSON.parse(e.data).minDatetime;o(t)}),[]),i="/min_date/".concat(e);return ot(i,l),c}(l);return r.a.createElement("div",{style:Wn.root},r.a.createElement("div",{style:Wn.header},r.a.createElement(se,{content:"Select Date Range"})),r.a.createElement(zn,{startTime:c.toISOString(),endTime:o.toISOString(),timeZone:d}),r.a.createElement("div",{style:Wn.controls},r.a.createElement("div",{style:Wn.buttons},r.a.createElement(Qe,{value:"- ".concat(s[i].label),type:"primary",onClick:function(){var e=b(c);e.isAfter(g)?t(e):t(K.a.tz(g,d))},width:"6em"}),r.a.createElement(Qe,{value:"+ ".concat(s[i].label),type:"primary",onClick:function(){var e=f(c);e.isBefore(o)?t(e):t(o.clone().subtract(1,"day"))},width:"6em"})),r.a.createElement("div",{style:Wn.buttons},r.a.createElement(Qe,{value:"- ".concat(s[i].label),type:"primary",onClick:function(){var e=b(o);e.isAfter(c)?n(e):n(c.clone().add(1,"day"))},width:"6em"}),r.a.createElement(Qe,{value:"+ ".concat(s[i].label),type:"primary",onClick:function(){var e=f(o);e.isBefore(p())?n(e):n(p())},width:"6em"}))),r.a.createElement("div",{style:Wn.increments},r.a.createElement(Ln,{onSelect:function(e){return u(e.target.value)},selected:i}),r.a.createElement(It,{message:"Earliest data currently available is from",isoString:g,timeZone:d})))},Fn=(n(450),{root:{position:"relative",padding:"0 0 1em"},dateRange:{cursor:"pointer"}}),Nn=function(e){var t=e.setStartTime,n=e.setEndTime,c=e.startTime,o=e.endTime,l=e.projectId,i=e.displayDRS,s=e.setDisplayDRS,u=e.initTimeIncrement,m=void 0===u?"day":u,d=e.timeZone,p=void 0===d?"America/Los_Angeles":d,f=Object(a.useState)(m),b=Object(Ee.a)(f,2),g=b[0],y=b[1],v=Object(a.useRef)(null);return lt(v,(function(){return s(!1)})),r.a.createElement("div",{style:Fn.root},i&&r.a.createElement("div",{ref:v},r.a.createElement(Bn,{setStartTime:t,setEndTime:n,startTime:c,endTime:o,projectId:l,timeIncrement:g,setTimeIncrement:y,timeZone:p})),r.a.createElement("div",{onClick:function(){return s(!i)},className:"startAndEndDates",style:Fn.dateRange},r.a.createElement(zn,{startTime:c.toISOString(),endTime:o.toISOString(),timeZone:p})))},Zn={root:{marginBottom:"6em"},controls:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",padding:"0 0 1em"},request:{display:"flex",justifyContent:"flex-end"},include:{display:"flex",flexDirection:"column",alignItems:"flex-end"},getData:{margin:".5em 0 0 1.5em"}},Gn=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=W(n,"historical",c),l=q(K()(),5),i=l.clone().subtract(7,"days"),s=ct(c,o),u=Object(Ee.a)(s,2),m=u[0],d=u[1],p=Object(a.useState)(i),f=Object(Ee.a)(p,2),b=f[0],g=f[1],y=Object(a.useState)(l),v=Object(Ee.a)(y,2),h=v[0],E=v[1],O=Object(a.useState)(!1),j=Object(Ee.a)(O,2),w=j[0],S=j[1],x=Object(a.useState)(!1),k=Object(Ee.a)(x,2),D=k[0],C=k[1],P=Object(a.useState)(null),T=Object(Ee.a)(P,2),I=T[0],A=T[1],R=Object(a.useState)(!1),L=Object(Ee.a)(R,2),M=L[0],B=L[1],F=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,n,a,r,o,l;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.toISOString(),n=h.toISOString(),a={method:"GET",headers:z},e.prev=3,C(!0),e.next=7,Y("/historical/".concat(c,"/").concat(t,"/").concat(n,"/").concat(M),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,l=o.timeseries,A(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("There was an error retrieving historical data for your project: ".concat(e.t0));case 18:return e.prev=18,C(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))),[b,h,M,c]);return Object(a.useEffect)((function(){F()}),[]),r.a.createElement(gt,{title:m?"".concat(m.name," - Historical"):"Project Historical Analysis",baseUrl:o,id:c},(D||d)&&r.a.createElement(tt,{message:""}),I&&m&&r.a.createElement("div",{style:Zn.root},r.a.createElement(xt,{headerContent:"Historical Data by Date Range"},r.a.createElement(kn,{message:"Data from",startDate:I[0].timestamp,endDate:I[I.length-1].timestamp,timeZone:m.timeZone}),r.a.createElement(rn,{barKey:"lmp",data:I,timeZone:m.timeZone,aspect:3.8,useBrush:!0})),r.a.createElement("div",{style:Zn.controls},r.a.createElement(Nn,{setStartTime:g,setEndTime:E,startTime:b,endTime:h,projectId:c,timeZone:m.timeZone,displayDRS:w,setDisplayDRS:S}),r.a.createElement("div",{style:Zn.request},r.a.createElement("div",{style:Zn.include},r.a.createElement(Sn,{name:"include-weather",label:"Include Weather",value:!M,checked:M,onChange:function(e){return B("true"===e.target.value)}}),r.a.createElement(Qe,{value:"GET DATA",disabled:D,type:"success",onClick:F,overrideStyles:Zn.button}))))))},_n=(n(451),function(e){var t=e.path,n=e.label,c=Object(a.useRef)(null);return function(e,t){var n=function(n){e.current&&e.current.contains(n.target)&&e.current.classList.add(t)},r=function(){e.current&&e.current.classList.remove(t)};Object(a.useEffect)((function(){return document.addEventListener("mousedown",n),document.addEventListener("mouseup",r),function(){document.removeEventListener("mousedown",n),document.removeEventListener("mouseup",r)}}))}(c,"tabClicked"),r.a.createElement(l.c,{exact:!0,ref:c,to:t,activeClassName:"activeTab",className:"entelxTab"},n)}),Hn={root:{display:"inline-flex",width:"100%",borderBottom:"1px solid ".concat(v),padding:"0 0 2px"}},Un=function(e){var t=e.values;return r.a.createElement("div",{style:Hn.root},t.map((function(e,t){return r.a.createElement(_n,{path:e.path,label:e.label,key:"tab-".concat(e.label,"-").concat(t)})})))},Jn=n(60),Yn=n.n(Jn),$n=n(220),Kn=n.n($n),qn=(n(121),{root:{textAlign:"left",padding:"1em 0"}}),Vn=function(){var e=it(Kn.a);return r.a.createElement("div",{style:qn.root,className:"text-page"},r.a.createElement(Yn.a,{source:e}))},Xn={root:{padding:"2em 0",marginBottom:"5em"},specs:{padding:"0 2em"},columns:{display:"flex",flexDirection:"rows",justifyContent:"space-between",maxWidth:"60em",flexWrap:"wrap",padding:"1em 0 0 1em"},dateControl:{padding:"0 0 0 1em"},controls:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",padding:"0 0 1em"}},Qn=function(e){var t=e.match,n=e.projectId,c=t.url,o=W(c,"insights",n),l=q(K()(),5),i=l.clone().subtract(3,"month"),s=ct(n,o),u=Object(Ee.a)(s,1)[0],m=Object(a.useState)(i),d=Object(Ee.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(l),g=Object(Ee.a)(b,2),y=g[0],v=g[1],h=Object(a.useState)(!1),E=Object(Ee.a)(h,2),O=E[0],j=E[1],w=Object(a.useState)(!1),S=Object(Ee.a)(w,2),x=S[0],k=S[1],D=Object(a.useState)(null),C=Object(Ee.a)(D,2),P=C[0],T=C[1],I=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,a,r,c,o,l;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.toISOString(),a=y.toISOString(),r={method:"GET",headers:z},k(!0),e.prev=4,e.next=7,Y("/aggregates/".concat(n,"/").concat(t,"/").concat(a),r);case 7:return c=e.sent,e.next=10,c.json();case 10:o=e.sent,l=o.aggregate,T(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("There was an error getting project insight data: ".concat(e.t0));case 18:return e.prev=18,k(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),[p,y,n]);return Object(a.useEffect)((function(){I()}),[]),r.a.createElement("div",{style:Xn.root},r.a.createElement(xt,{headerContent:"Aggregates by Date Range"},r.a.createElement("div",{style:Xn.columns},r.a.createElement(xt,{headerContent:"Values for Potential Charging"},r.a.createElement("div",{style:Xn.specs},r.a.createElement(Je,{content:"Number of Events"}),r.a.createElement(Et,{content:"".concat(P?P.belowN:0)}),r.a.createElement(Je,{content:"Proportion of Events"}),r.a.createElement(Et,{content:"".concat(P?H(P.belowPercentage):"--%")}),r.a.createElement(Je,{content:"Average Price"}),r.a.createElement(Et,{content:"".concat(P?_(P.belowMean):"$-.--")}),r.a.createElement(Je,{content:"Lowest Price"}),r.a.createElement(Et,{content:"".concat(P?_(P.belowMin):"$-.--")}),r.a.createElement(Je,{content:"Highest Price"}),r.a.createElement(Et,{content:"".concat(P?_(P.belowMax):"$-.--")}),r.a.createElement(Je,{content:"Standard Deviation"}),r.a.createElement(Et,{content:"".concat(P?_(P.belowStdDev):"$-.--")}))),r.a.createElement(xt,{headerContent:"Values for Potential Discharging"},r.a.createElement("div",{style:Xn.specs},r.a.createElement(Je,{content:"Number of Events"}),r.a.createElement(Et,{content:"".concat(P?P.aboveN:0)}),r.a.createElement(Je,{content:"Proportion of Events"}),r.a.createElement(Et,{content:"".concat(P?H(P.abovePercentage):"--%")}),r.a.createElement(Je,{content:"Average Price"}),r.a.createElement(Et,{content:"".concat(P?_(P.aboveMean):"$-.--")}),r.a.createElement(Je,{content:"Lowest Price"}),r.a.createElement(Et,{content:"".concat(P?_(P.aboveMin):"$-.--")}),r.a.createElement(Je,{content:"Highest Price"}),r.a.createElement(Et,{content:"".concat(P?_(P.aboveMax):"$-.--")}),r.a.createElement(Je,{content:"Standard Deviation"}),r.a.createElement(Et,{content:"".concat(P?_(P.aboveStdDev):"$-.--")}))))),r.a.createElement("div",{style:Xn.controls},u&&r.a.createElement(Nn,{setStartTime:f,setEndTime:v,startTime:p,endTime:y,projectId:n,timeZone:u.timeZone,displayDRS:O,setDisplayDRS:j}),r.a.createElement(Qe,{value:"GET AGGREGATES",disabled:x,type:"success",onClick:I})))};n(531);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ta=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},na.root,{height:"".concat(e/t,"px")})},na={root:{position:"relative",width:"100%"},overlay:{background:"rgba(0, 30, 10, .8)",zIndex:3,height:"100%",width:"100%"},message:{color:j,position:"relative",bottom:"28%",textAlign:"center"}},aa=function(e){var t=e.message,n=e.aspect,c=Object(a.useRef)(null),o=function(e){var t=Object(a.useState)(0),n=Object(Ee.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){c(e.current.offsetWidth)}),[c,e]),r}(c);return r.a.createElement("div",{ref:c,style:ta(o,n)},r.a.createElement("div",{style:na.overlay}),r.a.createElement(fe,{height:"7em",className:"sf-spinner"}),r.a.createElement("div",{style:na.message},t))};function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ca={root:{padding:"1em 0"},controls:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",padding:"1em 0 0"}},oa=function(e){var t=e.project,n=e.slice,c=e.buttonLabel,o=q(K()(),5),l=o.clone().subtract(3,"month"),i=t.id,s=t.timeZone,m=Object(a.useState)(l),d=Object(Ee.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(o),g=Object(Ee.a)(b,2),y=g[0],v=g[1],h=Object(a.useState)(!1),E=Object(Ee.a)(h,2),O=E[0],j=E[1],w=Object(a.useState)(!1),S=Object(Ee.a)(w,2),x=S[0],k=S[1],D=Object(a.useState)(null),C=Object(Ee.a)(D,2),P=C[0],T=C[1],I=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,a,r,c,o,l;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.toISOString(),a=y.toISOString(),r={method:"GET",headers:z},k(!0),e.prev=4,e.next=7,Y("/price_ranges_by_slice/".concat(i,"/").concat(t,"/").concat(a,"/").concat(n),r);case 7:return c=e.sent,e.next=10,c.json();case 10:o=e.sent,l=o.priceRangesBySlice,T(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("There was an error getting project insight data: ".concat(e.t0));case 18:return e.prev=18,k(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),[p,y,i,n]);Object(a.useEffect)((function(){I()}),[]);var A=P&&Object.keys(P).filter((function(e){return"belowStdDev"!==e&&"aboveStdDev"!==e})).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},P[e],{label:X(n)(e)})})),R=u[n].label;return r.a.createElement("div",{style:ca.root},t&&A?r.a.createElement(bn,{data:A,dataConfig:te,timeZone:t.timeZone,aspect:4}):r.a.createElement(aa,{message:"Loading Price Ranges by ".concat(R,"..."),aspect:4}),r.a.createElement("div",{style:ca.controls},t&&r.a.createElement(Nn,{setStartTime:f,setEndTime:v,startTime:p,endTime:y,projectId:i,timeZone:s,displayDRS:O,setDisplayDRS:j}),r.a.createElement(Qe,{value:c,disabled:x,type:"success",onClick:I})))},la={root:{padding:"2em 0",marginBottom:"3em"},chart:{padding:"1em 0"},deviation:{padding:"0 1em 0",display:"flex",justifyContent:"space-between"},dateControl:{padding:"0 0 0 1em"},controls:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",padding:"0 0 1em"}},ia=function(e){var t=e.match,n=e.projectId,c=t.url,o=W(c,"insights",n),l=q(K()(),5),i=l.clone().subtract(3,"month"),s=ct(n,o),u=Object(Ee.a)(s,1)[0],m=Object(a.useState)(i),d=Object(Ee.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(l),g=Object(Ee.a)(b,2),y=g[0],v=g[1],h=Object(a.useState)(!1),E=Object(Ee.a)(h,2),O=E[0],j=E[1],w=Object(a.useState)(!1),S=Object(Ee.a)(w,2),x=S[0],k=S[1],D=Object(a.useState)(null),C=Object(Ee.a)(D,2),P=C[0],T=C[1],I=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,a,r,c,o,l;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.toISOString(),a=y.toISOString(),r={method:"GET",headers:z},k(!0),e.prev=4,e.next=7,Y("/price_ranges/".concat(n,"/").concat(t,"/").concat(a),r);case 7:return c=e.sent,e.next=10,c.json();case 10:o=e.sent,l=o.priceRangeData,T(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("There was an error getting project insight data: ".concat(e.t0));case 18:return e.prev=18,k(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),[p,y,n]);Object(a.useEffect)((function(){I()}),[]);var A=P&&Object.keys(P).filter((function(e){return"belowStdDev"!==e&&"aboveStdDev"!==e})).map((function(e){return{value:P[e],color:te[e].color,label:te[e].label}}));return r.a.createElement("div",{style:la.root},r.a.createElement(xt,{headerContent:"Overall Price Ranges"},r.a.createElement("div",{style:la.chart},u&&A?r.a.createElement(dn,{data:A,timeZone:u.timeZone,aspect:4},r.a.createElement(_t.a,{yAxisId:"left",dataKey:"value",fill:"#000"},A.map((function(e,t){return r.a.createElement(_t.e,{fill:e.color,key:"bar-".concat(t)})})))):r.a.createElement(aa,{message:"Loading Price Ranges...",aspect:4}))),r.a.createElement("div",{style:la.controls},u&&r.a.createElement(Nn,{setStartTime:f,setEndTime:v,startTime:p,endTime:y,projectId:n,timeZone:u.timeZone,displayDRS:O,setDisplayDRS:j}),r.a.createElement(Qe,{value:"GET PRICE RANGES",disabled:x,type:"success",onClick:I})),r.a.createElement(xt,{headerContent:"Deviation Values"},r.a.createElement("div",{style:la.deviation},r.a.createElement("div",null,r.a.createElement(Je,{content:"Standard Deviation for Charge Events"}),r.a.createElement(Et,{content:"".concat(P?_(P.belowStdDev):"$-.--")})),r.a.createElement("div",null,r.a.createElement(Je,{content:"Standard Deviation for Discharge Events"}),r.a.createElement(Et,{content:"".concat(P?_(P.aboveStdDev):"$-.--")})))),r.a.createElement(xt,{headerContent:"Price Ranges by Day"},u&&r.a.createElement(oa,{project:u,slice:"day",buttonLabel:"GET RANGES BY DAY"})),r.a.createElement(xt,{headerContent:"Price Ranges by Hour"},u&&r.a.createElement(oa,{project:u,slice:"hour",buttonLabel:"GET RANGES BY HOUR"})))},sa=function(e){var t=e.match,n=t.url,a=t.path,c=t.params.projectId,o=W(n,"insights",c),l=ct(c,o),s=Object(Ee.a)(l,1)[0],u=[{path:n,label:"Overview"},{path:"".concat(n,"/aggregates"),label:"Aggregates"},{path:"".concat(n,"/price_ranges"),label:"Price Ranges"}];return r.a.createElement(gt,{title:s?"".concat(s.name," - Insights"):"Project Data Insights",baseUrl:o,id:c},r.a.createElement(Un,{values:u}),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"".concat(a,"/"),render:function(e){var t=e.match;return r.a.createElement(Vn,{match:t,projectId:c})}}),r.a.createElement(i.a,{path:"".concat(a,"/aggregates"),render:function(e){var t=e.match;return r.a.createElement(Qn,{match:t,projectId:c})}}),r.a.createElement(i.a,{path:"".concat(a,"/price_ranges"),render:function(e){var t=e.match;return r.a.createElement(ia,{match:t,projectId:c})}})))};function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ma=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},da.root,{width:e})},da={root:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:".5em 0",textAlign:"left"},buttons:{display:"flex",justifyContent:"space-between",padding:"0 0 0 .5em"}},pa=function(e){var t=e.value,n=e.format,a=e.title,c=e.onIncrement,o=e.onDecrement,l=e.onIncrementLabel,i=e.onDecrementLabel,s=e.disabled,u=void 0!==s&&s,m=e.width,d=void 0===m?"16em":m;return r.a.createElement("div",{style:ma(d)},r.a.createElement(Je,{content:a}),r.a.createElement(Et,{content:n(t)}),r.a.createElement("div",{style:da.buttons},r.a.createElement(Qe,{value:"- ".concat(i),disabled:u,type:"primary",onClick:o}),r.a.createElement(Qe,{value:"+ ".concat(l),disabled:u,type:"primary",onClick:c})))},fa={specs:{padding:"0 2em"},columns:{display:"flex",flexDirection:"rows",justifyContent:"space-between",maxWidth:"60em"},inclusion:{display:"flex",flexDirection:"column"},getData:{margin:".5em 0 0 1.5em"},minDate:{padding:"0 0 1em"},revenueWrapper:{display:"flex",justifyContent:"space-between"},controls:{display:"flex",width:"45em",justifyContent:"space-between"},revenue:{padding:".5em 1em"},revenueDisplay:{display:"inline-flex",alignItems:"baseline"},thresholds:{lineHeight:"1.5em",fontStyle:"italic",width:"15em",padding:".5em"},button:{flex:0},surface:{display:"flex",justifyContent:"space-between",padding:"1em"}},ba=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=W(n,"dev",c),l=K()().subtract(7,"days"),i=l.clone().subtract(7,"days"),s=ct(c,o),u=Object(Ee.a)(s,2),m=u[0],d=u[1],p=Object(a.useState)(i),f=Object(Ee.a)(p,1)[0],b=Object(a.useState)(l),g=Object(Ee.a)(b,1)[0],y=Object(a.useState)(0),v=Object(Ee.a)(y,2),h=v[0],E=v[1],O=Object(a.useState)(0),j=Object(Ee.a)(O,2),w=j[0],S=j[1],x=Object(a.useState)(0),k=Object(Ee.a)(x,2),D=k[0],C=k[1],P=Object(a.useState)(0),T=Object(Ee.a)(P,2),I=T[0],A=T[1],R=Object(a.useState)(.1),L=Object(Ee.a)(R,1)[0],M=Object(a.useState)(!1),B=Object(Ee.a)(M,2),F=B[0],N=B[1],G=Object(a.useState)(null),H=Object(Ee.a)(G,2),U=H[0],J=H[1],$=Object(a.useState)(null),q=Object(Ee.a)($,2),V=q[0],X=q[1],Q=Object(a.useState)(0),ee=Object(Ee.a)(Q,2),te=ee[0],ne=ee[1],ae=function(e,t){return e+t},re=function(e,t){return e-t},ce=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,n,a,r,o;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.toISOString(),n=g.toISOString(),a={method:"GET",headers:z},N(!0),e.prev=4,e.next=7,Y("/revenue_surface/".concat(c,"/").concat(t,"/").concat(n),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,J(o.revenueSurface),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("There was an error calculating revenue surface data for your project: ".concat(e.t0));case 17:return e.prev=17,N(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),[f,g,c]),oe=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,n,a,r,o,l,i,s,u,m;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.toISOString(),n=g.toISOString(),a={method:"GET",headers:z},N(!0),e.prev=4,e.next=7,Y("/insights/".concat(c,"/").concat(t,"/").concat(n),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,l=o.aggregate,X(l),i=l.belowMean,s=l.belowStdDev,u=l.aboveMean,m=l.aboveStdDev,E(i),S(s),C(u),A(m),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.error("There was an error retrieving your project: ".concat(e.t0));case 23:return e.prev=23,N(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,20,23,26]])}))),[f,g,c]),le=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("project:",m),t={method:"GET",headers:z},N(!0),e.prev=3,e.next=6,Y("/test/".concat(m.nodeId),t);case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,console.log("test response:",a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("There was an error running the test function: ".concat(e.t0));case 16:return e.prev=16,N(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])}))),[m]),ie=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:z},N(!0),e.prev=2,e.next=5,Y("/revenue_by_thresholds/".concat(c,"/").concat(h,"/").concat(D),t);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,ne(a.revenue),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("There was an error retrieving revenue data: ".concat(e.t0));case 15:return e.prev=15,N(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),[h,D,c]);return Object(a.useEffect)((function(){oe()}),[]),r.a.createElement(gt,{title:"Development Platform",baseUrl:o,id:c},(F||d)&&r.a.createElement(tt,{message:""}),r.a.createElement(xt,{headerContent:"Test Charge and Discharge Thresholds"},V&&r.a.createElement("div",{style:fa.revenue},r.a.createElement("div",{style:fa.revenueDisplay},r.a.createElement(Je,{content:"7 Day Revenue for Selected Thresholds:"}),r.a.createElement(Et,{content:"".concat(te?_(te):"$-.--")})),r.a.createElement("div",{style:fa.revenueWrapper},r.a.createElement("div",{style:fa.controls},r.a.createElement("div",null,r.a.createElement(pa,{value:h||m&&m.chargeThreshold,format:_,title:"Charge Threshold",disabled:m&&!m.chargeThreshold,onIncrement:function(){var e=ae(h,w*L);E(e)},onDecrement:function(){var e=re(h,w*L);E(e)},onIncrementLabel:"".concat(L,"\u03c3"),onDecrementLabel:"".concat(L,"\u03c3"),width:"18em"}),r.a.createElement("p",{style:fa.thresholds},"Charge Threshold is ".concat(Z((V.belowMean-h)/V.belowStdDev,2)," x \u03c3 below the mean"))),r.a.createElement("div",null,r.a.createElement(pa,{value:D||m&&m.dischargeThreshold,format:_,title:"Discharge Threshold",disabled:m&&!m.dischargeThreshold,onIncrement:function(){var e=ae(D,I*L);C(e)},onDecrement:function(){var e=re(D,I*L);C(e)},onIncrementLabel:"".concat(L,"\u03c3"),onDecrementLabel:"".concat(L,"\u03c3"),width:"18em"}),r.a.createElement("p",{style:fa.thresholds},"Discharge Threshold is ".concat(Z((D-V.aboveMean)/V.aboveStdDev,2)," x \u03c3 above the mean")))),r.a.createElement("div",{style:fa.button},r.a.createElement(Qe,{value:"GET REVENUE",disabled:F,type:"success",onClick:ie}))))),r.a.createElement(xt,{headerContent:"Revenue Surface"},r.a.createElement("div",{style:fa.surface},U?r.a.createElement(sn,{data:U}):r.a.createElement("div",null),r.a.createElement("div",{style:fa.button},r.a.createElement(Qe,{value:"SHOW CHART",disabled:F,type:"success",onClick:ce}))),r.a.createElement("div",{style:fa.button},r.a.createElement(Qe,{value:"TEST",disabled:F,type:"danger",onClick:le}))))},ga=function(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{exact:!0,path:"".concat(t.path,"/create_project"),component:vt}),r.a.createElement(i.a,{path:"".concat(t.path,"/project/:projectId"),component:jt}),r.a.createElement(i.a,{path:"".concat(t.path,"/roi/:projectId"),component:wt}),r.a.createElement(i.a,{path:"".concat(t.path,"/dashboard/:projectId"),component:hn}),r.a.createElement(i.a,{path:"".concat(t.path,"/historical/:projectId"),component:Gn}),r.a.createElement(i.a,{path:"".concat(t.path,"/insights/:projectId"),component:sa}),r.a.createElement(i.a,{path:"".concat(t.path,"/dev/:projectId"),component:ba}))},ya={root:{textAlign:"left",padding:"1em 3em"},list:{lineHeight:"3em",padding:"1em 0 1em 1.5em",listStyle:"disc"},link:{textAlign:"right",padding:"0 2em"},button:{padding:".8em"},existing:{lineHeight:"3em"}},va=function(e){var t=e.match,n=Object(a.useState)(null),c=Object(Ee.a)(n,2),o=c[0],l=c[1],i=Object(a.useCallback)(Object(he.a)(ve.a.mark((function e(){var t,n,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:z},e.prev=1,e.next=4,Y("/projects",t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,l(a||null),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("There was an error retrieving your project: ".concat(e.t0));case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[1,11,14,16]])}))),[]),s=t.isExact;return Object(a.useEffect)((function(){i()}),[s,i]),r.a.createElement(Te,{title:"Demo"},s&&r.a.createElement("div",{style:ya.root},r.a.createElement(le,{content:"Evaluate Project Locations"}),r.a.createElement("ul",{style:ya.list},r.a.createElement("li",null,r.a.createElement("p",null,"Coming Soon!"))),r.a.createElement(le,{content:"Build a Project"}),r.a.createElement("ul",{style:ya.list},r.a.createElement("li",null,r.a.createElement("p",null,"Specify the project location either by clicking on the map or entering an address.")),r.a.createElement("li",null,r.a.createElement("p",null,"Specify the power, energy capacity, and round trip efficiency of your battery or other storage technology.")),r.a.createElement("li",null,r.a.createElement("p",null,"Create the project to get access to the Project Dashboard, Historical data visualizer, and Insights page for requesting statistical data about prices on the selected node."))),r.a.createElement("div",{style:ya.link},r.a.createElement(me,{to:"/demo/create_project"},r.a.createElement(Qe,{value:"CREATE PROJECT",type:"primary",overrideStyles:ya.button}))),o&&r.a.createElement("div",{style:ya.existing},r.a.createElement("p",null,"The Entelx demo system is currently configured to allow just one project at a time.  Take a tour of one that has already been created."),r.a.createElement("div",{style:ya.link},r.a.createElement(me,{to:"/demo/project/".concat(o.id)},r.a.createElement(Qe,{value:"GO TO EXISTING PROJECT",type:"primary",overrideStyles:ya.button}))))),r.a.createElement(ga,{match:t}))},ha=n(221),Ea=n.n(ha),Oa={root:{padding:"0 1em",textAlign:"left"}},ja=function(){var e=it(Ea.a);return r.a.createElement(Te,{title:"About"},r.a.createElement("div",{style:Oa.root,className:"text-page"},r.a.createElement(le,{content:"Entelx"}),r.a.createElement(Yn.a,{source:e})))},wa=n(222),Sa=n.n(wa),xa={root:{padding:"0 1em",textAlign:"left"}},ka=function(){var e=it(Sa.a);return r.a.createElement(Te,{title:"Contact"},r.a.createElement("div",{style:xa.root,className:"text-page"},r.a.createElement(Yn.a,{source:e})))},Da=(n(532),function(){return r.a.createElement("div",{className:"header-nav"},r.a.createElement("nav",{className:"nav"},r.a.createElement(me,{to:"/"},"Home"),r.a.createElement(me,{to:"/demo"},"Demo"),r.a.createElement(me,{to:"/login",disabled:!0},"Log In")))}),Ca=function(){var e=Object(a.useState)(!1),t=Object(Ee.a)(e,2),n=t[0],c=t[1];return r.a.createElement(gt,{title:"System Administration"},n&&r.a.createElement(tt,{message:""}),r.a.createElement("p",null,"One Time Request"),r.a.createElement(Qe,{value:"EXECUTE",type:"danger",onClick:function(){c(!0);var e=JSON.stringify({keys:[]});Y("",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}).then((function(e){console.log("res at onRequest",e),c(!1)})).catch((function(e){c(!1),console.error("There was an error writing to ".concat("",": ").concat(e))}))}}))},Pa=(n(533),{root:{fontFamily:"Montserrat, Helvetica, sans-serif",fontWeight:200,fontSize:14,textAlign:"center",overflow:"hidden",display:"flex",flexDirection:"column",minHeight:"100vh"}}),Ta=function(){return r.a.createElement("div",{style:Pa.root},r.a.createElement(Da,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{exact:!0,path:"/",component:ge}),r.a.createElement(i.a,{path:"/demo",component:va}),r.a.createElement(i.a,{path:"/about",component:ja}),r.a.createElement(i.a,{path:"/contact",component:ka}),r.a.createElement(i.a,{path:"/system_admin",component:Ca})))},Ia=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Aa(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(l.a,null,r.a.createElement(Ta,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ia?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Aa(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Aa(e)}))}}()}},[[256,1,2]]]);
//# sourceMappingURL=main.33e514be.chunk.js.map