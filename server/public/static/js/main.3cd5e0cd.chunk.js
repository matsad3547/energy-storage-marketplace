(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{207:function(e,t,n){},220:function(e,t,n){e.exports=n.p+"static/media/about.c3f1acfd.md"},221:function(e,t,n){e.exports=n.p+"static/media/contact.93d6a9d3.md"},257:function(e,t,n){e.exports=n(531)},267:function(e,t,n){},268:function(e,t,n){},449:function(e,t,n){},529:function(e,t,n){},530:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(84),o=n.n(c),l=n(43),i=n(22),s="1.333em",u="1.1em",m="#363D38",d="#e2e2e2",p="#A0A0A0",f="#838383",b="#fff",g="#90DDAA",y="#23B253",h="#046D27",v="#01BAEF",E="#082656",O="#FFE659",j="#FFD800",w=["#F71735","#91A6FF","#FF88DC","#FAFF7F","#17BEBB","#CD5334","#004E64","#9FFFCB","#7AE582","#007EA7","#FF9F1C","#380036","#01BAEF","#26081C","#192BC2","#003459","#0E0E52","#FDE74C"],x={caiso:"#E28413",ercot:"#F56416",3:"#DD4B1A",4:"#EF271B",5:"#EA1744"},S={primary:{color:b,background:E},success:{color:b,background:y},danger:{color:b,background:"#CC333F"}},k="0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)",C=["#861388","#083D77","#345995","#7067CF","#89A6FB","#78C3FB","#03CEA4"],P={fontSize:"3.157em"},D=function(e){var t=e.content;return r.a.createElement("h1",{style:P},t)},T={fontSize:"2.369em"},I=function(e){var t=e.content;return r.a.createElement("h2",{style:T},t)},A={fontSize:"1.777em"},L=function(e){var t=e.content;return r.a.createElement("h3",{style:A},t)},z={fontSize:s},M=function(e){var t=e.content;return r.a.createElement("h4",{style:z},t)},R=function(e){return{textDecoration:"none",color:e?p:m,pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"}},F=function(e){var t=e.to,n=e.children,a=e.disabled,c=void 0!==a&&a;return r.a.createElement(l.b,{to:t,style:R(c)},n)},W={root:{width:"100%",display:"inline-flex",justifyContent:"space-around",margin:"2em 0 4em"}},N=function(){return r.a.createElement("div",{style:W.root},r.a.createElement(F,{to:"/about"},r.a.createElement(M,{content:"About"})),r.a.createElement(F,{to:"/contact"},r.a.createElement(M,{content:"Contact"})))},B=function(e){var t=e.height,n=void 0===t?100:t,a=e.className,c=void 0===a?"company-logo":a;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 210 162",className:c,style:{height:n}},r.a.createElement("g",null,r.a.createElement("polygon",{className:"e",points:"210.08 0 200.9 33.18 139.15 33.18 129.15 62.21 175.13 62.21 165.17 96 119.94 96 109.94 124.61 183.74 124.61 173.94 162 56.94 162 105.94 0 210.08 0"})),r.a.createElement("g",null,r.a.createElement("polygon",{className:"status-top",points:"99.61 0.58 84.81 45.36 57.47 45.36 79 0.58 99.61 0.58"}),r.a.createElement("polygon",{className:"status-middle",points:"54.59 51.52 82.77 51.52 66.15 103.7 29.34 103.7 54.59 51.52"}),r.a.createElement("polygon",{className:"status-bottom",points:"25.97 110.9 63.8 110.9 47.61 162 0 162 25.97 110.9"})))},Z={hour:{label:"Hour",value:"hour"},day:{label:"Day",value:"day"},week:{label:"Week",value:"week"},month:{label:"Month",value:"month"}},H={Accept:"application/json","Content-Type":"application/json"},_={root:{},primary:{background:'url("/images/solarPanels1wo.jpg") no-repeat left top',backgroundSize:"cover",backgroundPosition:"0% 50%",color:"#fff",padding:"0 0 2rem 2rem",height:"36em",display:"grid",gridTemplateRows:"auto 4em 2em",gridRowGap:".6em",justifyContent:"flex-start",justifyItems:"flex-start",alignItems:"flex-end"},secondary:{color:"#fff",background:'url("/images/windTurbines3wo.jpg") no-repeat',backgroundSize:"cover",backgroundPosition:"90% 50%",marginTop:"6em",height:"30em",padding:"2em",display:"grid",alignItems:"flex-end",gridTemplateColumns:"auto 20em"},secondaryText:{textAlign:"right",lineHeight:1.4},banner:{backgroundImage:"linear-gradient(".concat(h,", ").concat(y,")"),color:"#fff",marginTop:"5em",height:"8em",display:"flex",justifyContent:"center",alignItems:"center"},mission:{gridColumn:"leftCol1 / end",gridRowStart:"row4",padding:"1em 3em",color:m,zIndex:2},purpose:{display:"grid",gridTemplateColumns:"auto 80% auto",color:m},text:{padding:".5em",textAlign:"left"},list:{textAlign:"left",padding:"0 2em"},listItem:{padding:".2em 0"},footerLinks:{gridRowStart:"row6"}},G=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:_.root},r.a.createElement("div",{style:_.primary},r.a.createElement(B,{height:"9.5em"}),r.a.createElement(D,{content:"Entelx"}),r.a.createElement(M,{content:"Accelerating Energy Intelligence"})),r.a.createElement("div",{style:_.secondary},r.a.createElement("div",null),r.a.createElement("div",{style:_.secondaryText},r.a.createElement(I,{content:"Renewable energy has arrived..."}),r.a.createElement(I,{content:"But the transition to sustainable energy must move faster"}))),r.a.createElement("div",{style:_.banner},r.a.createElement(I,{content:"".concat("Entelx"," is here to help")})),r.a.createElement("div",{style:_.mission},r.a.createElement(L,{content:"Our mission is to help accelerate the transition to renewable energy by improving the economics of bulk energy storage"})),r.a.createElement("div",{style:_.purpose},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("p",{style:_.text},"Renewable energy has expanded by leaps and bounds in the last decade and is already the lowest cost source of energy in many places in the world.  Unfortunately, most of its natural intermittency is currently handled by fossil fuel energy resources.  Plus the more renewable energy that is deployed in each location, the lower its value becomes."),r.a.createElement("p",{style:_.text},"Energy storage can solve these issues.  Storage provides a market for renewable power that would otherwise be curtailed and storage assets charged from this low-cost power can then profitably undercut the dirtiest fossil fuel generators.  Energy storage is widely seen as essential for renewable energy supplying the majority of energy demand and setting us on the path to a sustainable future."),r.a.createElement("p",{style:_.text},"Entelx"," is accelerating energy intelligence by:"),r.a.createElement("ul",{style:_.list},r.a.createElement("li",{style:_.listItem},"Providing real-time charge and discharge signals that maximize arbitrage value"),r.a.createElement("li",{style:_.listItem},"Locating and evaluating arbitrage opportunities"),r.a.createElement("li",{style:_.listItem},"Estimating storage project ROI"))))),r.a.createElement(N,null))},U=n(13),Y=n.n(U),$=n(18),J=n(2),q=n(10);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={backgroundImage:"linear-gradient(".concat(y,", ").concat(h,")")},Q=function(e){var t=e.addlStyles;return r.a.createElement("div",{style:V({},X,{},t)})};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={root:{display:"grid",gridTemplateColumns:"[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]",gridTemplateRows:"[row1] 5em [ws1] 1em"},placement:{gridColumn:"rightCol / end",gridRowStart:"row1"},background:{clipPath:"polygon(2% 0, 100% 0, 100% 100%, 0 100%)"},text:{zIndex:1,color:b,padding:".5em 3em",justifySelf:"end",alignSelf:"end",background:"transparent"}},ae=function(e){var t=e.title;return r.a.createElement("div",{style:ne.root},r.a.createElement(Q,{addlStyles:te({},ne.placement,{},ne.background)}),r.a.createElement("div",{style:te({},ne.placement,{},ne.text)},r.a.createElement(I,{content:t})))},re={root:{color:m,display:"flex",flexDirection:"column",flex:1},content:{margin:"0 0 auto"}},ce=function(e){var t=e.title,n=e.children;return r.a.createElement("div",{style:re.root},r.a.createElement(ae,{title:t}),r.a.createElement("div",{style:re.content},n),r.a.createElement(N,null))},oe=n(47),le=n.n(oe);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={root:{display:"block",boxSizing:"border-box",textAlign:"justify"}},me=function(e){var t=e.zoom,n=e.center,c=e.style,o=e.children;le.a.accessToken="pk.eyJ1IjoibWF0c2FkIiwiYSI6ImNpdWZyMGp6ZTAwaHkzM21weXJjb3hzOTMifQ.D7oqQqX-t5YlZ5CeOnCVvQ";var l=Object(a.useState)(null),i=Object(J.a)(l,2),s=i[0],u=i[1],m=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=new le.a.Map({container:m.current,style:"mapbox://styles/mapbox/streets-v9",zoom:t,center:n,minZoom:3});return e.on("load",(function(){return u(e)})),function(){return e.remove()}}),[]);var d=r.a.Children.map(o,(function(e){return e&&r.a.cloneElement(e,{map:s})}));return r.a.createElement("div",{style:se({},ue.root,{},c),ref:m},s&&d)},de=n(0),pe=n.n(de),fe=function(e){return e.json()},be=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error("HTTP Error: ".concat(e.status," ").concat(e.statusText));throw t.status=e.statusText,t.response=e,t},ge=function(e,t){return new Promise((function(n,a){return fetch(e,t).then(be).then(n).catch(a)}))},ye=function(e){var t=e.map,n=Object(a.useState)(null),r=Object(J.a)(n,2),c=r[0],o=r[1];Object(a.useEffect)((function(){(function(){var e=Object($.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:H},e.prev=1,e.next=4,ge("/nodes",t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,o(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("there was an error getting nodes: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=new le.a.Popup({closeButton:!1,closeOnClick:!1}),i=Object(a.useCallback)((function(e){t.getCanvas().style.cursor="pointer";for(var n=e.features[0].geometry.coordinates.slice(),a=e.features[0].properties,r=Object.keys(a).reduce((function(e,t,n,r){var c="<tr><td><strong>".concat(function(e){switch(e){case"type":return"Type";case"name":return"Name";case"controlArea":return"Control Area";default:return e}}(t),":</strong></td><td>").concat(a[t],"</td></tr>");c=n<r.length-1?c+"*":c;var o=e.split("*");return[o[0],c,o[1]].join("")}),"<table>*</table>");Math.abs(e.lngLat.lng-n[0])>180;)n[0]+=e.lngLat.lng>n[0]?360:-360;l.setLngLat(n).setHTML(r).addTo(t)}),[t,l]),s=Object(a.useCallback)((function(){t.getCanvas().style.cursor="",l.remove()}),[t,l]),u=Object(a.useCallback)((function(){t.getCanvas().style.cursor="pointer"}),[t]),m=Object(a.useCallback)((function(){t.getCanvas().style.cursor=""}),[t]),d=Object(a.useCallback)((function(e){var n=t.queryRenderedFeatures(e.point,{layers:["clusters"]}),a=n[0].properties.cluster_id;t.getSource("nodes").getClusterExpansionZoom(a,(function(e,a){if(!e){var r=9===a?a+1:a;t.easeTo({center:n[0].geometry.coordinates,zoom:r})}}))}),[t]),p=Object(a.useCallback)((function(){c&&(t.addSource("nodes",{type:"geojson",data:c,cluster:!0,clusterMaxZoom:9,clusterRadius:50}),t.addLayer({id:"clusters",type:"circle",source:"nodes",filter:["has","point_count"],paint:{"circle-color":"rgba(0, 0, 0, .2)","circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-stroke-width":1,"circle-stroke-color":"#000"}}),t.addLayer({id:"cluster-count",type:"symbol",source:"nodes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),t.addLayer({id:"unclustered-nodes",type:"circle",source:"nodes",filter:["!",["has","point_count"]],paint:{"circle-color":["match",["get","controlArea"],"CA",w[0],"PACW",w[1],"PGE",w[2],"PSE",w[3],"NV",w[4],"IPCO",w[5],"PACE",w[6],"APS",w[7],f],"circle-radius":5,"circle-stroke-width":1,"circle-stroke-color":"#000"}}),t.on("mouseenter","clusters",u),t.on("mouseleave","clusters",m),t.on("click","clusters",d),t.on("mouseenter","unclustered-nodes",i),t.on("mouseleave","unclustered-nodes",s))}),[t,c,d,u,m,i,s]),b=Object(a.useCallback)((function(){t.off("mouseenter","clusters",u),t.off("mouseleave","clusters",m),t.off("click","clusters",d),t.off("mouseenter","unclustered-nodes",i),t.off("mouseleave","unclustered-nodes",s)}),[t,d,u,m,i,s]);return Object(a.useEffect)((function(){return p(),b}),[c]),!1};ye.propTypes={map:pe.a.object};var he=ye,ve=function(e){var t=e.map,n=e.lat,r=e.lng,c=e.color,o=void 0===c?v:c;return Object(a.useEffect)((function(){var e=t&&new le.a.Marker({color:o}).setLngLat([r,n]).addTo(t);return function(){return e.remove()}}),[r,n,o,t]),!1};ve.propTypes={map:pe.a.object,lngLat:pe.a.arrayOf(pe.a.number)};var Ee=ve,Oe={caiso:"https://opendata.arcgis.com/datasets/9d1099b016e5482c900d657f06f3ac80_0.geojson?where=ID%20%3D%20'2775'"},je=function(e){var t=e.map,n=e.getLatLng,r=e.iso,c=Object(a.useCallback)((function(e){t.queryRenderedFeatures(e.point)[0].layer.id===r&&n(e.lngLat)}),[t,n,r]),o=Object(a.useCallback)((function(){t.addSource("isos",{type:"geojson",data:Oe[r]}),t.addLayer({id:r,type:"fill",source:"isos",paint:{"fill-color":x[r],"fill-opacity":.3,"fill-outline-color":"#000"}}),n&&t.on("click",r,c)}),[t,n,r,c]),l=Object(a.useCallback)((function(){n&&t.off("click",r,c)}),[t,r,c,n]);return Object(a.useEffect)((function(){return o(),function(){return l()}}),[]),!1};je.propTypes={map:pe.a.object,iso:pe.a.oneOf(Object.keys(Oe)).isRequired,getLatLng:pe.a.func};var we=je,xe={display:"block",padding:".5em 0",fontStyle:"italic",fontSize:u},Se=function(e){var t=e.content;return r.a.createElement("span",{style:xe},t)};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ce=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Pe.input,{width:e,color:t?f:m,cursor:t?"not-allowed":"inherit"})},Pe={root:{display:"block"},input:{margin:"0 .5em 1em",fontSize:u,padding:".5em",background:d,border:"none",borderRadius:10}},De=function(e){var t=e.name,n=e.label,a=e.type,c=void 0===a?"text":a,o=e.placeholder,l=void 0===o?"":o,i=e.value,s=e.inputWidth,u=void 0===s?"auto":s,m=e.unit,d=void 0===m?"":m,p=e.disabled,f=void 0!==p&&p,b=e.min,g=void 0===b?-1e3:b,y=e.max,h=void 0===y?1e3:y,v=e.step,E=void 0===v?1:v,O=e.onChange;return r.a.createElement("div",{style:Pe.root},r.a.createElement("label",{htmlFor:t,style:xe},n),r.a.createElement("input",{style:Ce(u,f),type:c,name:t,placeholder:l,value:i,disabled:f,min:"number"===c?g:void 0,max:"number"===c?h:void 0,step:"number"===c?E:void 0,onChange:function(e){return O(e,t)}}),r.a.createElement("span",null,d))};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ie={root:{MozBorderRadius:10,WebkitBorderRadius:10,borderRadius:10,display:"inline-block",cursor:"pointer",fontSize:"1.3em",textAlign:"center",padding:"1em"}},Ae=function(e){var t=e.value,n=e.type,a=e.onClick,c=e.disabled,o=void 0!==c&&c,l=e.width,i=void 0===l?"6em":l;return r.a.createElement("input",{type:"button",value:t,style:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ie.root,{},S[e],{width:i})}(n),disabled:o,onClick:a})},Le=(n(267),{main:{position:"fixed",right:0,top:0,zIndex:4},overlay:{background:"rgba(0, 30, 10, .8)",zIndex:3,height:"100vh",width:"100vw"},message:{color:b,position:"relative",bottom:"34vh"}}),ze=function(e){var t=e.message;return r.a.createElement("div",{style:Le.main},r.a.createElement("div",{style:Le.overlay}),r.a.createElement(B,{height:"9.5em",className:"spinner"}),r.a.createElement("div",{style:Le.message},t))},Me=(n(268),function(e){return e?"navButton current":"navButton"}),Re={label:{textAlign:"left",listStyle:"none",padding:"1em .5em"},link:{fontSize:"1.2em",textDecoration:"none",color:m}},Fe=function(e){var t=e.baseUrl,n=e.link,a=e.id,c=e.label,o=e.current;return r.a.createElement(l.b,{to:"".concat(t,"/").concat(n,"/").concat(a),style:Re.link},r.a.createElement("li",{className:Me(o),style:Re.label},c))},We=n(67),Ne=n(14),Be=n.n(Ne);var Ze=function(e,t,n){return Be.a.tz(e,t).format(n)},He=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},_e=function(e,t){e.preventDefault(),t(e.target.value)},Ge=function(e,t,n){return n?e.replace("/".concat(t,"/").concat(n),""):e.replace("/".concat(t),"")},Ue=function(e){return"$".concat(He(e,2).toFixed(2))},Ye={position:"absolute",zIndex:2,background:b,width:"13em",padding:".5em 1em",borderRight:"1px solid ".concat(f),boxShadow:k},$e=Object(i.e)((function(e){var t,n,a,c=e.baseUrl,o=e.id,l=e.match,i=(t=l.url,n=c,(a=o)?t.replace("".concat(n,"/"),"").replace("/".concat(a),""):t.replace(n,"")),s=[{link:"project",label:"Project Home",envTest:!0},{link:"dashboard",label:"Project Dashboard",envTest:!0},{link:"historical",label:"Historical",envTest:!0},{link:"insights",label:"Insights",envTest:!0},{link:"dev",label:"Development",envTest:!1}];return r.a.createElement("ul",{style:Ye},s.filter((function(e){return e.envTest})).map((function(e,t){return r.a.createElement(Fe,{key:"nav-button".concat(t),baseUrl:c,link:e.link,id:o,label:e.label,current:i===e.link})})))})),Je={button:{fontSize:"1.5em",padding:".5em",cursor:"pointer"}},qe=function(e){var t=e.baseUrl,n=e.id,c=Object(a.useState)(!1),o=Object(J.a)(c,2),l=o[0],i=o[1],s=Object(a.useRef)(null),u=function(e){s.current&&!s.current.contains(e.target)&&i(!1)};Object(a.useEffect)((function(){return document.addEventListener("mousedown",u),function(){return document.removeEventListener("mousedown",u)}}));return r.a.createElement("div",null,r.a.createElement("span",{className:"fas fa-bars",onClick:function(){return i(!l)},style:Je.button}),l&&r.a.createElement("div",{ref:s},r.a.createElement($e,{baseUrl:t,id:n})))};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe={root:{display:"grid",gridTemplateColumns:"[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]",gridTemplateRows:"[row1] minmax(4em, max-content) [ws1] 3em"},compactRoot:{display:"block",width:"100%",position:"fixed",zIndex:2,top:0,background:"white",boxShadow:k,transition:"all 1s"},placement:{gridColumn:"leftCol / centerMargin",gridRowStart:"row1"},background:{clipPath:"polygon(0 0, 100% 0, 98% 100%, 0 100%)"},items:{display:"inline-flex",justifyContent:"space-between",alignItems:"flex-end",color:b,zIndex:1},compactItems:{display:"inline-flex",justifyContent:"space-between",width:"100%",color:f,alignItems:"baseline"},text:{padding:".5em 2em",alignSelf:"flex-end",background:"transparent"},compactText:{padding:".5em 2em"}},Qe=function(e){var t=e.title,n=e.baseUrl,c=e.id,o=e.showMenu,l=Object(a.useState)(null),i=Object(J.a)(l,2),s=i[0],u=i[1],m=s<0,d=Object(a.useRef)(null),p=Object(a.useCallback)((function(e){if(d.current){var t=d.current.getBoundingClientRect().top;u(t)}}),[]);Object(a.useEffect)((function(){return p(),document.addEventListener("scroll",p),function(){return document.removeEventListener("scroll",p)}}),[p]);var f=m?{height:110}:{height:2},b=m?Xe.compactRoot:Xe.root,g=m?{display:"none"}:Ve({},Xe.background,{},Xe.placement),y=m?Xe.compactItems:Ve({},Xe.placement,{},Xe.items),h=m?Ve({fontSize:s>=-40&&s<0?"".concat(1+.005*s,"em"):s<-40?".8em":"1em"},Xe.compactText):Xe.text;return r.a.createElement("div",null,r.a.createElement("div",{ref:d,style:f}),r.a.createElement("div",{style:b},r.a.createElement(Q,{addlStyles:g}),r.a.createElement("div",{style:y},o&&r.a.createElement(qe,{baseUrl:n,id:c}),r.a.createElement("div",{style:h},r.a.createElement(L,{content:t})))))},et={root:{display:"grid",gridTemplateColumns:"auto 90% auto"}},tt=function(e){var t=e.title,n=e.baseUrl,a=e.id,c=e.children,o=e.showMenu,l=void 0===o||o;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,{title:t,baseUrl:n,id:a,showMenu:l}),r.a.createElement("div",{style:et.root},r.a.createElement("div",null),r.a.createElement("div",null,c)))},nt={root:{display:"flex",boxSizing:"border-box",flexWrap:"wrap",justifyContent:"space-between",color:m,marginBottom:"2em"},form:{display:"block",boxSizing:"border-box",minWidth:"30em",textAlign:"left",flex:"1 1 48%",padding:"0 1em"},subSection:{display:"flex",maxWidth:"30em",justifyContent:"space-between",flexWrap:"wrap",padding:"1em 0"},header:{width:"100%"},label:{fontSize:u,padding:"1em 0"},latLng:{display:"inline-flex",justifyContent:"space-between"},mapContainer:{display:"flex",flexDirection:"column",boxSizing:"border-box",flex:"1 1 48%",padding:"1em",minHeight:"50em"},map:{height:"100%"},button:{display:"flex",width:"100%",padding:"0 1em"}},at=Object(i.e)((function(e){var t=e.match,n=e.history,c=t.url,o=Ge(c,"create_project"),l=Object(a.useState)(38.00002),i=Object(J.a)(l,2),s=i[0],u=i[1],m=Object(a.useState)(-119.00003),d=Object(J.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(""),g=Object(J.a)(b,2),y=g[0],h=g[1],v=Object(a.useState)(2),E=Object(J.a)(v,2),O=E[0],j=E[1],w=Object(a.useState)(1),x=Object(J.a)(w,2),S=x[0],k=x[1],C=Object(a.useState)(.85),P=Object(J.a)(C,2),D=P[0],T=P[1],I=Object(a.useState)(""),A=Object(J.a)(I,2),L=A[0],z=A[1],R=Object(a.useState)(""),F=Object(J.a)(R,2),W=F[0],N=F[1],B=Object(a.useState)("CA"),Z=Object(J.a)(B,2),H=Z[0],_=Z[1],G=Object(a.useState)(""),U=Object(J.a)(G,2),Y=U[0],$=U[1],q=Object(a.useState)(!1),K=Object(J.a)(q,2),V=K[0],X=K[1],Q=Object(a.useState)(!1),ee=Object(J.a)(Q,2),te=ee[0],ne=ee[1];return r.a.createElement(tt,{title:"Create Your Project",baseUrl:o,id:"create_project",showMenu:!1},r.a.createElement("div",{style:nt.root},V&&r.a.createElement(ze,{message:"Building your project..."}),r.a.createElement("div",{style:nt.form},r.a.createElement("div",{style:nt.subSection},r.a.createElement("div",{style:nt.header},r.a.createElement(M,{content:"General"})),r.a.createElement(De,{name:"projectName",label:"Project Name",placeholder:'"My Project"',value:y,inputWidth:"23em",onChange:function(e){return _e(e,h)}}),r.a.createElement(De,{name:"energyCapacity",label:"Project Energy Capacity",type:"number",value:O,inputWidth:"4em",unit:"MWh",min:0,step:.1,onChange:function(e){return _e(e,j)}}),r.a.createElement(De,{name:"powerCapacity",label:"Project Power Capacity",type:"number",value:S,inputWidth:"4em",unit:"MW",min:0,step:.1,onChange:function(e){return _e(e,k)}}),r.a.createElement(De,{name:"rte",label:"Round Trip Efficiency",type:"number",value:He(100*D,1),inputWidth:"2.5em",unit:"%",min:0,max:99,step:1,onChange:function(e){e.preventDefault(),T(e.target.value/100)}})),r.a.createElement("div",{style:nt.subSection},r.a.createElement("div",{style:nt.header},r.a.createElement(M,{content:"Location"}),r.a.createElement("p",{style:nt.label},"Enter an address or pick a location on the map")),r.a.createElement(De,{name:"address",label:"Address",placeholder:'"123 Main St. Ste 456"',value:L,inputWidth:"23em",onChange:function(e){return _e(e,z)}}),r.a.createElement(De,{name:"city",label:"City",placeholder:'"Los Angeles"',value:W,inputWidth:"18em",onChange:function(e){return _e(e,N)}}),r.a.createElement(De,{name:"state",label:"State",value:H,inputWidth:"5em",onChange:_,disabled:!0}),r.a.createElement(De,{name:"zip",label:"Zip Code",placeholder:'"90001"',value:Y,inputWidth:"10em",onChange:function(e){return _e(e,$)}}),r.a.createElement("div",{style:nt.latLng},r.a.createElement(De,{name:"lat",label:"Latitude",type:"number",value:s,inputWidth:"6em",disabled:!0}),r.a.createElement(De,{name:"lng",label:"Longitude",type:"number",value:p,inputWidth:"6em",disabled:!0})))),r.a.createElement("div",{style:nt.mapContainer},r.a.createElement(me,{center:[p,s],zoom:5,style:nt.map},r.a.createElement(we,{iso:"caiso",getLatLng:function(e){var t=e.lat,n=e.lng;u(He(t,5)),f(He(n,5)),ne(!0)}}),r.a.createElement(he,null),te&&r.a.createElement(Ee,{lat:s,lng:p}))),r.a.createElement("div",{style:nt.button},r.a.createElement(Ae,{value:"SUBMIT",type:"success",onClick:function(){X(!0);var e=JSON.stringify({name:y,address:L,city:W,state:H,power:S,energy:O,lat:s,lng:p,rte:D,type:t.url.includes("demo")?"demo":"test"});ge("/project",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}).then(fe).then((function(e){X(!1),n.push("".concat(o,"/project/").concat(e.id))})).catch((function(e){X(!1),function(e){console.error("There was an error creating your project: ".concat(e))}(e)}))}}))))})),rt={fontSize:"1.2em",padding:"0 0 .7em .5em",fontStyle:"normal"},ct=function(e){var t=e.content;return r.a.createElement("p",{style:rt},t)},ot=function(e){var t=Object(a.useState)(null),n=Object(J.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),l=Object(J.a)(o,2),i=l[0],s=l[1],u=Object(a.useCallback)(Object($.a)(Y.a.mark((function t(){var n,a,r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),n={method:"GET",headers:H},t.prev=2,t.next=5,ge("/project/".concat(e),n);case 5:return a=t.sent,t.next=8,a.json();case 8:r=t.sent,c(r),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("There was an error retrieving your project: ".concat(t.t0));case 15:return t.prev=15,s(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))),[e]);return Object(a.useEffect)((function(){u()}),[u]),[r,i]},lt=function(e,t){return Object(a.useEffect)((function(){var n=new EventSource(e),a=function(e){return console.log("ping: ".concat(JSON.parse(e.data).time))},r=function(t){return console.error("There was an error getting data from event source ".concat(e,":"),t)};return n.addEventListener("message",t),n.addEventListener("ping",a),n.addEventListener("error",r),function(){n.removeEventListener("message",t),n.removeEventListener("ping",a),n.removeEventListener("error",r),console.log("closing sse connection..."),n.close()}}),[e,t])},it=function(e){var t=Object(a.useState)(""),n=Object(J.a)(t,2),r=n[0],c=n[1],o=Object(a.useCallback)(Object($.a)(Y.a.mark((function t(){var n,a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.text();case 6:a=t.sent,c(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("There was an error fetching markdown from ".concat(e,":"),t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e]);return Object(a.useEffect)((function(){o()}),[o]),r},st={root:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},project:{display:"flex",flexDirection:"column",textAlign:"left",flex:"1 1 48%"},header:{padding:"0 0 2em"},specs:{padding:"0 1em 2em"},latLng:{display:"inline-flex",alignItems:"baseline",justifyContent:"space-between",width:"24em"},button:{padding:"0 1em 2em"},map:{height:"100%"},mapContainer:{display:"flex",flexDirection:"column",boxSizing:"border-box",height:"30em",flex:"1 1 48%"}},ut=Object(i.e)((function(e){var t=e.match,n=e.history,c=t.url,o=t.params.projectId,l=Object(a.useState)(!1),i=Object(J.a)(l,2),s=i[0],u=i[1],m=ot(o),d=Object(J.a)(m,2),p=d[0],f=d[1],b=Ge(c,"project",o);return r.a.createElement(tt,{title:p?"".concat(p.name," - Home"):"Project Home",baseUrl:b,id:o},r.a.createElement("div",{style:st.root},(s||f)&&r.a.createElement(ze,{message:""}),r.a.createElement("div",{style:st.project},r.a.createElement("div",{style:st.header},r.a.createElement(M,{content:"Project Specifications"})),p&&r.a.createElement("div",{style:st.specs},r.a.createElement(Se,{content:"Power"}),r.a.createElement(ct,{content:"".concat(p.power," Mw")}),r.a.createElement(Se,{content:"Energy"}),r.a.createElement(ct,{content:"".concat(p.energy," Mwh")}),r.a.createElement(Se,{content:"Round Trip Efficiency"}),r.a.createElement(ct,{content:"".concat(100*p.rte,"%")}),r.a.createElement(Se,{content:"Location"}),p.address?r.a.createElement(ct,{content:"".concat(p.address," - ").concat(p.city," -  ").concat(p.state)}):r.a.createElement("div",{style:st.latLng},r.a.createElement(ct,{content:p.lat}),r.a.createElement(Se,{content:"latitude"}),r.a.createElement(ct,{content:p.lng}),r.a.createElement(Se,{content:"longitude"}))),r.a.createElement("div",{style:st.button},r.a.createElement(Ae,{value:"DELETE PROJECT",type:"danger",onClick:function(){u(!0);var e={method:"DELETE",headers:H};ge("/project/".concat(o),e).then((function(e){u(!1),n.push("".concat(b))})).catch((function(e){u(!1),console.error("There was an error deleting your project: ".concat(e))}))},width:"12em"}))),r.a.createElement("div",{style:st.mapContainer},p&&r.a.createElement(me,{center:[p.lng,p.lat],zoom:8,style:st.map},r.a.createElement(Ee,{lat:p.lat,lng:p.lng})))))})),mt=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=Ge(n,"roi",c),l=Object(a.useState)(!1),i=Object(J.a)(l,1)[0],s=Object(a.useState)(null),u=Object(J.a)(s,2),m=u[0],d=u[1],p=Object(a.useCallback)((function(e){console.log(e),d(JSON.parse(e.data))}),[]),f="/roi/".concat(c);return lt(f,p),r.a.createElement(tt,{title:"Project Return on Investment",baseUrl:o,id:c},i&&r.a.createElement(ze,{message:""}),r.a.createElement("p",null,"Project id: ",c),m&&r.a.createElement("p",null,m.cheese))},dt={root:{textAlign:"left",padding:"0 0 2em"},header:{padding:"0 0 .5em"}},pt=function(e){var t=e.headerContent,n=e.children,a=e.childStyles,c=void 0===a?{}:a;return r.a.createElement("div",{style:dt.root},r.a.createElement("div",{style:dt.header},r.a.createElement(M,{content:t})),r.a.createElement("div",{style:c},n))},ft={display:"flex",flexWrap:"wrap",justifyContent:"space-between",padding:".5em 1em"},bt=function(e){var t=e.children;return r.a.createElement("div",{style:ft},t)},gt=n(271)(window),yt=function(e){var t=e.icon,n=e.style,c=function(e){switch(e){case"clear-night":return{key:"CLEAR_NIGHT",color:E};case"rain":return{key:"RAIN",color:v};case"snow":return{key:"SNOW",color:v};case"sleet":return{key:"SLEET",color:v};case"wind":return{key:"WIND",color:p};case"fog":return{key:"FOG",color:p};case"cloudy":return{key:"CLOUDY",color:p};case"partly-cloudy-day":return{key:"PARTLY_CLOUDY_DAY",color:O};case"partly-cloudy-night":return{key:"PARTLY_CLOUDY_NIGHT",color:E};default:return{key:"CLEAR_DAY",color:j}}}(t),o=new gt({color:c.color}),l=Object(a.useRef)(null);return Object(a.useEffect)((function(){o.add(l.current,gt[c.key]),o.play();var e=l.current;return function(){return o.remove(e)}}),[t,o,c.key]),r.a.createElement("canvas",{width:"128",height:"128",style:n,ref:l})},ht={fontSize:".8em",fontStyle:"italic"},vt=function(e){var t=e.message,n=e.isoString,a=e.timeZone;return r.a.createElement("div",{style:ht},"".concat(t," ").concat(Be()(n).tz(a).format("M/D h:mm A")))},Et={linkContainer:{width:"100%",textAlign:"right"},icon:{height:"5em",padding:"1em 0"},ds:{color:"#0BA8F7",textDecoration:"none",fontSize:".8em",textAlign:"right"},dataDisplay:{padding:"0 1em 0"}},Ot=function(e){var t=e.weather,n=e.timeZone;return r.a.createElement(pt,{headerContent:"Weather"},t?r.a.createElement(bt,null,r.a.createElement("div",null,r.a.createElement(vt,{message:"Data as of",isoString:Be()(1e3*t.time).toISOString(),timeZone:n}),r.a.createElement(yt,{icon:t.icon,style:Et.icon})),r.a.createElement("div",{style:Et.dataDisplay},r.a.createElement(Se,{content:"Current Temperature"}),r.a.createElement(ct,{content:"".concat(He(t.temperature,1),"\xb0F")})),r.a.createElement("div",{style:Et.dataDisplay},r.a.createElement(Se,{content:"Cloud Cover"}),r.a.createElement(ct,{content:"".concat(He(100*t.cloudCover,0)," %")})),r.a.createElement("div",{style:Et.dataDisplay},r.a.createElement(Se,{content:"Wind"}),r.a.createElement(ct,{content:"".concat(He(t.windSpeed,1)," mph gusting to ").concat(He(t.windGust,1)," mph, bearing ").concat(t.windBearing,"\xb0")})),t.nearestStormDistance>0&&r.a.createElement("div",{style:Et.dataDisplay},r.a.createElement(Se,{content:"Nearest Storm"}),r.a.createElement(ct,{content:"".concat(t.nearestStormDistance," mi bearing ").concat(t.nearestStormBearing,"\xb0")})),r.a.createElement("div",{style:Et.linkContainer},r.a.createElement("a",{style:Et.ds,target:"_blank",rel:"noopener noreferrer",href:"https://darksky.net/poweredby/"},"Powered by Dark Sky"))):r.a.createElement("p",null,"Weather data is not currently available"))},jt=function(e){return{color:e,fontSize:"2em",fontStyle:"italic",fontWeight:"bold",padding:".5em 0",boxSizing:"border-box",width:"min-content"}},wt={charge:v,discharge:y,standby:f},xt={noStatus:{padding:".5em 0"}},St=function(e){var t=e.currentPrc,n=e.avgPrc,a=e.status;if(t&&n&&a){var c=t-n,o="charge"===a,l="discharge"===a,i=!o&&!l;return r.a.createElement("div",null,o&&r.a.createElement("div",{style:jt(wt.charge)},"CHARGE"),l&&r.a.createElement("div",{style:jt(wt.discharge)},"DISCHARGE"),i&&r.a.createElement("div",{style:jt(wt.standby)},"STANDBY"),r.a.createElement("p",null,function(e,t,n){var a=He(Math.abs(e),2);switch(!0){case t:return"LMP is currently $".concat(a,"/MWh less than 3-week running average");case n:return"LMP is currently $".concat(a,"/MWh greater than 3-week running average");default:return"Prices are not currently favorable for charging or discharging"}}(c,o,l)))}return r.a.createElement("p",{style:xt.noStatus},"Status data is not currently available")},kt={display:"block",padding:"0 0 1em",fontStyle:"italic",fontSize:s},Ct=function(e){var t=e.content;return r.a.createElement("span",{style:kt},t)},Pt={root:{display:"flex",padding:"0 1em"},status:{width:"35em"},prices:{display:"flex",justifyContent:"space-between",padding:"1em 0 0"},followingSection:{padding:"0 0 0 2em"}},Dt=function(e){var t=e.config,n=e.prices,a=e.charge,c=e.revenue,o=e.status,l=n&&n[n.length-1],i=l&&l.lmp,s=l&&l.mvgAvg,u=l&&l.timestamp;return r.a.createElement(pt,{headerContent:"Status"},r.a.createElement("div",{style:Pt.root},r.a.createElement("div",{style:Pt.status},u&&r.a.createElement(vt,{message:"Data as of",isoString:u,timeZone:t.timeZone}),r.a.createElement(St,{currentPrc:i,avgPrc:s,status:o}),t&&i&&r.a.createElement("div",{style:Pt.prices},r.a.createElement("div",null,r.a.createElement(Se,{content:"Current Price"}),r.a.createElement(ct,{content:Ue(i)})),r.a.createElement("div",null,r.a.createElement(Se,{content:"Charge Threshold"}),r.a.createElement(ct,{content:Ue(t.chargeThreshold)})),r.a.createElement("div",null,r.a.createElement(Se,{content:"Discharge Threshold"}),r.a.createElement(ct,{content:Ue(t.dischargeThreshold)})))),r.a.createElement("div",{style:Pt.followingSection},r.a.createElement(Ct,{content:"State of Charge"}),null!==a&&t.energy?r.a.createElement(ct,{content:"".concat(He(a/t.energy*100,1)," %")}):r.a.createElement("span",null,"State of charge data is not currently available")),r.a.createElement("div",{style:Pt.followingSection},r.a.createElement(Ct,{content:"Revenue"}),null!==c?r.a.createElement(ct,{content:Ue(c)}):r.a.createElement("span",null,"Revenue data is not currently available"))))},Tt=n(222),It=n(20),At={lmp:{unit:"$/Mwh",label:"Locational Marginal Price",color:C[3],format:Ue},mvgAvg:{unit:"$/Mwh",label:"3 Week Moving Avg",color:C[6],format:Ue},temperature:{unit:"\xb0F",label:"Temperature",color:C[2],format:function(e){return He(e,0)}},windSpeed:{unit:" m/s",label:"Wind Speed",color:C[5],format:function(e){return He(e,0)}},windBearing:{unit:"\xb0",label:"Wind Bearing",color:C[4],format:function(e){return e||"n/a"}},cloudCover:{unit:"%",label:"Cloud Cover",color:C[6],format:function(e){return 100*He(e,2)}}},Lt={score:{unit:"",label:"Score",color:function(e){return e>0?"red":"green"},format:function(e){return He(e,3)}}};function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Mt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},At,{},Lt),Rt={root:{backgroundColor:"#fff",border:"1px solid #a8a2aa",borderRadius:5,textAlign:"left"},date:{padding:5,fontSize:"1em"}},Ft=function(e){var t=e.payload,n=e.label,a=e.active,c=e.timeZone;return a&&r.a.createElement("div",{style:Rt.root},r.a.createElement("p",{style:Rt.date},Ze(n,c,"ddd, M/D h:mm A")),t.map((function(e,t){return r.a.createElement("p",{style:{color:e.color,padding:5},key:"value-".concat(t)},"".concat(Mt[e.name].label,":  ").concat(Mt[e.name].format(e.value)).concat(Mt[e.name].unit))})))};n(449);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=Nt({},At,{},Lt),Zt=function(e){return Nt({},Ht.legendTile,{background:e})},Ht={root:{display:"inline-flex",flexWrap:"wrap",justifyContent:"space-evenly",padding:"0 5em 0 0"},dataType:{padding:".3em",display:"inline-flex",alignItems:"baseline"},legendTile:{margin:"0 12px 0 6px",width:20,height:10}},_t=function(e){var t=e.payload;return r.a.createElement("div",{style:Ht.root},t.map((function(e,t){return r.a.createElement("div",{style:Ht.dataType,key:"legend-".concat(t)},Bt[e.value].label,": ",r.a.createElement("div",{style:Zt(e.color)}))})))};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt=r.a.memo((function(e){var t=e.data,n=e.timeZone,a=e.barKey,c=e.negBarThreshold,o=void 0===c?0:c,l=e.posBarThreshold,i=void 0===l?0:l,s=e.aspect,u=void 0===s?3:s,m=e.xRefLines,d=void 0===m?[]:m,p=e.useBrush,b=void 0!==p&&p,h=function(e){return e.reduce((function(e,t){return Object.keys(t).forEach((function(t){return e=e.includes(t)||"timestamp"===t?e:[].concat(Object(We.a)(e),[t])})),e}),[])}(t).filter((function(e){return Object.keys(At).includes(e)})),E=t.reduce((function(e,t){var n=t.score>0?t[a]>i:t[a]<o,r=(t.score,Object(Tt.a)(t,["score"]));return[].concat(Object(We.a)(e),n?[t]:[Ut({},r)])}),[]),O={top:10,bottom:10};return r.a.createElement(It.i,{width:"100%",aspect:u},r.a.createElement(It.e,{data:E,margin:{top:10,right:0,left:10,bottom:0}},r.a.createElement(It.k,{dataKey:"timestamp",tickFormatter:function(e){return Ze(e,n,"h:mm A")}}),r.a.createElement(It.l,{yAxisId:"left",tickCount:10,minTickGap:5,allowDecimals:!1,padding:O,tickFormatter:function(e){return Ue(e)}}),r.a.createElement(It.l,{yAxisId:"right",orientation:"right",tickCount:5,padding:O,domain:[-3,3],tickFormatter:function(e){return He(e,2)}}),r.a.createElement(It.c,{strokeDasharray:"3 3"}),r.a.createElement(It.j,{content:r.a.createElement(Ft,{timeZone:n})}),r.a.createElement(It.h,{y:0,yAxisId:"right",stroke:f,strokeDasharray:"4 4"}),r.a.createElement(It.a,{yAxisId:"right",dataKey:"score",fill:"#000"},t.map((function(e,t){return r.a.createElement(It.d,{fill:e.score>0?y:v,key:"bar-".concat(t)})}))),b&&r.a.createElement(It.b,{dataKey:"timestamp",height:30,stroke:g,tickFormatter:function(e){return Ze(e,n,"M/D h:mm A")},endIndex:0}),h.map((function(e){return r.a.createElement(It.g,{yAxisId:"left",key:"".concat(e,"-line"),type:"monotone",dataKey:e,connectNulls:!0,stroke:At[e].color,dot:!1})})),d.map((function(e,t){return r.a.createElement(It.h,{x:e,yAxisId:"right",key:"x-".concat(t)})})),r.a.createElement(It.f,{content:r.a.createElement(_t,null)})))}));function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt={root:{textAlign:"left"},chart:{padding:"1em 0"},noData:{padding:"0 1em"}},Kt=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=Ge(n,"dashboard",c),l=ot(c),i=Object(J.a)(l,2),s=i[0],u=i[1],m=Object(a.useState)(null),d=Object(J.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(null),g=Object(J.a)(b,2),y=g[0],h=g[1],v=Object(a.useState)(null),E=Object(J.a)(v,2),O=E[0],j=E[1],w=Object(a.useState)(null),x=Object(J.a)(w,2),S=x[0],k=x[1],C=Object(a.useState)(null),P=Object(J.a)(C,2),D=P[0],T=P[1],I=Object(a.useState)(null),A=Object(J.a)(I,2),L=A[0],z=A[1],M=Object(a.useState)("standby"),R=Object(J.a)(M,2),F=R[0],W=R[1],N=Object(a.useCallback)((function(e){e.preventDefault();var t=JSON.parse(e.data),n=t.weather,a=t.prices,r=t.revenue,c=t.charge,o=t.status,l=t.chargeThreshold,i=t.dischargeThreshold;f(n),h(a),j(r),k(c),W(o),T(l),z(i)}),[]),B="/dashboard/".concat(c);lt(B,N);var Z=y&&y.length>0;return r.a.createElement(tt,{title:s?"".concat(s.name," - Dashboard"):"Project Dashboard",baseUrl:o,id:c},u&&r.a.createElement(ze,{message:""}),r.a.createElement("div",{style:qt.root},r.a.createElement(Dt,{config:Jt({},s,{chargeThreshold:D,dischargeThreshold:L}),prices:y,charge:S,revenue:O,status:F}),r.a.createElement(pt,{headerContent:"Last Hour"},Z&&s?r.a.createElement(Yt,{barKey:"lmp",negBarThreshold:D,posBarThreshold:L,data:y,timeZone:s.timeZone,aspect:4}):r.a.createElement("p",{style:qt.noData},"Data for the last hour is not currently available")),s&&r.a.createElement(Ot,{weather:p,timeZone:s.timeZone})))};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=function(e){return Xt({},en.input,{color:e?f:m,cursor:e?"not-allowed":"inherit"})},en={root:{display:"inline-flex",alignItems:"baseline"},input:{margin:"0 .5em 1em",fontSize:u,padding:".5em",background:d,border:"none",borderRadius:10},label:{padding:".2em 0",fontSize:"1em"}},tn=function(e){var t=e.name,n=e.label,a=e.value,c=e.checked,o=e.onChange,l=e.disabled,i=void 0!==l&&l;return r.a.createElement("div",{style:en.root},r.a.createElement("input",{style:Qt(i),type:"checkbox",id:t,value:a,checked:c,disabled:i,onChange:o}),r.a.createElement("label",{htmlFor:t,style:Xt({},xe,{},en.label)},n))},nn={padding:"0 0 1em",fontSize:".8em",fontStyle:"italic"},an=function(e){var t=e.message,n=e.startDate,a=e.endDate,c=e.timeZone;return r.a.createElement("p",{style:nn},"".concat(t," ").concat(Be()(n).tz(c).format("M/D h:mm A")," to ").concat(Be()(a).tz(c).format("M/D h:mm A")))};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var cn=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},on.root,{width:e})},on={root:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:".5em 0",textAlign:"left"},buttons:{display:"flex",justifyContent:"space-between",padding:"0 0 0 .5em"}},ln=function(e){var t=e.value,n=e.format,a=e.title,c=e.onIncrement,o=e.onDecrement,l=e.onIncrementLabel,i=e.onDecrementLabel,s=e.disabled,u=void 0!==s&&s,m=e.width,d=void 0===m?"16em":m;return r.a.createElement("div",{style:cn(d)},r.a.createElement(Se,{content:a}),r.a.createElement(ct,{content:n(t)}),r.a.createElement("div",{style:on.buttons},r.a.createElement(Ae,{value:"- ".concat(i),disabled:u,type:"primary",onClick:o}),r.a.createElement(Ae,{value:"+ ".concat(l),disabled:u,type:"primary",onClick:c})))},sn=function(e){var t=e.date,n=e.title,a=e.increment,c=e.onIncrement,o=e.onDecrement,l=e.timeZone,i=e.disabled,s=void 0!==i&&i;return r.a.createElement(ln,{value:t,format:function(e){return Be.a.tz(e,l).format("ddd, MMM Do YYYY, h:mm A")},title:n,onIncrement:c,onDecrement:o,onIncrementLabel:"".concat(Z[a].label),onDecrementLabel:"".concat(Z[a].label),disabled:s,width:"18em"})};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=function(e){return mn({},pn.input,{color:e?f:m,cursor:e?"not-allowed":"inherit"})},pn={root:{display:"inline-flex",alignItems:"baseline",padding:"0 .5em .5em"},input:{margin:"0 .5em 1em",fontSize:u,padding:".5em",background:d,border:"none",borderRadius:10},label:{padding:".2em 0",fontSize:"1em"}},fn=function(e){var t=e.name,n=e.label,a=e.value,c=e.checked,o=e.onChange,l=e.disabled,i=void 0!==l&&l;return r.a.createElement("div",{style:pn.root},r.a.createElement("input",{style:dn(i),type:"radio",id:t,value:a,checked:c,disabled:i,onChange:o}),r.a.createElement("label",{htmlFor:t,style:mn({},xe,{},pn.label)},n))};function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var gn={root:{padding:"0.5em 0"},radios:{display:"flex",padding:"0 0 0 .5em"}},yn=function(e){var t=e.onSelect,n=e.selected,a=(e.disabled,Object.keys(Z).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Z[e],{disabled:!1})})));return r.a.createElement("div",{style:gn.root},r.a.createElement(Se,{content:"Select Time Increment"}),r.a.createElement("div",{style:gn.radios},a.map((function(e,a){return r.a.createElement(fn,{name:e.value,label:e.label,value:e.value,checked:n===e.value,onChange:t,disabled:e.disabled,key:"lr=".concat(a)})}))))},hn=function(e,t){var n=Be.a.duration(t,"minutes");return Be()(Math.floor(e/n)*n)},vn={root:{padding:"0 0 0 1em"},controls:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},En=function(e){var t=e.setStartTime,n=e.setEndTime,c=e.startTime,o=e.endTime,l=e.projectId,i=e.timeZone,s=void 0===i?"America/Los_Angeles":i,u=function(){return hn(Be()(),5)},m=Object.keys(Z),d=Object(a.useState)(m[1]),p=Object(J.a)(d,2),f=p[0],b=p[1],g=function(e){return e.clone().add(1,f)},y=function(e){return e.clone().subtract(1,f)},h=function(e){var t=Be()().subtract(7,"days"),n=Object(a.useState)(t.toISOString()),r=Object(J.a)(n,2),c=r[0],o=r[1],l=Object(a.useCallback)((function(e){e.preventDefault();var t=JSON.parse(e.data).minDatetime;o(t)}),[]),i="/min_date/".concat(e);return lt(i,l),c}(l);return r.a.createElement("div",{style:vn.root},r.a.createElement(vt,{message:"Earliest data currently available is from",isoString:h,timeZone:s}),r.a.createElement("div",{style:vn.controls},r.a.createElement(sn,{date:c,title:"Start Time",increment:f,onIncrement:function(){var e=g(c);e.isBefore(o)?t(e):t(o.clone().subtract(1,"day"))},onDecrement:function(){var e=y(c);e.isAfter(h)?t(e):t(Be.a.tz(h,s))},timeZone:s}),r.a.createElement(sn,{date:o,title:"End Time",increment:f,onIncrement:function(){var e=g(o);e.isBefore(u())?n(e):n(u())},onDecrement:function(){var e=y(o);e.isAfter(c)?n(e):n(c.clone().add(1,"day"))},timeZone:s}),r.a.createElement(yn,{onSelect:function(e){return b(e.target.value)},selected:f})))},On={controls:{display:"flex",flexDirection:"column",justifyContent:"space-between"},request:{display:"flex",justifyContent:"flex-end"},include:{width:"22em",display:"inline-flex",justifyContent:"space-between",padding:"2em 0 0"},getData:{margin:".5em 0 0 1.5em"}},jn=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=Ge(n,"historical",c),l=hn(Be()(),5),i=l.clone().subtract(7,"days"),s=ot(c),u=Object(J.a)(s,2),m=u[0],d=u[1],p=Object(a.useState)(i),f=Object(J.a)(p,2),b=f[0],g=f[1],y=Object(a.useState)(l),h=Object(J.a)(y,2),v=h[0],E=h[1],O=Object(a.useState)(!1),j=Object(J.a)(O,2),w=j[0],x=j[1],S=Object(a.useState)(null),k=Object(J.a)(S,2),C=k[0],P=k[1],D=Object(a.useState)(!1),T=Object(J.a)(D,2),I=T[0],A=T[1],L=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a,r,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.toISOString(),n=v.toISOString(),a={method:"GET",headers:H},e.prev=3,x(!0),e.next=7,ge("/historical/".concat(c,"/").concat(t,"/").concat(n,"/").concat(I),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,l=o.timeseries,P(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("There was an error retrieving historical data for your project: ".concat(e.t0));case 18:return e.prev=18,x(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))),[b,v,I,c]);return Object(a.useEffect)((function(){L()}),[]),r.a.createElement(tt,{title:m?"".concat(m.name," - Historical"):"Project Historical Analysis",baseUrl:o,id:c},(w||d)&&r.a.createElement(ze,{message:""}),C&&m&&r.a.createElement("div",null,r.a.createElement(pt,{headerContent:"Historical Data"},r.a.createElement(an,{message:"Data from",startDate:C[0].timestamp,endDate:C[C.length-1].timestamp,timeZone:m.timeZone}),r.a.createElement(Yt,{barKey:"lmp",data:C,timeZone:m.timeZone,aspect:4,useBrush:!0})),r.a.createElement(pt,{headerContent:"Select Time Range"},r.a.createElement("div",{style:On.controls},r.a.createElement(En,{setStartTime:g,setEndTime:E,startTime:b,endTime:v,projectId:c,timeZone:m.timeZone}),r.a.createElement("div",{style:On.request},r.a.createElement("div",{style:On.include},r.a.createElement(tn,{name:"include-weather",label:"Include Weather",value:!I,checked:I,onChange:function(e){return A("true"===e.target.value)}}),r.a.createElement(Ae,{value:"GET DATA",disabled:w,type:"success",onClick:L,overrideStyles:On.button,width:"8em"})))))))},wn={specs:{padding:"0 2em"},columns:{display:"flex",flexDirection:"rows",justifyContent:"space-between",maxWidth:"60em",flexWrap:"wrap"},dateControl:{padding:"0 0 0 1em"},button:{display:"flex",justifyContent:"flex-end",padding:".5em 0"}},xn=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=Ge(n,"insights",c),l=hn(Be()(),5),i=l.clone().subtract(7,"days"),s=ot(c),u=Object(J.a)(s,2),m=u[0],d=u[1],p=Object(a.useState)(i),f=Object(J.a)(p,2),b=f[0],g=f[1],y=Object(a.useState)(l),h=Object(J.a)(y,2),v=h[0],E=h[1],O=Object(a.useState)(!1),j=Object(J.a)(O,2),w=j[0],x=j[1],S=Object(a.useState)(null),k=Object(J.a)(S,2),C=k[0],P=k[1],D=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a,r,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.toISOString(),n=v.toISOString(),a={method:"GET",headers:H},x(!0),e.prev=4,e.next=7,ge("/insights/".concat(c,"/").concat(t,"/").concat(n),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,l=o.aggregate,P(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("There was an error retrieving your project: ".concat(e.t0));case 18:return e.prev=18,x(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),[b,v,c]);return Object(a.useEffect)((function(){D()}),[]),r.a.createElement(tt,{title:m?"".concat(m.name," - Insights"):"Project Data Insights",baseUrl:o,id:c},(w||d)&&r.a.createElement(ze,{message:""}),r.a.createElement("div",{style:wn.columns},r.a.createElement(pt,{headerContent:"Values for Potential Charging"},r.a.createElement("div",{style:wn.specs},r.a.createElement(Se,{content:"Number of Events"}),r.a.createElement(ct,{content:"".concat(C?C.belowN:0)}),r.a.createElement(Se,{content:"Average Price"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.belowMean):"$-.--")}),r.a.createElement(Se,{content:"Lowest Price"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.belowMin):"$-.--")}),r.a.createElement(Se,{content:"Highest Price"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.belowMax):"$-.--")}),r.a.createElement(Se,{content:"Standard Deviation"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.belowStdDev):"$-.--")}))),r.a.createElement(pt,{headerContent:"Values for Potential Discharging"},r.a.createElement("div",{style:wn.specs},r.a.createElement(Se,{content:"Number of Events"}),r.a.createElement(ct,{content:"".concat(C?C.aboveN:0)}),r.a.createElement(Se,{content:"Average Price"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.aboveMean):"$-.--")}),r.a.createElement(Se,{content:"Lowest Price"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.aboveMin):"$-.--")}),r.a.createElement(Se,{content:"Highest Price"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.aboveMax):"$-.--")}),r.a.createElement(Se,{content:"Standard Deviation"}),r.a.createElement(ct,{content:"".concat(C?Ue(C.aboveStdDev):"$-.--")})))),r.a.createElement(pt,{headerContent:"Select Time Range"},m&&r.a.createElement("div",{style:wn.dateControl},r.a.createElement(En,{setStartTime:g,setEndTime:E,startTime:b,endTime:v,projectId:c,timeZone:m.timeZone}),r.a.createElement("div",{style:wn.button},r.a.createElement(Ae,{value:"GET INSIGHTS",disabled:w,type:"success",onClick:D,width:"10em"})))))},Sn=n(34),kn=n(219),Cn={background:p},Pn=function(e){var t=e.data,n=Object(a.useRef)(null),c=Math.PI/4,o=[375,100],l=Sn.e();return Object(a.useEffect)((function(){var e=t.points,a=t.axisLength,r=Object(kn._3d)().scale(1).x((function(e){return e.x})).y((function(e){return e.y})).z((function(e){return e.z})).origin(o).rotateY(c).rotateX(-c).shape("SURFACE",a),i=Sn.g(n.current).append("g"),s=function(e){var t=(e[0].y+e[1].y+e[2].y+e[3].y)/4;return e.ccw?Sn.b(l(t)):Sn.a(Sn.b(l(t))).darker(2.5)};!function(){var t=Sn.d(e,(function(e){return e.y})),n=Sn.c(e,(function(e){return e.y})),a=Sn.f(e,(function(e,t){return t.y-e.y}));console.log("max revenue:",n,"\npoint?",e[a]),l.domain([t,n]),function(e,t){var n=i.selectAll("path").data(e,(function(e){return e.plane}));n.enter().append("path").attr("class","_3d").attr("fill",s).attr("opacity",0).attr("stroke-opacity",.1).merge(n).attr("stroke","black").transition().duration(t).attr("opacity",1).attr("fill",s).attr("d",r.draw),n.exit().remove(),Sn.h("._3d").sort(r.sort)}(r(e),1e3)}()}),[l,t,o,c]),r.a.createElement("svg",{style:Cn,width:750,height:1e3,ref:n})},Dn={specs:{padding:"0 2em"},columns:{display:"flex",flexDirection:"rows",justifyContent:"space-between",maxWidth:"60em"},inclusion:{display:"flex",flexDirection:"column"},getData:{margin:".5em 0 0 1.5em"},minDate:{padding:"0 0 1em"},revenueWrapper:{display:"flex",justifyContent:"space-between"},controls:{display:"flex",width:"45em",justifyContent:"space-between"},revenue:{padding:".5em 1em"},revenueDisplay:{display:"inline-flex",alignItems:"baseline"},thresholds:{lineHeight:"1.5em",fontStyle:"italic",width:"15em",padding:".5em"},button:{flex:0},surface:{display:"flex",justifyContent:"space-between",padding:"1em"}},Tn=function(e){var t=e.match,n=t.url,c=t.params.projectId,o=Ge(n,"dev",c),l=Be()().subtract(7,"days"),i=l.clone().subtract(7,"days"),s=ot(c),u=Object(J.a)(s,2),m=u[0],d=u[1],p=Object(a.useState)(i),f=Object(J.a)(p,1)[0],b=Object(a.useState)(l),g=Object(J.a)(b,1)[0],y=Object(a.useState)(0),h=Object(J.a)(y,2),v=h[0],E=h[1],O=Object(a.useState)(0),j=Object(J.a)(O,2),w=j[0],x=j[1],S=Object(a.useState)(0),k=Object(J.a)(S,2),C=k[0],P=k[1],D=Object(a.useState)(0),T=Object(J.a)(D,2),I=T[0],A=T[1],L=Object(a.useState)(.1),z=Object(J.a)(L,1)[0],M=Object(a.useState)(!1),R=Object(J.a)(M,2),F=R[0],W=R[1],N=Object(a.useState)(null),B=Object(J.a)(N,2),Z=B[0],_=B[1],G=Object(a.useState)(null),U=Object(J.a)(G,2),q=U[0],K=U[1],V=Object(a.useState)(0),X=Object(J.a)(V,2),Q=X[0],ee=X[1],te=function(e,t){return e+t},ne=function(e,t){return e-t},ae=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a,r,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.toISOString(),n=g.toISOString(),a={method:"GET",headers:H},W(!0),e.prev=4,e.next=7,ge("/revenue_surface/".concat(c,"/").concat(t,"/").concat(n),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,_(o.revenueSurface),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("There was an error calculating revenue surface data for your project: ".concat(e.t0));case 17:return e.prev=17,W(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),[f,g,c]),re=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a,r,o,l,i,s,u,m;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.toISOString(),n=g.toISOString(),a={method:"GET",headers:H},W(!0),e.prev=4,e.next=7,ge("/insights/".concat(c,"/").concat(t,"/").concat(n),a);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,l=o.aggregate,K(l),i=l.belowMean,s=l.belowStdDev,u=l.aboveMean,m=l.aboveStdDev,E(i),x(s),P(u),A(m),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.error("There was an error retrieving your project: ".concat(e.t0));case 23:return e.prev=23,W(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,20,23,26]])}))),[f,g,c]),ce=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("project:",m),t={method:"GET",headers:H},W(!0),e.prev=3,e.next=6,ge("/test/".concat(m.nodeId),t);case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,console.log("test response:",a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("There was an error running the test function: ".concat(e.t0));case 16:return e.prev=16,W(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])}))),[m]),oe=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:H},W(!0),e.prev=2,e.next=5,ge("/revenue_by_thresholds/".concat(c,"/").concat(v,"/").concat(C),t);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,ee(a.revenue),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("There was an error retrieving revenue data: ".concat(e.t0));case 15:return e.prev=15,W(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),[v,C,c]);return Object(a.useEffect)((function(){re()}),[]),r.a.createElement(tt,{title:"Development Platform",baseUrl:o,id:c},(F||d)&&r.a.createElement(ze,{message:""}),r.a.createElement(pt,{headerContent:"Test Charge and Discharge Thresholds"},q&&r.a.createElement("div",{style:Dn.revenue},r.a.createElement("div",{style:Dn.revenueDisplay},r.a.createElement(Se,{content:"7 Day Revenue for Selected Thresholds:"}),r.a.createElement(ct,{content:"".concat(Q?Ue(Q):"$-.--")})),r.a.createElement("div",{style:Dn.revenueWrapper},r.a.createElement("div",{style:Dn.controls},r.a.createElement("div",null,r.a.createElement(ln,{value:v||m&&m.chargeThreshold,format:Ue,title:"Charge Threshold",disabled:m&&!m.chargeThreshold,onIncrement:function(){var e=te(v,w*z);E(e)},onDecrement:function(){var e=ne(v,w*z);E(e)},onIncrementLabel:"".concat(z,"\u03c3"),onDecrementLabel:"".concat(z,"\u03c3"),width:"18em"}),r.a.createElement("p",{style:Dn.thresholds},"Charge Threshold is ".concat(He((q.belowMean-v)/q.belowStdDev,2)," x \u03c3 below the mean"))),r.a.createElement("div",null,r.a.createElement(ln,{value:C||m&&m.dischargeThreshold,format:Ue,title:"Discharge Threshold",disabled:m&&!m.dischargeThreshold,onIncrement:function(){var e=te(C,I*z);P(e)},onDecrement:function(){var e=ne(C,I*z);P(e)},onIncrementLabel:"".concat(z,"\u03c3"),onDecrementLabel:"".concat(z,"\u03c3"),width:"18em"}),r.a.createElement("p",{style:Dn.thresholds},"Discharge Threshold is ".concat(He((C-q.aboveMean)/q.aboveStdDev,2)," x \u03c3 above the mean")))),r.a.createElement("div",{style:Dn.button},r.a.createElement(Ae,{value:"GET REVENUE",disabled:F,type:"success",onClick:oe,width:"10em"}))))),r.a.createElement(pt,{headerContent:"Revenue Surface"},r.a.createElement("div",{style:Dn.surface},Z?r.a.createElement(Pn,{data:Z}):r.a.createElement("div",null),r.a.createElement("div",{style:Dn.button},r.a.createElement(Ae,{value:"SHOW CHART",disabled:F,type:"success",onClick:ae,width:"10em"}))),r.a.createElement("div",{style:Dn.button},r.a.createElement(Ae,{value:"TEST",disabled:F,type:"danger",onClick:ce,width:"8em"}))))},In=function(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{exact:!0,path:"".concat(t.path,"/create_project"),component:at}),r.a.createElement(i.a,{path:"".concat(t.path,"/project/:projectId"),component:ut}),r.a.createElement(i.a,{path:"".concat(t.path,"/roi/:projectId"),component:mt}),r.a.createElement(i.a,{path:"".concat(t.path,"/dashboard/:projectId"),component:Kt}),r.a.createElement(i.a,{path:"".concat(t.path,"/historical/:projectId"),component:jn}),r.a.createElement(i.a,{path:"".concat(t.path,"/insights/:projectId"),component:xn}),r.a.createElement(i.a,{path:"".concat(t.path,"/dev/:projectId"),component:Tn}))},An={root:{textAlign:"left",padding:"1em 3em"},list:{lineHeight:"3em",padding:"1em 0 1em 1.5em",listStyle:"disc"},link:{textAlign:"right",padding:"0 2em"},button:{padding:".8em"},existing:{lineHeight:"3em"}},Ln=function(e){var t=e.match,n=Object(a.useState)(null),c=Object(J.a)(n,2),o=c[0],l=c[1],i=Object(a.useCallback)(Object($.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:H},e.prev=1,e.next=4,ge("/projects",t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,l(a||null),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("There was an error retrieving your project: ".concat(e.t0));case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[1,11,14,16]])}))),[]),s=t.isExact;return Object(a.useEffect)((function(){i()}),[s,i]),r.a.createElement(ce,{title:"Demo"},s&&r.a.createElement("div",{style:An.root},r.a.createElement(L,{content:"Evaluate Project Locations"}),r.a.createElement("ul",{style:An.list},r.a.createElement("li",null,r.a.createElement("p",null,"Coming Soon!"))),r.a.createElement(L,{content:"Build a Project"}),r.a.createElement("ul",{style:An.list},r.a.createElement("li",null,r.a.createElement("p",null,"Specify the project location either by clicking on the map or entering an address.")),r.a.createElement("li",null,r.a.createElement("p",null,"Specify the power, energy capacity, and round trip efficiency of your battery or other storage technology.")),r.a.createElement("li",null,r.a.createElement("p",null,"Create the project to get access to the Project Dashboard, Historical data visualizer, and Insights page for requesting statistical data about prices on the selected node."))),r.a.createElement("div",{style:An.link},r.a.createElement(F,{to:"/demo/create_project"},r.a.createElement(Ae,{value:"CREATE PROJECT",type:"primary",overrideStyles:An.button,width:"12em"}))),o&&r.a.createElement("div",{style:An.existing},r.a.createElement("p",null,"The Entelx demo system is currently configured to allow just one project at a time.  Take a tour of one that has already been created."),r.a.createElement("div",{style:An.link},r.a.createElement(F,{to:"/demo/project/".concat(o.id)},r.a.createElement(Ae,{value:"GO TO EXISTING PROJECT",type:"primary",overrideStyles:An.button,width:"16em"}))))),r.a.createElement(In,{match:t}))},zn=n(87),Mn=n.n(zn),Rn=n(220),Fn=n.n(Rn),Wn=(n(207),{root:{padding:"0 1em",textAlign:"left"}}),Nn=function(){var e=it(Fn.a);return r.a.createElement(ce,{title:"About"},r.a.createElement("div",{style:Wn.root,className:"text-page"},r.a.createElement(L,{content:"Entelx"}),r.a.createElement(Mn.a,{source:e})))},Bn=n(221),Zn=n.n(Bn),Hn={root:{padding:"0 1em",textAlign:"left"}},_n=function(){var e=it(Zn.a);return r.a.createElement(ce,{title:"Contact"},r.a.createElement("div",{style:Hn.root,className:"text-page"},r.a.createElement(Mn.a,{source:e})))},Gn=(n(529),function(){return r.a.createElement("div",{className:"header-nav"},r.a.createElement("nav",{className:"nav"},r.a.createElement(F,{to:"/"},"Home"),r.a.createElement(F,{to:"/demo"},"Demo"),r.a.createElement(F,{to:"/login",disabled:!0},"Log In")))}),Un=function(){var e=Object(a.useState)(!1),t=Object(J.a)(e,2),n=t[0],c=t[1];return r.a.createElement(tt,{title:"System Administration"},n&&r.a.createElement(ze,{message:""}),r.a.createElement("p",null,"One Time Request"),r.a.createElement(Ae,{value:"EXECUTE",type:"danger",onClick:function(){c(!0);var e=JSON.stringify({keys:[]});ge("",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}).then((function(e){console.log("res at onRequest",e),c(!1)})).catch((function(e){c(!1),console.error("There was an error writing to ".concat("",": ").concat(e))}))}}))},Yn=(n(530),{root:{fontFamily:"Montserrat, Helvetica, sans-serif",fontWeight:200,fontSize:14,textAlign:"center",overflow:"hidden",display:"flex",flexDirection:"column",minHeight:"100vh"}}),$n=function(){return r.a.createElement("div",{style:Yn.root},r.a.createElement(Gn,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{exact:!0,path:"/",component:G}),r.a.createElement(i.a,{path:"/demo",component:Ln}),r.a.createElement(i.a,{path:"/about",component:Nn}),r.a.createElement(i.a,{path:"/contact",component:_n}),r.a.createElement(i.a,{path:"/system_admin",component:Un})))},Jn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qn(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(l.a,null,r.a.createElement($n,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Jn?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qn(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):qn(e)}))}}()}},[[257,1,2]]]);
//# sourceMappingURL=main.3cd5e0cd.chunk.js.map