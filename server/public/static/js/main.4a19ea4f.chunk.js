(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{209:function(e,t,n){},212:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},223:function(e,t,n){e.exports=n.p+"static/media/about.2366da9e.md"},224:function(e,t,n){e.exports=n.p+"static/media/contact.93d6a9d3.md"},260:function(e,t,n){e.exports=n(533)},270:function(e,t,n){},271:function(e,t,n){},452:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(84),c=n.n(o),l=n(44),i=n(23),s=n(9),u="1.333em",d="1.1em",m="#363D38",p="#e2e2e2",f="#A0A0A0",b="#838383",g="#fff",y="#90DDAA",h="#23B253",v="#046D27",E="#01BAEF",O="#082656",j="#FFE659",w="#FFD800",x=["#F71735","#91A6FF","#FF88DC","#FAFF7F","#17BEBB","#CD5334","#004E64","#9FFFCB","#7AE582","#007EA7","#FF9F1C","#380036","#01BAEF","#26081C","#192BC2","#003459","#0E0E52","#FDE74C"],S={caiso:"#E28413",ercot:"#F56416",3:"#DD4B1A",4:"#EF271B",5:"#EA1744"},k={primary:{color:g,background:O},success:{color:g,background:h},danger:{color:g,background:"#CC333F"}},P="0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)",C=["#861388","#083D77","#345995","#7067CF","#89A6FB","#78C3FB","#03CEA4"],D={fontSize:"3.157em"},T=function(e){var t=e.content;return a.a.createElement("h1",{style:D},t)},A={fontSize:"2.369em"},I=function(e){var t=e.content;return a.a.createElement("h2",{style:A},t)},M={fontSize:"1.777em"},L=function(e){var t=e.content;return a.a.createElement("h3",{style:M},t)},R={fontSize:u},z=function(e){var t=e.content;return a.a.createElement("h4",{style:R},t)};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={zIndex:1,height:"100%",backgroundImage:"linear-gradient(rgba(0, 71, 23, .2),  rgba(0, 71, 23, .9))"},N=function(e){var t=e.addlStyles;return a.a.createElement("div",{style:W({},B,{},t)})},Z=function(e){return{textDecoration:"none",color:e?f:m,pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"}},_=function(e){var t=e.to,n=e.children,r=e.disabled,o=void 0!==r&&r;return a.a.createElement(l.b,{to:t,style:Z(o)},n)},H={root:{width:"100%",display:"inline-flex",justifyContent:"space-around",margin:"2em 0 4em"}},U=function(){return a.a.createElement("div",{style:H.root},a.a.createElement(_,{to:"/about"},a.a.createElement(z,{content:"About"})),a.a.createElement(_,{to:"/contact"},a.a.createElement(z,{content:"Contact"})))};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={backgroundImage:"linear-gradient(".concat(v,", ").concat(h,")")},$=function(e){var t=e.addlStyles;return a.a.createElement("div",{style:Y({},G,{},t)})},q={hour:{label:"Hour",value:"hour"},day:{label:"Day",value:"day"},week:{label:"Week",value:"week"},month:{label:"Month",value:"month"}},K={Accept:"application/json","Content-Type":"application/json"};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={root:{display:"grid",gridTemplateColumns:"[leftCol1] 22% [leftCol2] 22% [centerMargin] 10% [rightCol1] 22% [rightCol2] auto [end]",gridTemplateRows:"[row1] auto [ws1] 75px [row2] auto [ws2] 50px [row3] auto [row4] auto [row5] auto [ws5] 50px"},logo:{gridColumn:"leftCol1 / centerMargin",gridRowStart:"row1"},logoText:{color:"#fff",zIndex:2,alignSelf:"end",padding:"4em",justifySelf:"start",textAlign:"left"},logoImg:{width:"100%",gridColumn:"leftCol1 / end",gridRowStart:"row1",height:"85vh",objectFit:"cover",objectPosition:"100% 70%"},sub1:{gridColumn:"rightCol1 / end",gridRowStart:"row2"},sub1Img:{width:"100%",gridColumn:"leftCol1 / end",gridRowStart:"row2",height:"70vh",objectFit:"cover",objectPosition:"100% 50%"},subText:{textAlign:"right",alignSelf:"end",padding:"2em 3em",zIndex:2,color:"#fff"},banner:{gridColumn:"leftCol1 / end",gridRowStart:"row3"},bannerText:{alignSelf:"end",padding:"2em",zIndex:2,color:"#fff"},mission:{gridColumn:"leftCol1 / end",gridRowStart:"row4",padding:"1em 3em",color:m,zIndex:2},purpose:{gridColumn:"leftCol1 / end",gridRowStart:"row5",padding:"0 6em",color:m},text:{padding:".5em",textAlign:"left"},list:{textAlign:"left",padding:"0 2em"},listItem:{padding:".2em 0"},footerLinks:{gridRowStart:"row6"}},ee=function(){return a.a.createElement("div",null,a.a.createElement("div",{style:Q.root},a.a.createElement("img",{style:Q.logoImg,alt:"solar panels",src:"/images/solarPanels1.jpeg"}),a.a.createElement(N,{addlStyles:Q.logo}),a.a.createElement("div",{style:X({},Q.logo,{},Q.logoText)},a.a.createElement("p",null,"sweet-ass logo"),a.a.createElement(T,{content:"Entelx"}),a.a.createElement(z,{content:"Accelerating Energy Intelligence"})),a.a.createElement("img",{style:Q.sub1Img,alt:"wind turbines",src:"/images/windTurbines3.jpeg"}),a.a.createElement(N,{addlStyles:Q.sub1}),a.a.createElement("div",{style:X({},Q.sub1,{},Q.subText)},a.a.createElement(I,{content:"Renewable energy has arrived..."}),a.a.createElement(I,{content:"But the transition to sustainable energy must move faster"})),a.a.createElement($,{addlStyles:Q.banner}),a.a.createElement("div",{style:X({},Q.banner,{},Q.bannerText)},a.a.createElement(I,{content:"".concat("Entelx"," is here to help")})),a.a.createElement("div",{style:Q.mission},a.a.createElement(L,{content:"Our mission is to help accelerate the transition to renewable energy by improving the economics of bulk energy storage"})),a.a.createElement("div",{style:Q.purpose},a.a.createElement("p",{style:Q.text},"Renewable energy has expanded by leaps and bounds in the last decade and is already the lowest cost source of energy in many places in the world.  Unfortunately, most of its natural intermittency is currently handled by fossil fuel energy resources.  Plus the more renewable energy that is deployed in each location, the lower its value becomes."),a.a.createElement("p",{style:Q.text},"Energy storage can solve these issues.  Storage provides a market for renewable power that would otherwise be curtailed and storage assets charged from this low-cost power can then profitably undercut the dirtiest fossil fuel generators.  Energy storage is widely seen as essential for renewable energy supplying the majority of energy demand and setting us on the path to a sustainable future."),a.a.createElement("p",{style:Q.text},"Entelx"," is accelerating energy intelligence by:"),a.a.createElement("ul",{style:Q.list},a.a.createElement("li",{style:Q.listItem},"Providing real-time charge and discharge signals that maximize arbitrage value"),a.a.createElement("li",{style:Q.listItem},"Locating and evaluating arbitrage opportunities"),a.a.createElement("li",{style:Q.listItem},"Estimating storage project ROI")))),a.a.createElement(U,null))};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re={backgroundImage:"linear-gradient(".concat(h,", ").concat(v,")")},ae=function(e){var t=e.addlStyles;return a.a.createElement("div",{style:ne({},re,{},t)})};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={root:{display:"grid",gridTemplateColumns:"[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]",gridTemplateRows:"[row1] 5em [ws1] 1em"},placement:{gridColumn:"rightCol / end",gridRowStart:"row1"},background:{clipPath:"polygon(2% 0, 100% 0, 100% 100%, 0 100%)"},text:{zIndex:1,color:g,padding:".5em 3em",justifySelf:"end",alignSelf:"end",background:"transparent"}},ie=function(e){var t=e.title;return a.a.createElement("div",{style:le.root},a.a.createElement(ae,{addlStyles:ce({},le.placement,{},le.background)}),a.a.createElement("div",{style:ce({},le.placement,{},le.text)},a.a.createElement(I,{content:t})))},se={root:{color:m,display:"flex",flexDirection:"column",flex:1},content:{margin:"0 0 auto"}},ue=function(e){var t=e.title,n=e.children;return a.a.createElement("div",{style:se.root},a.a.createElement(ie,{title:t}),a.a.createElement("div",{style:se.content},n),a.a.createElement(U,null))},de=n(2),me=n(47),pe=n.n(me);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge={root:{display:"block",boxSizing:"border-box",textAlign:"justify"}},ye=function(e){var t=e.zoom,n=e.center,o=e.style,c=e.children;pe.a.accessToken="pk.eyJ1IjoibWF0c2FkIiwiYSI6ImNpdWZyMGp6ZTAwaHkzM21weXJjb3hzOTMifQ.D7oqQqX-t5YlZ5CeOnCVvQ";var l=Object(r.useState)(null),i=Object(de.a)(l,2),s=i[0],u=i[1],d=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=new pe.a.Map({container:d.current,style:"mapbox://styles/mapbox/streets-v9",zoom:t,center:n,minZoom:3});return e.on("load",(function(){return u(e)})),function(){return e.remove()}}),[]);var m=a.a.Children.map(c,(function(e){return e&&a.a.cloneElement(e,{map:s})}));return a.a.createElement("div",{style:be({},ge.root,{},o),ref:d},s&&m)},he=n(14),ve=n.n(he),Ee=n(22),Oe=n(0),je=n.n(Oe),we=function(e){return e.json()},xe=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error("HTTP Error: ".concat(e.status," ").concat(e.statusText));throw t.status=e.statusText,t.response=e,t},Se=function(e,t){return new Promise((function(n,r){return fetch(e,t).then(xe).then(n).catch(r)}))},ke=function(e){var t=e.map,n=Object(r.useState)(null),a=Object(de.a)(n,2),o=a[0],c=a[1];Object(r.useEffect)((function(){(function(){var e=Object(Ee.a)(ve.a.mark((function e(){var t,n,r;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:K},e.prev=1,e.next=4,Se("/nodes",t);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,c(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("there was an error getting nodes: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=new pe.a.Popup({closeButton:!1,closeOnClick:!1}),i=Object(r.useCallback)((function(e){t.getCanvas().style.cursor="pointer";for(var n=e.features[0].geometry.coordinates.slice(),r=e.features[0].properties,a=Object.keys(r).reduce((function(e,t,n,a){var o="<tr><td><strong>".concat(function(e){switch(e){case"type":return"Type";case"name":return"Name";case"controlArea":return"Control Area";default:return e}}(t),":</strong></td><td>").concat(r[t],"</td></tr>");o=n<a.length-1?o+"*":o;var c=e.split("*");return[c[0],o,c[1]].join("")}),"<table>*</table>");Math.abs(e.lngLat.lng-n[0])>180;)n[0]+=e.lngLat.lng>n[0]?360:-360;l.setLngLat(n).setHTML(a).addTo(t)}),[t,l]),s=Object(r.useCallback)((function(){t.getCanvas().style.cursor="",l.remove()}),[t,l]),u=Object(r.useCallback)((function(){t.getCanvas().style.cursor="pointer"}),[t]),d=Object(r.useCallback)((function(){t.getCanvas().style.cursor=""}),[t]),m=Object(r.useCallback)((function(e){var n=t.queryRenderedFeatures(e.point,{layers:["clusters"]}),r=n[0].properties.cluster_id;t.getSource("nodes").getClusterExpansionZoom(r,(function(e,r){if(!e){var a=9===r?r+1:r;t.easeTo({center:n[0].geometry.coordinates,zoom:a})}}))}),[t]),p=Object(r.useCallback)((function(){o&&(t.addSource("nodes",{type:"geojson",data:o,cluster:!0,clusterMaxZoom:9,clusterRadius:50}),t.addLayer({id:"clusters",type:"circle",source:"nodes",filter:["has","point_count"],paint:{"circle-color":"rgba(0, 0, 0, .2)","circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-stroke-width":1,"circle-stroke-color":"#000"}}),t.addLayer({id:"cluster-count",type:"symbol",source:"nodes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),t.addLayer({id:"unclustered-nodes",type:"circle",source:"nodes",filter:["!",["has","point_count"]],paint:{"circle-color":["match",["get","controlArea"],"CA",x[0],"PACW",x[1],"PGE",x[2],"PSE",x[3],"NV",x[4],"IPCO",x[5],"PACE",x[6],"APS",x[7],b],"circle-radius":5,"circle-stroke-width":1,"circle-stroke-color":"#000"}}),t.on("mouseenter","clusters",u),t.on("mouseleave","clusters",d),t.on("click","clusters",m),t.on("mouseenter","unclustered-nodes",i),t.on("mouseleave","unclustered-nodes",s))}),[t,o,m,u,d,i,s]),f=Object(r.useCallback)((function(){t.off("mouseenter","clusters",u),t.off("mouseleave","clusters",d),t.off("click","clusters",m),t.off("mouseenter","unclustered-nodes",i),t.off("mouseleave","unclustered-nodes",s)}),[t,m,u,d,i,s]);return Object(r.useEffect)((function(){return p(),f}),[o]),!1};ke.propTypes={map:je.a.object};var Pe=ke,Ce=function(e){var t=e.map,n=e.lat,a=e.lng,o=e.color,c=void 0===o?E:o;return Object(r.useEffect)((function(){var e=t&&new pe.a.Marker({color:c}).setLngLat([a,n]).addTo(t);return function(){return e.remove()}}),[a,n,c,t]),!1};Ce.propTypes={map:je.a.object,lngLat:je.a.arrayOf(je.a.number)};var De=Ce,Te={caiso:"https://opendata.arcgis.com/datasets/9d1099b016e5482c900d657f06f3ac80_0.geojson?where=ID%20%3D%20'2775'"},Ae=function(e){var t=e.map,n=e.getLatLng,a=e.iso,o=Object(r.useCallback)((function(e){t.queryRenderedFeatures(e.point)[0].layer.id===a&&n(e.lngLat)}),[t,n,a]),c=Object(r.useCallback)((function(){t.addSource("isos",{type:"geojson",data:Te[a]}),t.addLayer({id:a,type:"fill",source:"isos",paint:{"fill-color":S[a],"fill-opacity":.3,"fill-outline-color":"#000"}}),n&&t.on("click",a,o)}),[t,n,a,o]),l=Object(r.useCallback)((function(){n&&t.off("click",a,o)}),[t,a,o,n]);return Object(r.useEffect)((function(){return c(),function(){return l()}}),[]),!1};Ae.propTypes={map:je.a.object,iso:je.a.oneOf(Object.keys(Te)).isRequired,getLatLng:je.a.func};var Ie=Ae,Me={display:"block",padding:".5em 0",fontStyle:"italic",fontSize:d},Le=function(e){var t=e.content;return a.a.createElement("span",{style:Me},t)};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ze=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Fe.input,{width:e,color:t?b:m,cursor:t?"not-allowed":"inherit"})},Fe={root:{display:"block"},input:{margin:"0 .5em 1em",fontSize:d,padding:".5em",background:p,border:"none",borderRadius:10}},We=function(e){var t=e.name,n=e.label,r=e.type,o=void 0===r?"text":r,c=e.placeholder,l=void 0===c?"":c,i=e.value,s=e.inputWidth,u=void 0===s?"auto":s,d=e.unit,m=void 0===d?"":d,p=e.disabled,f=void 0!==p&&p,b=e.min,g=void 0===b?-1e3:b,y=e.max,h=void 0===y?1e3:y,v=e.step,E=void 0===v?1:v,O=e.onChange;return a.a.createElement("div",{style:Fe.root},a.a.createElement("label",{htmlFor:t,style:Me},n),a.a.createElement("input",{style:ze(u,f),type:o,name:t,placeholder:l,value:i,disabled:f,min:"number"===o?g:void 0,max:"number"===o?h:void 0,step:"number"===o?E:void 0,onChange:function(e){return O(e,t)}}),a.a.createElement("span",null,m))};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ne={root:{MozBorderRadius:10,WebkitBorderRadius:10,borderRadius:10,display:"inline-block",cursor:"pointer",fontSize:"1.3em",textAlign:"center",padding:"1em"}},Ze=function(e){var t=e.value,n=e.type,r=e.onClick,o=e.disabled,c=void 0!==o&&o,l=e.width,i=void 0===l?"6em":l;return a.a.createElement("input",{type:"button",value:t,style:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ne.root,{},k[e],{width:i})}(n),disabled:c,onClick:r})},_e=n(212),He=n.n(_e),Ue=(n(270),{main:{position:"fixed",right:0,top:0,zIndex:4},logo:{position:"relative",bottom:"75vh",height:300},overlay:{background:"rgba(0, 30, 10, .8)",zIndex:3,height:"100vh",width:"100vw"},message:{color:g,position:"relative",bottom:"72vh"}}),Je=function(e){var t=e.message;return a.a.createElement("div",{style:Ue.main},a.a.createElement("div",{style:Ue.overlay}),a.a.createElement("img",{src:He.a,className:"spinner",alt:"logo",style:Ue.logo}),a.a.createElement("div",{style:Ue.message},t))},Ye=(n(271),function(e){return e?"navButton current":"navButton"}),Ge={label:{textAlign:"left",listStyle:"none",padding:"1em .5em"},link:{fontSize:"1.2em",textDecoration:"none",color:m}},$e=function(e){var t=e.baseUrl,n=e.link,r=e.id,o=e.label,c=e.current;return a.a.createElement(l.b,{to:"".concat(t,"/").concat(n,"/").concat(r),style:Ge.link},a.a.createElement("li",{className:Ye(c),style:Ge.label},o))},qe=n(67),Ke=n(13),Ve=n.n(Ke);var Xe=function(e,t,n){return Ve.a.tz(e,t).format(n)},Qe=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},et=function(e,t){e.preventDefault(),t(e.target.value)},tt=function(e,t,n){return n?e.replace("/".concat(t,"/").concat(n),""):e.replace("/".concat(t),"")},nt=function(e){return"$".concat(Qe(e,2).toFixed(2))},rt={position:"absolute",zIndex:2,background:g,width:"13em",padding:".5em 1em",borderRight:"1px solid ".concat(b),boxShadow:P},at=Object(i.e)((function(e){var t,n,r,o=e.baseUrl,c=e.id,l=e.match,i=(t=l.url,n=o,(r=c)?t.replace("".concat(n,"/"),"").replace("/".concat(r),""):t.replace(n,"")),s=[{link:"project",label:"Project Home",envTest:!0},{link:"dashboard",label:"Project Dashboard",envTest:!0},{link:"historical",label:"Historical",envTest:!0},{link:"insights",label:"Insights",envTest:!0},{link:"dev",label:"Development",envTest:!1}];return a.a.createElement("ul",{style:rt},s.filter((function(e){return e.envTest})).map((function(e,t){return a.a.createElement($e,{key:"nav-button".concat(t),baseUrl:o,link:e.link,id:c,label:e.label,current:i===e.link})})))})),ot={button:{fontSize:"1.5em",padding:".5em",cursor:"pointer"}},ct=function(e){var t=e.baseUrl,n=e.id,o=Object(r.useState)(!1),c=Object(de.a)(o,2),l=c[0],i=c[1],s=Object(r.useRef)(null),u=function(e){s.current&&!s.current.contains(e.target)&&i(!1)};Object(r.useEffect)((function(){return document.addEventListener("mousedown",u),function(){return document.removeEventListener("mousedown",u)}}));return a.a.createElement("div",null,a.a.createElement("span",{className:"fas fa-bars",onClick:function(){return i(!l)},style:ot.button}),l&&a.a.createElement("div",{ref:s},a.a.createElement(at,{baseUrl:t,id:n})))};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st={root:{display:"grid",gridTemplateColumns:"[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]",gridTemplateRows:"[row1] minmax(4em, max-content) [ws1] 3em"},compactRoot:{display:"block",width:"100%",position:"fixed",zIndex:2,top:0,background:"white",boxShadow:P,transition:"all 1s"},placement:{gridColumn:"leftCol / centerMargin",gridRowStart:"row1"},background:{clipPath:"polygon(0 0, 100% 0, 98% 100%, 0 100%)"},items:{display:"inline-flex",justifyContent:"space-between",alignItems:"flex-end",color:g,zIndex:1},compactItems:{display:"inline-flex",justifyContent:"space-between",width:"100%",color:b,alignItems:"baseline"},text:{padding:".5em 2em",alignSelf:"flex-end",background:"transparent"},compactText:{padding:".5em 2em"}},ut=function(e){var t=e.title,n=e.baseUrl,o=e.id,c=e.showMenu,l=Object(r.useState)(null),i=Object(de.a)(l,2),s=i[0],u=i[1],d=s<0,m=Object(r.useRef)(null),p=Object(r.useCallback)((function(e){if(m.current){var t=m.current.getBoundingClientRect().top;u(t)}}),[]);Object(r.useEffect)((function(){return p(),document.addEventListener("scroll",p),function(){return document.removeEventListener("scroll",p)}}),[p]);var f=d?{height:120}:{height:2},b=d?st.compactRoot:st.root,g=d?{display:"none"}:it({},st.background,{},st.placement),y=d?st.compactItems:it({},st.placement,{},st.items),h=d?it({fontSize:s>=-40&&s<0?"".concat(1+.005*s,"em"):s<-40?".8em":"1em"},st.compactText):st.text;return a.a.createElement("div",null,a.a.createElement("div",{ref:m,style:f}),a.a.createElement("div",{style:b},a.a.createElement(ae,{addlStyles:g}),a.a.createElement("div",{style:y},c&&a.a.createElement(ct,{baseUrl:n,id:o}),a.a.createElement("div",{style:h},a.a.createElement(L,{content:t})))))},dt=function(e){var t=e.title,n=e.baseUrl,r=e.id,o=e.children,c=e.showMenu,l=void 0===c||c;return a.a.createElement("div",null,a.a.createElement(ut,{title:t,baseUrl:n,id:r,showMenu:l}),o)},mt={root:{display:"flex",boxSizing:"border-box",flexWrap:"wrap",justifyContent:"space-between",color:m,padding:"0 3em 2em",width:"100%"},form:{display:"block",boxSizing:"border-box",minWidth:"30rem",textAlign:"left",flex:"1 1 48%",padding:"0 1em"},subSection:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",padding:"1em 0"},header:{width:"100%"},label:{fontSize:d,padding:"1em 0"},latLng:{display:"inline-flex",justifyContent:"space-between"},mapContainer:{display:"flex",flexDirection:"column",boxSizing:"border-box",flex:"1 1 48%",padding:"1em",minHeight:"50em"},map:{height:"100%"},button:{display:"flex",width:"100%",padding:"0 1em"}},pt=Object(i.e)((function(e){var t=e.match,n=e.history,o=t.url,c=tt(o,"create_project"),l=Object(r.useState)(38.00002),i=Object(de.a)(l,2),s=i[0],u=i[1],d=Object(r.useState)(-119.00003),m=Object(de.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)(""),g=Object(de.a)(b,2),y=g[0],h=g[1],v=Object(r.useState)(2),E=Object(de.a)(v,2),O=E[0],j=E[1],w=Object(r.useState)(1),x=Object(de.a)(w,2),S=x[0],k=x[1],P=Object(r.useState)(.85),C=Object(de.a)(P,2),D=C[0],T=C[1],A=Object(r.useState)(""),I=Object(de.a)(A,2),M=I[0],L=I[1],R=Object(r.useState)(""),F=Object(de.a)(R,2),W=F[0],B=F[1],N=Object(r.useState)("CA"),Z=Object(de.a)(N,2),_=Z[0],H=Z[1],U=Object(r.useState)(""),J=Object(de.a)(U,2),Y=J[0],G=J[1],$=Object(r.useState)(!1),q=Object(de.a)($,2),K=q[0],V=q[1],X=Object(r.useState)(!1),Q=Object(de.a)(X,2),ee=Q[0],te=Q[1];return a.a.createElement(dt,{title:"Create Your Project",baseUrl:c,id:"create_project",showMenu:!1},a.a.createElement("div",{style:mt.root},K&&a.a.createElement(Je,{message:"Building your project..."}),a.a.createElement("div",{style:mt.form},a.a.createElement("div",{style:mt.subSection},a.a.createElement("div",{style:mt.header},a.a.createElement(z,{content:"General"})),a.a.createElement(We,{name:"projectName",label:"Project Name",placeholder:'"My Project"',value:y,inputWidth:"23em",onChange:function(e){return et(e,h)}}),a.a.createElement(We,{name:"energyCapacity",label:"Project Energy Capacity",type:"number",value:O,inputWidth:"4em",unit:"MWh",min:0,step:.1,onChange:function(e){return et(e,j)}}),a.a.createElement(We,{name:"powerCapacity",label:"Project Power Capacity",type:"number",value:S,inputWidth:"4em",unit:"MW",min:0,step:.1,onChange:function(e){return et(e,k)}}),a.a.createElement(We,{name:"rte",label:"Round Trip Efficiency",type:"number",value:Qe(100*D,1),inputWidth:"2.5em",unit:"%",min:0,max:99,step:1,onChange:function(e){e.preventDefault(),T(e.target.value/100)}})),a.a.createElement("div",{style:mt.subSection},a.a.createElement("div",{style:mt.header},a.a.createElement(z,{content:"Location"}),a.a.createElement("p",{style:mt.label},"Enter an address or pick a location on the map")),a.a.createElement(We,{name:"address",label:"Address",placeholder:'"123 Main St. Ste 456"',value:M,inputWidth:"23em",onChange:function(e){return et(e,L)}}),a.a.createElement(We,{name:"city",label:"City",placeholder:'"Los Angeles"',value:W,inputWidth:"18em",onChange:function(e){return et(e,B)}}),a.a.createElement(We,{name:"state",label:"State",value:_,inputWidth:"5em",onChange:H,disabled:!0}),a.a.createElement(We,{name:"zip",label:"Zip Code",placeholder:'"90001"',value:Y,inputWidth:"10em",onChange:function(e){return et(e,G)}}),a.a.createElement("div",{style:mt.latLng},a.a.createElement(We,{name:"lat",label:"Latitude",type:"number",value:s,inputWidth:"6em",disabled:!0}),a.a.createElement(We,{name:"lng",label:"Longitude",type:"number",value:p,inputWidth:"6em",disabled:!0})))),a.a.createElement("div",{style:mt.mapContainer},a.a.createElement(ye,{center:[p,s],zoom:5,style:mt.map},a.a.createElement(Ie,{iso:"caiso",getLatLng:function(e){var t=e.lat,n=e.lng;u(Qe(t,5)),f(Qe(n,5)),te(!0)}}),a.a.createElement(Pe,null),ee&&a.a.createElement(De,{lat:s,lng:p}))),a.a.createElement("div",{style:mt.button},a.a.createElement(Ze,{value:"SUBMIT",type:"success",onClick:function(){V(!0);var e=JSON.stringify({name:y,address:M,city:W,state:_,power:S,energy:O,lat:s,lng:p,rte:D,type:t.url.includes("demo")?"demo":"test"});Se("/project/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}).then(we).then((function(e){V(!1),n.push("".concat(c,"/project/").concat(e.id))})).catch((function(e){V(!1),function(e){console.error("There was an error creating your project: ".concat(e))}(e)}))}}))))})),ft={fontSize:"1.2em",padding:"0 0 .7em .5em",fontStyle:"normal"},bt=function(e){var t=e.content;return a.a.createElement("p",{style:ft},t)},gt=function(e){var t=Object(r.useState)(null),n=Object(de.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(!1),l=Object(de.a)(c,2),i=l[0],s=l[1],u=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function t(){var n,r,a;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),n={method:"GET",headers:K},t.prev=2,t.next=5,Se("/get_project/".concat(e),n);case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,o(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("There was an error retrieving your project: ".concat(t.t0));case 15:return t.prev=15,s(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))),[e]);return Object(r.useEffect)((function(){u()}),[u]),[a,i]},yt=function(e,t){return Object(r.useEffect)((function(){var n=new EventSource(e),r=function(e){return console.log("ping: ".concat(JSON.parse(e.data).time))},a=function(t){return console.error("There was an error getting data from event source ".concat(e,":"),t)};return n.addEventListener("message",t),n.addEventListener("ping",r),n.addEventListener("error",a),function(){n.removeEventListener("message",t),n.removeEventListener("ping",r),n.removeEventListener("error",a),console.log("closing sse connection..."),n.close()}}),[e,t])},ht=function(e){var t=Object(r.useState)(""),n=Object(de.a)(t,2),a=n[0],o=n[1],c=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function t(){var n,r;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.text();case 6:r=t.sent,o(r),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("There was an error fetching markdown from ".concat(e,":"),t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e]);return Object(r.useEffect)((function(){c()}),[c]),a},vt={root:{display:"flex"},project:{display:"flex",flexDirection:"column",textAlign:"left",padding:"0 1em",flex:"1 1 48%"},header:{padding:"0 1em 2em"},specs:{padding:"0 2em 1em"},latLng:{display:"inline-flex",alignItems:"baseline",justifyContent:"space-between",width:"24em"},button:{padding:"0 1em"},map:{height:"100%"},mapContainer:{display:"flex",flexDirection:"column",boxSizing:"border-box",padding:"0 2em",height:"30em",flex:"1 1 48%"}},Et=Object(i.e)((function(e){var t=e.match,n=e.history,o=t.url,c=t.params.projectId,l=Object(r.useState)(!1),i=Object(de.a)(l,2),s=i[0],u=i[1],d=gt(c),m=Object(de.a)(d,2),p=m[0],f=m[1],b=tt(o,"project",c);return a.a.createElement(dt,{title:p?"".concat(p.name," - Home"):"Project Home",baseUrl:b,id:c},a.a.createElement("div",{style:vt.root},(s||f)&&a.a.createElement(Je,{message:""}),a.a.createElement("div",{style:vt.project},a.a.createElement("div",{style:vt.header},a.a.createElement(z,{content:"Project Specifications"})),p&&a.a.createElement("div",{style:vt.specs},a.a.createElement(Le,{content:"Power"}),a.a.createElement(bt,{content:"".concat(p.power," Mw")}),a.a.createElement(Le,{content:"Energy"}),a.a.createElement(bt,{content:"".concat(p.energy," Mwh")}),a.a.createElement(Le,{content:"Round Trip Efficiency"}),a.a.createElement(bt,{content:"".concat(100*p.rte,"%")}),a.a.createElement(Le,{content:"Location"}),p.address?a.a.createElement(bt,{content:"".concat(p.address," - ").concat(p.city," -  ").concat(p.state)}):a.a.createElement("div",{style:vt.latLng},a.a.createElement(bt,{content:p.lat}),a.a.createElement(Le,{content:"latitude"}),a.a.createElement(bt,{content:p.lng}),a.a.createElement(Le,{content:"longitude"}))),a.a.createElement("div",{style:vt.button},a.a.createElement(Ze,{value:"DELETE PROJECT",type:"danger",onClick:function(){u(!0);var e={method:"DELETE",headers:K};Se("/project/".concat(c),e).then((function(e){u(!1),n.push("".concat(b))})).catch((function(e){u(!1),console.error("There was an error deleting your project: ".concat(e))}))},width:"12em"}))),a.a.createElement("div",{style:vt.mapContainer},p&&a.a.createElement(ye,{center:[p.lng,p.lat],zoom:8,style:vt.map},a.a.createElement(De,{lat:p.lat,lng:p.lng})))))})),Ot=function(e){var t=e.match,n=t.url,o=t.params.projectId,c=tt(n,"roi",o),l=Object(r.useState)(!1),i=Object(de.a)(l,1)[0],s=Object(r.useState)(null),u=Object(de.a)(s,2),d=u[0],m=u[1],p=Object(r.useCallback)((function(e){console.log(e),m(JSON.parse(e.data))}),[]),f="/roi/".concat(o);return yt(f,p),a.a.createElement(dt,{title:"Project Return on Investment",baseUrl:c,id:o},i&&a.a.createElement(Je,{message:""}),a.a.createElement("p",null,"Project id: ",o),d&&a.a.createElement("p",null,d.cheese))},jt={root:{textAlign:"left",padding:"0 3em 1em"},header:{padding:"0 0 .5em"}},wt=function(e){var t=e.headerContent,n=e.children,r=e.childStyles,o=void 0===r?{}:r;return a.a.createElement("div",{style:jt.root},a.a.createElement("div",{style:jt.header},a.a.createElement(z,{content:t})),a.a.createElement("div",{style:o},n))},xt={display:"flex",flexWrap:"wrap",justifyContent:"space-between",padding:".5em 1em"},St=function(e){var t=e.children;return a.a.createElement("div",{style:xt},t)},kt=n(274)(window),Pt=function(e){var t=e.icon,n=e.style,o=function(e){switch(e){case"clear-night":return{key:"CLEAR_NIGHT",color:O};case"rain":return{key:"RAIN",color:E};case"snow":return{key:"SNOW",color:E};case"sleet":return{key:"SLEET",color:E};case"wind":return{key:"WIND",color:f};case"fog":return{key:"FOG",color:f};case"cloudy":return{key:"CLOUDY",color:f};case"partly-cloudy-day":return{key:"PARTLY_CLOUDY_DAY",color:j};case"partly-cloudy-night":return{key:"PARTLY_CLOUDY_NIGHT",color:O};default:return{key:"CLEAR_DAY",color:w}}}(t),c=new kt({color:o.color}),l=Object(r.useRef)(null);return Object(r.useEffect)((function(){c.add(l.current,kt[o.key]),c.play();var e=l.current;return function(){return c.remove(e)}}),[t,c,o.key]),a.a.createElement("canvas",{width:"128",height:"128",style:n,ref:l})},Ct={fontSize:".8em",fontStyle:"italic"},Dt=function(e){var t=e.message,n=e.millis,r=e.timeZone;return a.a.createElement("p",{style:Ct},"".concat(t," ").concat(Ve()(n).tz(r).format("M/D h:mm A")))},Tt={linkContainer:{width:"100%",textAlign:"right"},icon:{height:"5em",padding:"1em 0"},ds:{color:"#0BA8F7",textDecoration:"none",fontSize:".8em",textAlign:"right"},dataDisplay:{padding:"0 1em 0"}},At=function(e){var t=e.weather,n=e.timeZone;return a.a.createElement(wt,{headerContent:"Weather"},t?a.a.createElement(St,null,a.a.createElement("div",null,a.a.createElement(Dt,{message:"Data as of",millis:1e3*t.time,timeZone:n}),a.a.createElement(Pt,{icon:t.icon,style:Tt.icon})),a.a.createElement("div",{style:Tt.dataDisplay},a.a.createElement(Le,{content:"Current Temperature"}),a.a.createElement(bt,{content:"".concat(Qe(t.temperature,1),"\xb0F")})),a.a.createElement("div",{style:Tt.dataDisplay},a.a.createElement(Le,{content:"Cloud Cover"}),a.a.createElement(bt,{content:"".concat(Qe(100*t.cloudCover,0)," %")})),a.a.createElement("div",{style:Tt.dataDisplay},a.a.createElement(Le,{content:"Wind"}),a.a.createElement(bt,{content:"".concat(Qe(t.windSpeed,1)," mph gusting to ").concat(Qe(t.windGust,1)," mph, bearing ").concat(t.windBearing,"\xb0")})),t.nearestStormDistance>0&&a.a.createElement("div",{style:Tt.dataDisplay},a.a.createElement(Le,{content:"Nearest Storm"}),a.a.createElement(bt,{content:"".concat(t.nearestStormDistance," mi bearing ").concat(t.nearestStormBearing,"\xb0")})),a.a.createElement("div",{style:Tt.linkContainer},a.a.createElement("a",{style:Tt.ds,target:"_blank",rel:"noopener noreferrer",href:"https://darksky.net/poweredby/"},"Powered by Dark Sky"))):a.a.createElement("p",null,"Weather data is not currently available"))},It=function(e){return{color:e,fontSize:"2em",fontStyle:"italic",fontWeight:"bold",padding:".5em 0",boxSizing:"border-box",width:"min-content"}},Mt={charge:E,discharge:h,standby:b},Lt=function(e){var t=e.currentPrc,n=e.avgPrc,r=e.status;if(t&&n&&r){var o=t-n,c="charge"===r,l="discharge"===r,i=!c&&!l;return a.a.createElement("div",null,c&&a.a.createElement("div",{style:It(Mt.charge)},"CHARGE"),l&&a.a.createElement("div",{style:It(Mt.discharge)},"DISCHARGE"),i&&a.a.createElement("div",{style:It(Mt.standby)},"STANDBY"),a.a.createElement("p",null,function(e,t,n){var r=Qe(Math.abs(e),2);switch(!0){case t:return"LMP is currently $".concat(r,"/MWh less than 3-week running average");case n:return"LMP is currently $".concat(r,"/MWh greater than 3-week running average");default:return"Prices are not currently favorable for charging or discharging"}}(o,c,l)))}return a.a.createElement("p",null,"Status data is not currently available")},Rt={display:"block",padding:"0 0 1em",fontStyle:"italic",fontSize:u},zt=function(e){var t=e.content;return a.a.createElement("span",{style:Rt},t)},Ft={root:{display:"flex",padding:"0 1em"},status:{width:"35em"},prices:{display:"flex",justifyContent:"space-between",padding:"1em 0 0"},followingSection:{padding:"0 0 0 2em"}},Wt=function(e){var t=e.config,n=e.prices,r=e.charge,o=e.revenue,c=e.status,l=n&&n[n.length-1],i=l&&l.lmp,s=l&&l.mvgAvg,u=l&&l.timestamp;return a.a.createElement(wt,{headerContent:"Status"},a.a.createElement("div",{style:Ft.root},a.a.createElement("div",{style:Ft.status},u&&a.a.createElement(Dt,{message:"Data as of",millis:u,timeZone:t.timeZone}),a.a.createElement(Lt,{currentPrc:i,avgPrc:s,status:c}),t&&i&&a.a.createElement("div",{style:Ft.prices},a.a.createElement("div",null,a.a.createElement(Le,{content:"Current Price"}),a.a.createElement(bt,{content:nt(i)})),a.a.createElement("div",null,a.a.createElement(Le,{content:"Charge Threshold"}),a.a.createElement(bt,{content:nt(t.chargeThreshold)})),a.a.createElement("div",null,a.a.createElement(Le,{content:"Discharge Threshold"}),a.a.createElement(bt,{content:nt(t.dischargeThreshold)})))),a.a.createElement("div",{style:Ft.followingSection},a.a.createElement(zt,{content:"State of Charge"}),null!==r&&t.energy?a.a.createElement(bt,{content:"".concat(Qe(r/t.energy*100,1)," %")}):a.a.createElement("span",null,"State of charge data is not currently available")),a.a.createElement("div",{style:Ft.followingSection},a.a.createElement(zt,{content:"Revenue"}),null!==o?a.a.createElement(bt,{content:nt(o)}):a.a.createElement("span",null,"Revenue data is not currently available"))))},Bt=n(225),Nt=n(20),Zt={lmp:{unit:"$/Mwh",label:"Locational Marginal Price",color:C[3],format:nt},mvgAvg:{unit:"$/Mwh",label:"3 Week Moving Avg",color:C[6],format:nt},temperature:{unit:"\xb0F",label:"Temperature",color:C[2],format:function(e){return Qe(e,0)}},windSpeed:{unit:" m/s",label:"Wind Speed",color:C[5],format:function(e){return Qe(e,0)}},windBearing:{unit:"\xb0",label:"Wind Bearing",color:C[4],format:function(e){return e||"n/a"}},cloudCover:{unit:"%",label:"Cloud Cover",color:C[6],format:function(e){return 100*Qe(e,2)}}},_t={score:{unit:"",label:"Score",color:function(e){return e>0?"red":"green"},format:function(e){return Qe(e,3)}}};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ut=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Zt,{},_t),Jt={root:{backgroundColor:"#fff",border:"1px solid #a8a2aa",borderRadius:5,textAlign:"left"},date:{padding:5,fontSize:"1em"}},Yt=function(e){var t=e.payload,n=e.label,r=e.active,o=e.timeZone;return r&&a.a.createElement("div",{style:Jt.root},a.a.createElement("p",{style:Jt.date},Xe(n,o,"M/D h:mm A")),t.map((function(e,t){return a.a.createElement("p",{style:{color:e.color,padding:5},key:"value-".concat(t)},"".concat(Ut[e.name].label,":  ").concat(Ut[e.name].format(e.value)).concat(Ut[e.name].unit))})))};n(452);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=$t({},Zt,{},_t),Kt=function(e){return $t({},Vt.legendTile,{background:e})},Vt={root:{display:"inline-flex",flexWrap:"wrap",justifyContent:"space-evenly",padding:"0 5em 0 0"},dataType:{padding:".3em",display:"inline-flex",alignItems:"baseline"},legendTile:{margin:"0 12px 0 6px",width:20,height:10}},Xt=function(e){var t=e.payload;return a.a.createElement("div",{style:Vt.root},t.map((function(e,t){return a.a.createElement("div",{style:Vt.dataType,key:"legend-".concat(t)},qt[e.value].label,": ",a.a.createElement("div",{style:Kt(e.color)}))})))};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=a.a.memo((function(e){var t=e.data,n=e.timeZone,r=e.barKey,o=e.negBarThreshold,c=void 0===o?0:o,l=e.posBarThreshold,i=void 0===l?0:l,s=e.aspect,u=void 0===s?3:s,d=e.xRefLines,m=void 0===d?[]:d,p=e.useBrush,f=void 0!==p&&p,g=function(e){return e.reduce((function(e,t){return Object.keys(t).forEach((function(t){return e=e.includes(t)||"timestamp"===t?e:[].concat(Object(qe.a)(e),[t])})),e}),[])}(t).filter((function(e){return Object.keys(Zt).includes(e)})),v=t.reduce((function(e,t){var n=t.score>0?t[r]>i:t[r]<c,a=(t.score,Object(Bt.a)(t,["score"]));return[].concat(Object(qe.a)(e),n?[t]:[en({},a)])}),[]),O={top:10,bottom:10};return a.a.createElement(Nt.i,{width:"100%",aspect:u},a.a.createElement(Nt.e,{data:v,margin:{top:10,right:0,left:10,bottom:0}},a.a.createElement(Nt.k,{dataKey:"timestamp",tickFormatter:function(e){return Xe(e,n,"h:mm A")}}),a.a.createElement(Nt.l,{yAxisId:"left",tickCount:10,minTickGap:5,allowDecimals:!1,padding:O,tickFormatter:function(e){return nt(e)}}),a.a.createElement(Nt.l,{yAxisId:"right",orientation:"right",tickCount:5,padding:O,domain:[-3,3],tickFormatter:function(e){return Qe(e,2)}}),a.a.createElement(Nt.c,{strokeDasharray:"3 3"}),a.a.createElement(Nt.j,{content:a.a.createElement(Yt,{timeZone:n})}),a.a.createElement(Nt.h,{y:0,yAxisId:"right",stroke:b,strokeDasharray:"4 4"}),a.a.createElement(Nt.a,{yAxisId:"right",dataKey:"score",fill:"#000"},t.map((function(e,t){return a.a.createElement(Nt.d,{fill:e.score>0?h:E,key:"bar-".concat(t)})}))),f&&a.a.createElement(Nt.b,{dataKey:"timestamp",height:30,stroke:y,tickFormatter:function(e){return Xe(e,n,"M/D h:mm A")},endIndex:0}),g.map((function(e){return a.a.createElement(Nt.g,{yAxisId:"left",key:"".concat(e,"-line"),type:"monotone",dataKey:e,connectNulls:!0,stroke:Zt[e].color,dot:!1})})),m.map((function(e,t){return a.a.createElement(Nt.h,{x:e,yAxisId:"right",key:"x-".concat(t)})})),a.a.createElement(Nt.f,{content:a.a.createElement(Xt,null)})))})),nn={root:{textAlign:"left"},chart:{padding:"1em 0"},noData:{padding:"0 1em"}},rn=function(e){var t=e.match,n=t.url,o=t.params.projectId,c=tt(n,"dashboard",o),l=gt(o),i=Object(de.a)(l,2),s=i[0],u=i[1],d=Object(r.useState)(null),m=Object(de.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)(null),g=Object(de.a)(b,2),y=g[0],h=g[1],v=Object(r.useState)(null),E=Object(de.a)(v,2),O=E[0],j=E[1],w=Object(r.useState)(null),x=Object(de.a)(w,2),S=x[0],k=x[1],P=Object(r.useState)("standby"),C=Object(de.a)(P,2),D=C[0],T=C[1],A=Object(r.useCallback)((function(e){e.preventDefault();var t=JSON.parse(e.data),n=t.weather,r=t.prices,a=t.revenue,o=t.charge,c=t.status;f(n),h(r),j(a),k(o),T(c)}),[]),I="/dashboard/".concat(o,"/data");yt(I,A);var M=y&&y.length>0;return a.a.createElement(dt,{title:s?"".concat(s.name," - Dashboard"):"Project Dashboard",baseUrl:c,id:o},u&&a.a.createElement(Je,{message:""}),a.a.createElement("div",{style:nn.root},a.a.createElement(Wt,{config:s,prices:y,charge:S,revenue:O,status:D}),a.a.createElement(wt,{headerContent:"Last Hour"},M&&s?a.a.createElement(tn,{barKey:"lmp",negBarThreshold:s.chargeThreshold,posBarThreshold:s.dischargeThreshold,data:y,timeZone:s.timeZone,aspect:4}):a.a.createElement("p",{style:nn.noData},"Data for the last hour is not currently available")),s&&a.a.createElement(At,{weather:p,timeZone:s.timeZone})))};function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=function(e){return on({},ln.input,{color:e?b:m,cursor:e?"not-allowed":"inherit"})},ln={root:{display:"inline-flex",alignItems:"baseline"},input:{margin:"0 .5em 1em",fontSize:d,padding:".5em",background:p,border:"none",borderRadius:10},label:{padding:".2em 0",fontSize:"1em"}},sn=function(e){var t=e.name,n=e.label,r=e.value,o=e.checked,c=e.onChange,l=e.disabled,i=void 0!==l&&l;return a.a.createElement("div",{style:ln.root},a.a.createElement("input",{style:cn(i),type:"checkbox",id:t,value:r,checked:o,disabled:i,onChange:c}),a.a.createElement("label",{htmlFor:t,style:on({},Me,{},ln.label)},n))},un={padding:"0 0 1em",fontSize:".8em",fontStyle:"italic"},dn=function(e){var t=e.message,n=e.startMillis,r=e.endMillis,o=e.timeZone;return a.a.createElement("p",{style:un},"".concat(t," ").concat(Ve()(n).tz(o).format("M/D h:mm A")," to ").concat(Ve()(r).tz(o).format("M/D h:mm A")))};function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pn=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},fn.root,{width:e})},fn={root:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:".5em 0",textAlign:"left"},buttons:{display:"flex",justifyContent:"space-between",padding:"0 0 0 .5em"}},bn=function(e){var t=e.value,n=e.format,r=e.title,o=e.onIncrement,c=e.onDecrement,l=e.onIncrementLabel,i=e.onDecrementLabel,s=e.disabled,u=void 0!==s&&s,d=e.width,m=void 0===d?"16em":d;return a.a.createElement("div",{style:pn(m)},a.a.createElement(Le,{content:r}),a.a.createElement(bt,{content:n(t)}),a.a.createElement("div",{style:fn.buttons},a.a.createElement(Ze,{value:"- ".concat(i),disabled:u,type:"primary",onClick:c}),a.a.createElement(Ze,{value:"+ ".concat(l),disabled:u,type:"primary",onClick:o})))},gn=function(e){var t=e.date,n=e.title,r=e.increment,o=e.onIncrement,c=e.onDecrement,l=e.timeZone,i=e.disabled,s=void 0!==i&&i;return a.a.createElement(bn,{value:t,format:function(e){return Ve.a.tz(e,l).format("ddd, MMM Do YYYY, h:mm A")},title:n,onIncrement:o,onDecrement:c,onIncrementLabel:"".concat(q[r].label),onDecrementLabel:"".concat(q[r].label),disabled:s,width:"18em"})};function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn=function(e){return hn({},En.input,{color:e?b:m,cursor:e?"not-allowed":"inherit"})},En={root:{display:"inline-flex",alignItems:"baseline",padding:"0 .5em .5em"},input:{margin:"0 .5em 1em",fontSize:d,padding:".5em",background:p,border:"none",borderRadius:10},label:{padding:".2em 0",fontSize:"1em"}},On=function(e){var t=e.name,n=e.label,r=e.value,o=e.checked,c=e.onChange,l=e.disabled,i=void 0!==l&&l;return a.a.createElement("div",{style:En.root},a.a.createElement("input",{style:vn(i),type:"radio",id:t,value:r,checked:o,disabled:i,onChange:c}),a.a.createElement("label",{htmlFor:t,style:hn({},Me,{},En.label)},n))};function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wn={root:{padding:"0.5em 0"},radios:{display:"flex",padding:"0 0 0 .5em"}},xn=function(e){var t=e.onSelect,n=e.selected,r=(e.disabled,Object.keys(q).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},q[e],{disabled:!1})})));return a.a.createElement("div",{style:wn.root},a.a.createElement(Le,{content:"Select Time Increment"}),a.a.createElement("div",{style:wn.radios},r.map((function(e,r){return a.a.createElement(On,{name:e.value,label:e.label,value:e.value,checked:n===e.value,onChange:t,disabled:e.disabled,key:"lr=".concat(r)})}))))},Sn=function(e,t){var n=Ve.a.duration(t,"minutes");return Ve()(Math.floor(e/n)*n)},kn={root:{padding:"0 0 0 1em"},controls:{display:"flex",justifyContent:"space-between"}},Pn=function(e){var t=e.setStartTime,n=e.setEndTime,o=e.startTime,c=e.endTime,l=e.projectId,i=e.timeZone,s=void 0===i?"America/Los_Angeles":i,u=function(){return Sn(Ve()(),5)},d=Object.keys(q),m=Object(r.useState)(d[1]),p=Object(de.a)(m,2),f=p[0],b=p[1],g=function(e){return e.clone().add(1,f)},y=function(e){return e.clone().subtract(1,f)},h=function(e){var t=Ve()().subtract(7,"days"),n=Object(r.useState)(t),a=Object(de.a)(n,2),o=a[0],c=a[1],l=Object(r.useCallback)((function(e){e.preventDefault();var t=JSON.parse(e.data).minDateMillis;c(Ve()(t))}),[]),i="/get_min_date/".concat(e);return yt(i,l),o}(l);return a.a.createElement("div",{style:kn.root},a.a.createElement(Dt,{message:"Earliest data currently available is from",millis:h.valueOf(),timeZone:s}),a.a.createElement("div",{style:kn.controls},a.a.createElement(gn,{date:o,title:"Start Time",increment:f,onIncrement:function(){var e=g(o);e.isBefore(c)?t(e):t(c.clone().subtract(1,"day"))},onDecrement:function(){var e=y(o);e.isAfter(h)?t(e):t(h.clone())},timeZone:s}),a.a.createElement(gn,{date:c,title:"End Time",increment:f,onIncrement:function(){var e=g(c);e.isBefore(u())?n(e):n(u())},onDecrement:function(){var e=y(c);e.isAfter(o)?n(e):n(o.clone().add(1,"day"))},timeZone:s}),a.a.createElement(xn,{onSelect:function(e){return b(e.target.value)},selected:f})))},Cn={controls:{display:"flex",flexDirection:"column",justifyContent:"space-between"},request:{display:"flex",justifyContent:"flex-end"},include:{width:"22em",display:"inline-flex",justifyContent:"space-between",padding:"2em 0 0"},getData:{margin:".5em 0 0 1.5em"}},Dn=function(e){var t=e.match,n=t.url,o=t.params.projectId,c=tt(n,"historical",o),l=Sn(Ve()(),5),i=l.clone().subtract(7,"days"),s=gt(o),u=Object(de.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(i),f=Object(de.a)(p,2),b=f[0],g=f[1],y=Object(r.useState)(l),h=Object(de.a)(y,2),v=h[0],E=h[1],O=Object(r.useState)(!1),j=Object(de.a)(O,2),w=j[0],x=j[1],S=Object(r.useState)(null),k=Object(de.a)(S,2),P=k[0],C=k[1],D=Object(r.useState)(!1),T=Object(de.a)(D,2),A=T[0],I=T[1],M=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function e(){var t,n,r,a,c,l,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.valueOf(),n=v.valueOf(),r={id:o,endMillis:n,startMillis:t,includeWeather:A},a={method:"POST",headers:K,body:JSON.stringify(r)},e.prev=4,x(!0),e.next=8,Se("/historical/",a);case 8:return c=e.sent,e.next=11,c.json();case 11:l=e.sent,i=l.timeseries,C(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("There was an error retrieving historical data for your project: ".concat(e.t0));case 19:return e.prev=19,x(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])}))),[b,v,A,o]);return Object(r.useEffect)((function(){M()}),[]),a.a.createElement(dt,{title:d?"".concat(d.name," - Historical"):"Project Historical Analysis",baseUrl:c,id:o},(w||m)&&a.a.createElement(Je,{message:""}),P&&d&&a.a.createElement("div",null,a.a.createElement(wt,{headerContent:"Historical Data"},a.a.createElement(dn,{message:"Data from",startMillis:P[0].timestamp,endMillis:P[P.length-1].timestamp,timeZone:d.timeZone}),a.a.createElement(tn,{barKey:"lmp",data:P,timeZone:d.timeZone,aspect:4,useBrush:!0})),a.a.createElement(wt,{headerContent:"Select Time Range"},a.a.createElement("div",{style:Cn.controls},a.a.createElement(Pn,{setStartTime:g,setEndTime:E,startTime:b,endTime:v,projectId:o,timeZone:d.timeZone}),a.a.createElement("div",{style:Cn.request},a.a.createElement("div",{style:Cn.include},a.a.createElement(sn,{name:"include-weather",label:"Include Weather",value:!A,checked:A,onChange:function(e){return I("true"===e.target.value)}}),a.a.createElement(Ze,{value:"Get Data",disabled:w,type:"success",onClick:M,overrideStyles:Cn.button})))))))},Tn={specs:{padding:"0 2em"},columns:{display:"flex",flexDirection:"rows",justifyContent:"space-between",maxWidth:"60em"},dateControl:{padding:"0 0 0 1em"},button:{display:"flex",justifyContent:"flex-end",padding:".5em 0"}},An=function(e){var t=e.match,n=t.url,o=t.params.projectId,c=tt(n,"insights",o),l=Sn(Ve()(),5),i=l.clone().subtract(7,"days"),s=gt(o),u=Object(de.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(i),f=Object(de.a)(p,2),b=f[0],g=f[1],y=Object(r.useState)(l),h=Object(de.a)(y,2),v=h[0],E=h[1],O=Object(r.useState)(!1),j=Object(de.a)(O,2),w=j[0],x=j[1],S=Object(r.useState)(null),k=Object(de.a)(S,2),P=k[0],C=k[1],D=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function e(){var t,n,r,a,c,l,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.valueOf(),n=v.valueOf(),r={id:o,endMillis:n,startMillis:t},a={method:"POST",headers:K,body:JSON.stringify(r)},x(!0),e.prev=5,e.next=8,Se("/insights/",a);case 8:return c=e.sent,e.next=11,c.json();case 11:l=e.sent,i=l.aggregate,C(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.error("There was an error retrieving your project: ".concat(e.t0));case 19:return e.prev=19,x(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])}))),[b,v,o]);return Object(r.useEffect)((function(){D()}),[]),a.a.createElement(dt,{title:d?"".concat(d.name," - Insights"):"Project Data Insights",baseUrl:c,id:o},(w||m)&&a.a.createElement(Je,{message:""}),a.a.createElement("div",{style:Tn.columns},a.a.createElement(wt,{headerContent:"Values for Potential Charging"},a.a.createElement("div",{style:Tn.specs},a.a.createElement(Le,{content:"Number of Events"}),a.a.createElement(bt,{content:"".concat(P?P.belowN:0)}),a.a.createElement(Le,{content:"Average Price"}),a.a.createElement(bt,{content:"".concat(P?nt(P.belowMean):"$-.--")}),a.a.createElement(Le,{content:"Lowest Price"}),a.a.createElement(bt,{content:"".concat(P?nt(P.belowMin):"$-.--")}),a.a.createElement(Le,{content:"Highest Price"}),a.a.createElement(bt,{content:"".concat(P?nt(P.belowMax):"$-.--")}),a.a.createElement(Le,{content:"Standard Deviation"}),a.a.createElement(bt,{content:"".concat(P?nt(P.belowStdDev):"$-.--")}))),a.a.createElement(wt,{headerContent:"Values for Potential Discharging"},a.a.createElement("div",{style:Tn.specs},a.a.createElement(Le,{content:"Number of Events"}),a.a.createElement(bt,{content:"".concat(P?P.aboveN:0)}),a.a.createElement(Le,{content:"Average Price"}),a.a.createElement(bt,{content:"".concat(P?nt(P.aboveMean):"$-.--")}),a.a.createElement(Le,{content:"Lowest Price"}),a.a.createElement(bt,{content:"".concat(P?nt(P.aboveMin):"$-.--")}),a.a.createElement(Le,{content:"Highest Price"}),a.a.createElement(bt,{content:"".concat(P?nt(P.aboveMax):"$-.--")}),a.a.createElement(Le,{content:"Standard Deviation"}),a.a.createElement(bt,{content:"".concat(P?nt(P.aboveStdDev):"$-.--")})))),a.a.createElement(wt,{headerContent:"Select Time Range"},d&&a.a.createElement("div",{style:Tn.dateControl},a.a.createElement(Pn,{setStartTime:g,setEndTime:E,startTime:b,endTime:v,projectId:o,timeZone:d.timeZone}),a.a.createElement("div",{style:Tn.button},a.a.createElement(Ze,{value:"Get Insights",disabled:w,type:"success",onClick:D,width:"8em"})))))},In=n(34),Mn=n(222),Ln={background:f},Rn=function(e){var t=e.data,n=Object(r.useRef)(null),o=Math.PI/4,c=[375,100],l=In.e();return Object(r.useEffect)((function(){var e=t.points,r=t.axisLength,a=Object(Mn._3d)().scale(1).x((function(e){return e.x})).y((function(e){return e.y})).z((function(e){return e.z})).origin(c).rotateY(o).rotateX(-o).shape("SURFACE",r),i=In.g(n.current).append("g"),s=function(e){var t=(e[0].y+e[1].y+e[2].y+e[3].y)/4;return e.ccw?In.b(l(t)):In.a(In.b(l(t))).darker(2.5)};!function(){var t=In.d(e,(function(e){return e.y})),n=In.c(e,(function(e){return e.y})),r=In.f(e,(function(e,t){return t.y-e.y}));console.log("max revenue:",n,"\npoint?",e[r]),l.domain([t,n]),function(e,t){var n=i.selectAll("path").data(e,(function(e){return e.plane}));n.enter().append("path").attr("class","_3d").attr("fill",s).attr("opacity",0).attr("stroke-opacity",.1).merge(n).attr("stroke","black").transition().duration(t).attr("opacity",1).attr("fill",s).attr("d",a.draw),n.exit().remove(),In.h("._3d").sort(a.sort)}(a(e),1e3)}()}),[l,t,c,o]),a.a.createElement("svg",{style:Ln,width:750,height:1e3,ref:n})},zn={specs:{padding:"0 2em"},columns:{display:"flex",flexDirection:"rows",justifyContent:"space-between",maxWidth:"60em"},inclusion:{display:"flex",flexDirection:"column"},getData:{margin:".5em 0 0 1.5em"},minDate:{padding:"0 0 1em"},revenueWrapper:{display:"flex",justifyContent:"space-between"},controls:{display:"flex",width:"45em",justifyContent:"space-between"},revenue:{padding:".5em 1em"},revenueDisplay:{display:"inline-flex",alignItems:"baseline"},thresholds:{lineHeight:"1.5em",fontStyle:"italic",width:"15em",padding:".5em"},button:{flex:0},surface:{display:"flex",justifyContent:"space-between",padding:"1em"}},Fn=function(e){var t=e.match,n=t.url,o=t.params.projectId,c=tt(n,"dev",o),l=Ve()().subtract(7,"days"),i=l.clone().subtract(7,"days"),s=gt(o),u=Object(de.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(i),f=Object(de.a)(p,1)[0],b=Object(r.useState)(l),g=Object(de.a)(b,1)[0],y=Object(r.useState)(0),h=Object(de.a)(y,2),v=h[0],E=h[1],O=Object(r.useState)(0),j=Object(de.a)(O,2),w=j[0],x=j[1],S=Object(r.useState)(0),k=Object(de.a)(S,2),P=k[0],C=k[1],D=Object(r.useState)(0),T=Object(de.a)(D,2),A=T[0],I=T[1],M=Object(r.useState)(.1),L=Object(de.a)(M,1)[0],R=Object(r.useState)(!1),z=Object(de.a)(R,2),F=z[0],W=z[1],B=Object(r.useState)(null),N=Object(de.a)(B,2),Z=N[0],_=N[1],H=Object(r.useState)(null),U=Object(de.a)(H,2),J=U[0],Y=U[1],G=Object(r.useState)(0),$=Object(de.a)(G,2),q=$[0],V=$[1],X=function(e,t){return e+t},Q=function(e,t){return e-t},ee=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function e(){var t,n,r,a,c,l;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.valueOf(),n=g.valueOf(),r={id:o,endMillis:n,startMillis:t},a={method:"POST",headers:K,body:JSON.stringify(r)},W(!0),e.prev=5,e.next=8,Se("/get_revenue_surface/",a);case 8:return c=e.sent,e.next=11,c.json();case 11:l=e.sent,_(l.revenueSurface),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error("There was an error calculating revenue surface data for your project: ".concat(e.t0));case 18:return e.prev=18,W(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])}))),[f,g,o]),te=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function e(){var t,n,r,a,c,l,i,s,u,d,m;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.valueOf(),n=g.valueOf(),r={id:o,endMillis:n,startMillis:t},a={method:"POST",headers:K,body:JSON.stringify(r)},W(!0),e.prev=5,e.next=8,Se("/insights/",a);case 8:return c=e.sent,e.next=11,c.json();case 11:l=e.sent,i=l.aggregate,Y(i),s=i.belowMean,u=i.belowStdDev,d=i.aboveMean,m=i.aboveStdDev,E(s),x(u),C(d),I(m),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),console.error("There was an error retrieving your project: ".concat(e.t0));case 24:return e.prev=24,W(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[5,21,24,27]])}))),[f,g,o]),ne=Object(r.useCallback)(Object(Ee.a)(ve.a.mark((function e(){var t,n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:o,chargeThreshold:v,dischargeThreshold:P},n={method:"POST",headers:K,body:JSON.stringify(t)},W(!0),e.prev=3,e.next=6,Se("/get_revenue_by_thresholds/",n);case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,V(a.revenue),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("There was an error retrieving revenue data: ".concat(e.t0));case 16:return e.prev=16,W(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])}))),[v,P,o]);return Object(r.useEffect)((function(){te()}),[]),a.a.createElement(dt,{title:"Development Platform",baseUrl:c,id:o},(F||m)&&a.a.createElement(Je,{message:""}),a.a.createElement(wt,{headerContent:"Test Charge and Discharge Thresholds"},J&&a.a.createElement("div",{style:zn.revenue},a.a.createElement("div",{style:zn.revenueDisplay},a.a.createElement(Le,{content:"7 Day Revenue for Selected Thresholds:"}),a.a.createElement(bt,{content:"".concat(q?nt(q):"$-.--")})),a.a.createElement("div",{style:zn.revenueWrapper},a.a.createElement("div",{style:zn.controls},a.a.createElement("div",null,a.a.createElement(bn,{value:v||d&&d.chargeThreshold,format:nt,title:"Charge Threshold",disabled:d&&!d.chargeThreshold,onIncrement:function(){var e=X(v,w*L);E(e)},onDecrement:function(){var e=Q(v,w*L);E(e)},onIncrementLabel:"".concat(L,"\u03c3"),onDecrementLabel:"".concat(L,"\u03c3"),width:"18em"}),a.a.createElement("p",{style:zn.thresholds},"Charge Threshold is ".concat(Qe((J.belowMean-v)/J.belowStdDev,2)," x \u03c3 below the mean"))),a.a.createElement("div",null,a.a.createElement(bn,{value:P||d&&d.dischargeThreshold,format:nt,title:"Discharge Threshold",disabled:d&&!d.dischargeThreshold,onIncrement:function(){var e=X(P,A*L);C(e)},onDecrement:function(){var e=Q(P,A*L);C(e)},onIncrementLabel:"".concat(L,"\u03c3"),onDecrementLabel:"".concat(L,"\u03c3"),width:"18em"}),a.a.createElement("p",{style:zn.thresholds},"Discharge Threshold is ".concat(Qe((P-J.aboveMean)/J.aboveStdDev,2)," x \u03c3 above the mean")))),a.a.createElement("div",{style:zn.button},a.a.createElement(Ze,{value:"Get Revenue",disabled:F,type:"success",onClick:ne,width:"8em"}))))),a.a.createElement(wt,{headerContent:"Revenue Surface"},a.a.createElement("div",{style:zn.surface},Z?a.a.createElement(Rn,{data:Z}):a.a.createElement("div",null),a.a.createElement("div",{style:zn.button},a.a.createElement(Ze,{value:"Show Chart",disabled:F,type:"success",onClick:ee,width:"8em"})))))},Wn=function(e){var t=e.match;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{exact:!0,path:"".concat(t.path,"/create_project"),component:pt}),a.a.createElement(i.a,{path:"".concat(t.path,"/project/:projectId"),component:Et}),a.a.createElement(i.a,{path:"".concat(t.path,"/roi/:projectId"),component:Ot}),a.a.createElement(i.a,{path:"".concat(t.path,"/dashboard/:projectId"),component:rn}),a.a.createElement(i.a,{path:"".concat(t.path,"/historical/:projectId"),component:Dn}),a.a.createElement(i.a,{path:"".concat(t.path,"/insights/:projectId"),component:An}),a.a.createElement(i.a,{path:"".concat(t.path,"/dev/:projectId"),component:Fn}))},Bn={root:{textAlign:"left",padding:"1em 3em"},list:{lineHeight:"3em",padding:"1em 0 1em 1.5em",listStyle:"disc"},link:{textAlign:"right",padding:"0 2em"},button:{padding:".8em"}},Nn=function(e){var t=e.match;return a.a.createElement(ue,{title:"Demo"},t.isExact&&a.a.createElement("div",{style:Bn.root},a.a.createElement(L,{content:"Evaluate Project Locations"}),a.a.createElement("ul",{style:Bn.list},a.a.createElement("li",null,a.a.createElement("p",null,"Coming Soon!"))),a.a.createElement(L,{content:"Build a Project"}),a.a.createElement("ul",{style:Bn.list},a.a.createElement("li",null,a.a.createElement("p",null,"Specify the project location either by clicking on the map or entering an address.")),a.a.createElement("li",null,a.a.createElement("p",null,"Specify the power, energy capacity, and round trip efficiency of your battery or other storage technology.")),a.a.createElement("li",null,a.a.createElement("p",null,"Create the project to get access to the Project Dashboard, Historical data visualizer, and Insights page for requesting statistical data about prices on the selected node."))),a.a.createElement("div",{style:Bn.link},a.a.createElement(_,{to:"/demo/create_project"},a.a.createElement(Ze,{value:"CREATE PROJECT",type:"primary",overrideStyles:Bn.button,width:"12em"})))),a.a.createElement(Wn,{match:t}))},Zn=n(87),_n=n.n(Zn),Hn=n(223),Un=n.n(Hn),Jn=(n(209),{root:{padding:"0 1em",textAlign:"left"}}),Yn=function(){var e=ht(Un.a);return a.a.createElement(ue,{title:"About"},a.a.createElement("div",{style:Jn.root},a.a.createElement(L,{content:"Entelx"}),a.a.createElement(_n.a,{source:e})))},Gn=n(224),$n=n.n(Gn),qn={root:{padding:"0 1em",textAlign:"left"}},Kn=function(){var e=ht($n.a);return a.a.createElement(ue,{title:"Contact"},a.a.createElement("div",{style:qn.root},a.a.createElement(_n.a,{source:e})))},Vn={root:{textAlign:"right"},nav:{display:"inline-flex",width:"13em",justifyContent:"space-between",padding:"1em 3em"}},Xn=function(){return a.a.createElement("div",{style:Vn.root},a.a.createElement("nav",{style:Vn.nav},a.a.createElement(_,{to:"/"},"Home"),a.a.createElement(_,{to:"/demo"},"Demo"),a.a.createElement(_,{to:"/login",disabled:!0},"Log In")))},Qn=function(){var e=Object(r.useState)(!1),t=Object(de.a)(e,2),n=t[0],o=t[1];return a.a.createElement(dt,{title:"System Administration"},n&&a.a.createElement(Je,{message:""}),a.a.createElement("p",null,"One Time Request"),a.a.createElement(Ze,{value:"EXECUTE",type:"danger",onClick:function(){o(!0);var e=JSON.stringify({keys:[]});Se("",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}).then((function(e){console.log("res at onRequest",e),o(!1)})).catch((function(e){o(!1),console.error("There was an error writing to ".concat("",": ").concat(e))}))}}))},er=(n(532),{root:{fontFamily:"Montserrat, Helvetica, sans-serif",fontWeight:200,fontSize:14,textAlign:"center",overflow:"hidden",display:"flex",flexDirection:"column",minHeight:"100vh"}}),tr=function(){return a.a.createElement("div",{style:er.root},a.a.createElement(Xn,null),a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{exact:!0,path:"/",component:ee}),a.a.createElement(i.a,{path:"/demo",component:Nn}),a.a.createElement(i.a,{path:"/about",component:Yn}),a.a.createElement(i.a,{path:"/contact",component:Kn}),a.a.createElement(i.a,{path:"/system_admin",component:Qn})))},nr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function rr(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(a.a.createElement(l.a,null,a.a.createElement(tr,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");nr?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):rr(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):rr(e)}))}}()}},[[260,1,2]]]);
//# sourceMappingURL=main.4a19ea4f.chunk.js.map