{"version":3,"sources":["textPages/about/about.md","textPages/contact/contact.md","config/styles.js","components/Header1.js","components/Header2.js","components/Header3.js","components/Header4.js","components/DisableableLink.js","components/Footer.js","components/logo/index.js","config/index.js","components/Home.js","components/GradientBackground.js","components/PublicPageHeader.js","components/PublicPageTemplate.js","containers/map/Map.js","utils/requestUtils.js","containers/map/MapNodeRenderer.js","components/map/MapMarkerRenderer.js","config/map.js","components/map/MapISOAreaRenderer.js","components/Label.js","components/LabeledInput.js","components/button/index.js","components/loading/index.js","components/navButton/index.js","utils/index.js","components/ProjectNav.js","components/ProjectMenu.js","components/ProjectPageHeader.js","components/ProjectPageTemplate.js","containers/CreateProject.js","components/DataDisplay.js","hooks/dataHooks.js","hooks/textPageHooks.js","containers/Project.js","containers/ProjectRoi.js","components/DashboardSection.js","components/DashboardSectionContent.js","components/WeatherIcon.js","components/DataTimeDisplay.js","components/CurrentWeatherDisplay.js","components/ChargeStatusDisplay.js","components/HeadingLabel.js","components/Status.js","config/chart.js","components/charts/CustomTooltip.js","components/charts/CustomLegend.js","components/charts/LineBarChart.js","containers/ProjectDashboard.js","components/LabeledCheckbox.js","components/DataTimeRangeDisplay.js","components/ValueControl.js","components/DateControl.js","components/LabeledRadio.js","components/TimeIncrementSelect.js","utils/dateTimeUtils.js","containers/DateRangeControl.js","containers/HistoricalDisplay.js","containers/InsightsDisplay.js","components/charts/ThreeDimensionalChart.js","containers/DevelopmentPlatform.js","components/ProjectTools.js","containers/Demo.js","textPages/about/index.js","textPages/contact/index.js","components/headerNavBar/index.js","containers/SystemAdmin.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","fontSize","colors","nodeColors","isoColors","caiso","ercot","3","4","5","buttons","primary","color","background","success","danger","boxShadow","trendColors","styles","Header1","content","style","Header2","Header3","Header4","getStyles","disabled","textDecoration","pointerEvents","cursor","DisableableLink","to","children","root","width","display","justifyContent","margin","Footer","Logo","height","className","xmlns","viewBox","points","timeIncrements","hour","label","value","day","week","month","defaultHeaders","backgroundSize","backgroundPosition","padding","gridTemplateRows","gridRowGap","justifyItems","alignItems","secondary","marginTop","gridTemplateColumns","secondaryText","textAlign","lineHeight","banner","backgroundImage","mission","gridColumn","gridRowStart","zIndex","purpose","text","list","listItem","footerLinks","Home","GradientBackground","addlStyles","placement","clipPath","justifySelf","alignSelf","PublicPageHeader","title","flexDirection","flex","PublicPageTemplate","boxSizing","Map","zoom","center","mapboxgl","accessToken","process","useState","map","setMap","mapContainer","useRef","useEffect","container","current","minZoom","on","remove","childrenWithProps","React","Children","child","cloneElement","ref","parseResponse","res","json","checkStatus","status","error","Error","statusText","response","singleRequest","path","options","Promise","resolve","reject","fetch","then","catch","MapNodeRenderer","nodes","setNodes","a","request","method","headers","console","getNodes","popup","Popup","closeButton","closeOnClick","onNodeMouseEnter","useCallback","e","getCanvas","coordinates","features","geometry","slice","nodeProps","properties","popUpHtml","Object","keys","reduce","str","np","i","newLine","nodeKey","formatNodeLabels","length","arr","split","join","Math","abs","lngLat","lng","setLngLat","setHTML","addTo","onNodeMouseLeave","onClusterMouseEnter","onClusterMouseLeave","onClusterClick","queryRenderedFeatures","point","layers","clusterId","cluster_id","getSource","getClusterExpansionZoom","err","newZoom","easeTo","setLayers","addSource","type","data","cluster","clusterMaxZoom","clusterRadius","addLayer","id","source","filter","paint","layout","cleanUp","off","propTypes","PropTypes","object","MapMarkerRenderer","lat","marker","Marker","arrayOf","number","isoLayerSources","MapISOAreaRenderer","getLatLng","iso","onLayerClick","layer","cleanup","oneOf","isRequired","func","labelStyle","fontStyle","Label","getInputStyles","inputWidth","input","border","borderRadius","LabeledInput","name","placeholder","unit","min","max","step","onChange","htmlFor","undefined","MozBorderRadius","WebkitBorderRadius","Button","onClick","main","position","right","top","overlay","message","bottom","Loading","getClassName","listStyle","link","NavButton","baseUrl","formatDate","isoString","tz","format","moment","roundToDigits","val","digits","rounder","round","setField","stateFunction","preventDefault","target","getBaseUrl","url","page","projectId","replace","formatDollars","toFixed","borderRight","withRouter","base","match","location","tools","envTest","env","tool","t","key","button","ProjectMenu","setDisplay","menuRef","handleOutsideClick","contains","document","addEventListener","removeEventListener","compactRoot","transition","items","compactItems","compactText","ProjectPageHeader","showMenu","setPosition","isCompact","header","checkScroll","pos","getBoundingClientRect","switchStyles","rootStyles","gradientStyles","itemStyles","textStyles","ProjectPageTemplate","Fragment","flexWrap","marginBottom","form","minWidth","subSection","maxWidth","latLng","minHeight","history","cleanUrl","setLat","setLng","setProjectName","energy","setEnergyCapacity","power","setPowerCapacity","rte","setRte","address","setAddress","city","setCity","state","setState","zip","setZip","loading","setLoading","locationChosen","setLocationChosen","body","JSON","stringify","includes","push","setError","DataDisplay","useGetProject","project","setProject","getProject","useConnectToServerSideEvent","route","handleData","stream","EventSource","handlePing","log","parse","time","handleError","close","useGetMd","md","setMd","getMd","parsed","specs","params","loadingProject","ProjectRoi","setData","sseRoute","cheese","DashboardSection","headerContent","childStyles","DashboardSectionContent","Skycons","require","window","WeatherIcon","icon","iconConfig","getIconConfig","skycons","iconRef","add","play","skycon","DataTimeDisplay","timeZone","linkContainer","ds","dataDisplay","CurrentWeatherDisplay","weather","toISOString","temperature","cloudCover","windSpeed","windGust","windBearing","nearestStormDistance","nearestStormBearing","rel","href","getStatusStyles","fontWeight","statusColors","charge","discharge","standby","ChargeStatusDisplay","currentPrc","avgPrc","diff","displayPrc","getPriceDescription","HeadingLabel","prices","followingSection","Status","config","revenue","latest","lmp","mvgAvg","timestamp","chargeThreshold","dischargeThreshold","lineDataFormat","barDataFormat","score","formats","backgroundColor","date","CustomTooltip","payload","active","obj","getLegendTileStyles","legendTile","dataType","CustomLegend","p","LineBarChart","memo","barKey","negBarThreshold","posBarThreshold","aspect","xRefLines","useBrush","dataTypes","d","forEach","k","findRelevantKeys","overThreshold","agg","entry","includeScore","remaining","yAxisPadding","left","dataKey","tickFormatter","yAxisId","tickCount","minTickGap","allowDecimals","orientation","domain","strokeDasharray","y","stroke","fill","endIndex","connectNulls","dot","x","chart","noData","ProjectDashboard","setWeather","setPrices","setRevenue","setCharge","setChargeThreshold","setDischargeThreshold","setStatus","hasPrices","LabeledCheckbox","checked","DataTimeRangeDisplay","startDate","endDate","getRootStyle","ValueControl","onIncrement","onDecrement","onIncrementLabel","onDecrementLabel","DateControl","increment","LabeledRadio","radios","TimeIncrementSelect","onSelect","selected","increments","inc","roundMomentToMinutes","mt","minutes","duration","floor","controls","DateRangeControl","setStartTime","setEndTime","startTime","endTime","getNow","incrementsArr","timeIncrement","setTimeIncrement","clone","subtract","minDate","oneWeekAgo","setMinDate","minDatetime","useMinDate","incremented","isBefore","decremented","isAfter","include","getData","HistoricalDisplay","now","timeseries","setTimeseries","includeWeather","setIncludeWeather","overrideStyles","columns","dateControl","InsightsDisplay","aggregate","setAggregate","belowN","belowMean","belowMin","belowMax","belowStdDev","aboveN","aboveMean","aboveMin","aboveMax","aboveStdDev","ThreeDimensionalChart","chartRef","startAngle","PI","origin","d3","axisLength","surface","_3d","scale","z","rotateY","rotateX","shape","svg","append","colorize","_y","ccw","darker","yMin","yMax","maxPoint","b","surfaceData","millis","planes","selectAll","sd","plane","enter","attr","merge","draw","exit","sort","processData","init","inclusion","revenueWrapper","revenueDisplay","thresholds","DevelopmentPlatform","chargeStdDev","setChargeStdDev","dischargeStdDev","setDischargeStdDev","multiplier","revenueSurface","setRevenueSurface","getRevenueSurface","getTest","nodeId","getRevenue","ProjectTools","exact","component","CreateProject","Project","existing","Demo","demoProject","setDemoProject","getDemoProject","showDemo","isExact","About","aboutMd","about","Contact","contactMd","contact","HeaderNavBar","SystemAdmin","fontFamily","overflow","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","getElementById","URL","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.a8f7db52.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/about.c3f1acfd.md\";","module.exports = __webpack_public_path__ + \"static/media/contact.93d6a9d3.md\";","export const fontSize = {\n  //perfect fourth\n  h1: '3.157em',\n  h2: '2.369em',\n  h3: '1.777em',\n  h4: '1.333em',\n  h5: '1em',\n  label: '1.1em',\n}\n\nexport const colors = {\n  text: '#363D38',\n  lightGray: '#e2e2e2',\n  mediumGray: '#A0A0A0',\n  gray: '#838383',\n  darkGray: '#3D3D3D',\n  white: '#fff',\n  lightGreen: '#90DDAA',\n  brightGreen: '#23B253', //hsb(140 80 70)\n  middleGreen: '#00872D',\n  deepGreen: '#046D27',\n  darkGreen: '#001E0A',\n  red: '#CC333F',\n  lightBlue: '#01BAEF',\n  darkBlue: '#082656',\n  paleYellow: '#FFE659',\n  deepYellow: '#FFD800',\n}\n\nexport const nodeColors = [\n  '#F71735',\n  '#91A6FF',\n  '#FF88DC',\n  '#FAFF7F',\n  '#17BEBB',\n  '#CD5334',\n  '#004E64',\n  '#9FFFCB',\n  '#7AE582',\n  '#007EA7',\n  '#FF9F1C',\n  '#380036',\n  '#01BAEF',\n  '#26081C',\n  '#192BC2',\n  '#003459',\n  '#0E0E52',\n  '#FDE74C',\n]\n\nexport const isoColors = {\n  caiso: '#E28413',\n  ercot: '#F56416',\n  3: '#DD4B1A',\n  4: '#EF271B',\n  5: '#EA1744',\n}\n\nexport const buttons = {\n  primary: {\n    color: colors.white,\n    background: colors.darkBlue,\n  },\n  success: {\n    color: colors.white,\n    background: colors.brightGreen,\n  },\n  danger: {\n    color: colors.white,\n    background: colors.red,\n  },\n}\n\nexport const boxShadow = '0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)'\n\nexport const trendColors = [\n  '#861388',\n  '#083D77',\n  '#345995',\n  '#7067CF',\n  '#89A6FB',\n  '#78C3FB',\n  '#03CEA4',\n]\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header1 = ({content}) => (\n  <h1\n    style={styles}\n  >\n  {content}\n  </h1>\n)\n\nconst styles = {\n  fontSize: fontSize.h1,\n}\n\nHeader1.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header1\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header2 = ({content}) => (\n  <h2\n    style={styles}\n  >\n  {content}\n  </h2>\n)\n\nconst styles = {\n  fontSize: fontSize.h2,\n}\n\nHeader2.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header2\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header3 = ({content}) => (\n  <h3\n    style={styles}\n  >\n  {content}\n  </h3>\n)\n\nconst styles = {\n  fontSize: fontSize.h3,\n}\n\nHeader3.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header3\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header4 = ({content}) => (\n  <h4\n    style={styles}\n  >\n  {content}\n  </h4>\n)\n\nconst styles = {\n  fontSize: fontSize.h4,\n}\n\nHeader4.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header4\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nimport { colors } from '../config/styles'\n\nconst DisableableLink = ({\n  to,\n  children,\n  disabled = false,\n}) => (\n\n  <Link to={to} style={getStyles(disabled)}>{children}</Link>\n)\n\nconst getStyles = disabled => ({\n  textDecoration: 'none',\n  color: disabled ? colors.mediumGray : colors.text,\n  pointerEvents: disabled ? 'none' : 'auto',\n  cursor: disabled ? 'not-allowed' : 'pointer',\n})\n\nDisableableLink.propTypes = {\n  to: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n}\n\nexport default DisableableLink\n","import React from 'react'\n\nimport Header4 from './Header4'\nimport DisableableLink from './DisableableLink'\n\nconst Footer = () => (\n\n  <div style={styles.root} >\n\n    <DisableableLink to=\"/about\" >\n      <Header4\n        content={'About'}\n      />\n    </DisableableLink>\n    <DisableableLink to=\"/contact\">\n      <Header4\n        content={'Contact'}\n      />\n    </DisableableLink>\n  </div>\n)\n\nconst styles = {\n  root: {\n    width: '100%',\n    display: 'inline-flex',\n    justifyContent: 'space-around',\n    margin: '2em 0 4em',\n  },\n}\n\nexport default Footer\n","import React from 'react'\n\nconst Logo = ({\n  height = 100,\n  className = 'company-logo',\n}) => {\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 210 162\"\n      className={className}\n      style={{height: height}}\n      >\n    <g>\n      <polygon\n      className=\"e\" points=\"210.08 0 200.9 33.18 139.15 33.18 129.15 62.21 175.13 62.21 165.17 96 119.94 96 109.94 124.61 183.74 124.61 173.94 162 56.94 162 105.94 0 210.08 0\"/>\n    </g>\n    <g>\n      <polygon className=\"status-top\" points=\"99.61 0.58 84.81 45.36 57.47 45.36 79 0.58 99.61 0.58\"/>\n      <polygon className=\"status-middle\" points=\"54.59 51.52 82.77 51.52 66.15 103.7 29.34 103.7 54.59 51.52\"/>\n      <polygon className=\"status-bottom\" points=\"25.97 110.9 63.8 110.9 47.61 162 0 162 25.97 110.9\"/>\n    </g>\n    </svg>\n  )\n}\n\nexport default Logo\n","export const companyName = 'Entelx'\nexport const utcFormat = 'YYYY-MM-DDTHH:mm:ss.sss[Z]'\n\nexport const dayMonthYearTimeFormat = 'ddd, MMM Do YYYY, h:mm A'\n\nexport const monthDayTimeFormat = 'M/D h:mm A'\nexport const twelveHourFormat = 'h:mm A'\n\nexport const blankDollars = '$-.--'\n\nexport const timeIncrements = {\n  hour: {\n    label: 'Hour',\n    value: 'hour',\n  },\n  day: {\n    label: 'Day',\n    value: 'day',\n  },\n  week: {\n    label: 'Week',\n    value: 'week',\n  },\n  month: {\n    label: 'Month',\n    value: 'month',\n  },\n}\n\nexport const defaultHeaders = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json'\n}\n","import React from 'react'\n\nimport Header1 from './Header1'\nimport Header2 from './Header2'\nimport Header3 from './Header3'\nimport Header4 from './Header4'\nimport Footer from './Footer'\nimport Logo from './logo/'\n\nimport { colors } from '../config/styles'\n\nimport { companyName } from '../config/'\n\nconst Home = () => (\n\n  <div>\n    <div style={styles.root}>\n      <div style={styles.primary}>\n        <Logo\n          height={'9.5em'}\n          />\n        <Header1\n          content={companyName}\n          />\n        <Header4\n          content={'Accelerating Energy Intelligence'}\n          />\n      </div>\n\n      <div style={styles.secondary}>\n        <div></div>\n        <div style={styles.secondaryText}>\n          <Header2\n            content={'Renewable energy has arrived...'}\n            />\n          <Header2\n            content={'But the transition to sustainable energy must move faster'}\n            />\n        </div>\n      </div>\n\n      <div style={styles.banner}>\n        <Header2\n          content={`${companyName} is here to help`}\n          />\n      </div>\n\n      <div style={styles.mission}>\n        <Header3\n          content={'Our mission is to help accelerate the transition to renewable energy by improving the economics of bulk energy storage'}\n          />\n      </div>\n      <div style={styles.purpose}>\n        <div></div>\n        <div>\n          <p style={styles.text}>Renewable energy has expanded by leaps and bounds in the last decade and is already the lowest cost source of energy in many places in the world.  Unfortunately, most of its natural intermittency is currently handled by fossil fuel energy resources.  Plus the more renewable energy that is deployed in each location, the lower its value becomes.</p>\n\n          <p style={styles.text}>Energy storage can solve these issues.  Storage provides a market for renewable power that would otherwise be curtailed and storage assets charged from this low-cost power can then profitably undercut the dirtiest fossil fuel generators.  Energy storage is widely seen as essential for renewable energy supplying the majority of energy demand and setting us on the path to a sustainable future.</p>\n\n          <p style={styles.text}>{companyName} is accelerating energy intelligence by:</p>\n          <ul style={styles.list}>\n            <li style={styles.listItem}>Providing real-time charge and discharge signals that maximize arbitrage value</li>\n            <li style={styles.listItem}>Locating and evaluating arbitrage opportunities</li>\n            <li style={styles.listItem}>Estimating storage project ROI</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <Footer />\n  </div>\n)\n\nconst styles = {\n  root: {\n  },\n  primary: {\n    background: 'url(\"/images/solarPanels1wo.jpg\") no-repeat left top',\n    backgroundSize: 'cover',\n    backgroundPosition: '0% 50%',\n    color: '#fff',\n    padding: '0 0 2rem 2rem',\n    height: '36em',\n    display: 'grid',\n    gridTemplateRows: 'auto 4em 2em',\n    gridRowGap: '.6em',\n    justifyContent: 'flex-start',\n    justifyItems: 'flex-start',\n    alignItems: 'flex-end',\n  },\n  secondary: {\n    color: '#fff',\n    background: 'url(\"/images/windTurbines3wo.jpg\") no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: '90% 50%',\n    marginTop: '6em',\n    height: '30em',\n    padding: '2em',\n    display: 'grid',\n    alignItems: 'flex-end',\n    gridTemplateColumns: 'auto 20em',\n  },\n  secondaryText: {\n    textAlign: 'right',\n    lineHeight: 1.4,\n  },\n  banner: {\n    backgroundImage: `linear-gradient(${colors.deepGreen}, ${colors.brightGreen})`,\n    color: '#fff',\n    marginTop: '5em',\n    height: '8em',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  mission: {\n    gridColumn: 'leftCol1 / end',\n    gridRowStart: 'row4',\n    padding: '1em 3em',\n    color: colors.text,\n    zIndex: 2,\n  },\n  purpose: {\n    display: 'grid',\n    gridTemplateColumns: 'auto 80% auto',\n    color: colors.text,\n  },\n  text: {\n    padding: '.5em',\n    textAlign: 'left',\n  },\n  list: {\n    textAlign: 'left',\n    padding: '0 2em',\n  },\n  listItem: {\n    padding: '.2em 0',\n  },\n  footerLinks: {\n    gridRowStart: 'row6'\n  },\n}\n\nexport default Home\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { colors } from '../config/styles'\n\nconst GradientBackground = ({addlStyles}) => (\n  <div style={{\n      ...styles,\n      ...addlStyles,\n    }}/>\n)\n\nconst styles = {\n  backgroundImage: `linear-gradient(${colors.brightGreen}, ${colors.deepGreen})`,\n}\n\nGradientBackground.propTypes = {\n  addlStyles: PropTypes.object,\n}\n\nexport default GradientBackground\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport GradientBackground from './GradientBackground'\nimport Header2 from './Header2'\n\nimport { colors } from '../config/styles'\n\nconst PublicPageHeader = ({title}) => (\n\n  <div style={styles.root}>\n    <GradientBackground\n      addlStyles={{\n        ...styles.placement,\n        ...styles.background,\n      }}\n      />\n    <div style={{\n        ...styles.placement,\n        ...styles.text,\n      }}>\n      <Header2 content={title} />\n    </div>\n  </div>\n)\n\nconst styles = {\n  root: {\n    display: 'grid',\n    gridTemplateColumns: '[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]',\n    gridTemplateRows: '[row1] 5em [ws1] 1em',\n  },\n  placement: {\n    gridColumn: 'rightCol / end',\n    gridRowStart: 'row1',\n  },\n  background: {\n    clipPath: 'polygon(2% 0, 100% 0, 100% 100%, 0 100%)'\n  },\n  text: {\n    zIndex: 1,\n    color: colors.white,\n    padding: '.5em 3em',\n    justifySelf: 'end',\n    alignSelf: 'end',\n    background: 'transparent',\n  },\n}\n\nPublicPageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n}\n\nexport default PublicPageHeader\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Footer from './Footer'\nimport PublicPageHeader from './PublicPageHeader'\nimport { colors } from '../config/styles'\n\nconst PublicPageTemplate = ({title, children}) => (\n\n  <div style={styles.root}>\n    <PublicPageHeader title={title} />\n    <div style={styles.content}>\n      {children}\n    </div>\n    <Footer />\n  </div>\n)\n\nconst styles = {\n  root: {\n    color: colors.text,\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n  content: {\n    margin: '0 0 auto',\n  }\n}\n\nPublicPageTemplate.propTypes = {\n  title: PropTypes.string.isRequired,\n  content: PropTypes.node,\n}\n\nexport default PublicPageTemplate\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n} from 'react'\nimport PropTypes from 'prop-types'\nimport mapboxgl from 'mapbox-gl'\n\nconst Map = ({\n  zoom,\n  center,\n  style,\n  children,\n}) => {\n\n  mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\n\n  const [map, setMap] = useState(null)\n  const mapContainer = useRef(null)\n\n  useEffect( () => {\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v9',\n      zoom,\n      center,\n      minZoom: 3,\n    })\n\n    map.on('load', () => setMap(map) )\n\n    return () => map.remove()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  const childrenWithProps = React.Children.map(children, child =>\n    child && React.cloneElement(child, { map, })\n  )\n\n  return (\n\n    <div\n      style={{\n        ...styles.root,\n        ...style,\n      }}\n      ref={mapContainer}\n      >\n      {map && childrenWithProps}\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'block',\n    boxSizing: 'border-box',\n    textAlign: 'justify',\n  }\n}\n\nMap.propTypes = {\n  center: PropTypes.arrayOf(PropTypes.number), //[lng, lat]\n  zoom: PropTypes.number,\n  style: PropTypes.object,\n}\n\nexport default Map\n","export const parseResponse = res => res.json()\n\nexport const handleError = (self, err) => self.setState({\n  loading: false,\n  showError: true,\n  error: err.message,\n})\n\nexport const checkStatus = res => {\n  if (res.status >= 200 && res.status < 300) {\n    return res\n  }\n  else {\n    const error = new Error(`HTTP Error: ${res.status} ${res.statusText}`)\n    error.status = res.statusText\n    error.response = res\n    throw error\n  }\n}\n\nexport const singleRequest = (path, options) => new Promise( (resolve, reject) => fetch(path, options)\n    .then(checkStatus)\n    .then(resolve)\n    .catch(reject)\n  )\n","import { useState, useEffect, useCallback} from 'react'\nimport PropTypes from 'prop-types'\n\nimport mapboxgl from 'mapbox-gl'\n\nimport {\n  singleRequest,\n} from '../../utils/requestUtils'\n\nimport {\n  nodeColors,\n  colors,\n} from '../../config/styles'\n\nimport { defaultHeaders } from '../../config/'\n\nconst MapNodeRenderer = ({ map }) => {\n\n  const [nodes, setNodes] = useState(null)\n\n  useEffect( () => {\n    const getNodes = async () => {\n\n      const request = {\n        method: 'GET',\n        headers: defaultHeaders,\n      }\n\n      try {\n        const res = await singleRequest('/nodes', request)\n\n        const nodes = await res.json()\n\n        setNodes(nodes)\n      }\n      catch (err) {\n        console.error(`there was an error getting nodes: ${err}`)\n      }\n    }\n    getNodes()\n  }, [])\n\n  const formatNodeLabels = nodeKey => {\n    switch (nodeKey) {\n      case 'type':\n        return 'Type'\n\n      case 'name':\n        return 'Name'\n\n      // case 'maxMw':\n      //   return 'Max Mw'\n\n      case 'controlArea':\n        return 'Control Area'\n\n      default:\n        return nodeKey\n    }\n  }\n\n  const clusterMaxZoom = 9\n\n  const popup = new mapboxgl.Popup({\n    closeButton: false,\n    closeOnClick: false\n  })\n\n  const onNodeMouseEnter = useCallback( e => {\n    map.getCanvas().style.cursor = 'pointer'\n\n    const coordinates = e.features[0].geometry.coordinates.slice()\n\n    const nodeProps = e.features[0].properties\n\n    const popUpHtml = Object.keys(nodeProps).reduce( (str, np, i, keys) => {\n\n      let newLine = `<tr><td><strong>${formatNodeLabels(np)}:</strong></td><td>${ nodeProps[np]}</td></tr>`\n\n      newLine = i < keys.length - 1 ? newLine + '*' : newLine\n\n      const arr = str.split('*')\n\n      return [arr[0], newLine, arr[1]].join('')\n    }, '<table>*</table>')\n\n    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n    }\n\n    popup.setLngLat(coordinates)\n      .setHTML(popUpHtml)\n      .addTo(map)\n  }, [map, popup])\n\n  const onNodeMouseLeave = useCallback(() => {\n    map.getCanvas().style.cursor = ''\n    popup.remove()\n  }, [map, popup])\n\n  const onClusterMouseEnter = useCallback(() => {\n    map.getCanvas().style.cursor = 'pointer'\n  }, [map])\n\n  const onClusterMouseLeave = useCallback(() => {\n    map.getCanvas().style.cursor = ''\n  }, [map])\n\n  const onClusterClick = useCallback( e => {\n\n    const features = map.queryRenderedFeatures(e.point, { layers: ['clusters'] })\n    const clusterId = features[0].properties.cluster_id\n    map.getSource('nodes').getClusterExpansionZoom(clusterId, (err, zoom) => {\n      if (err) {\n        return\n      }\n\n      const newZoom = zoom === clusterMaxZoom ? zoom + 1 : zoom\n\n      map.easeTo({\n        center: features[0].geometry.coordinates,\n        zoom: newZoom,\n      })\n    })\n  }, [map])\n\n  const setLayers = useCallback(() => {\n\n    if (nodes) {\n      map.addSource('nodes', {\n        type: \"geojson\",\n        data: nodes,\n        cluster: true,\n        clusterMaxZoom,\n        clusterRadius: 50,\n      })\n\n      map.addLayer({\n        id: 'clusters',\n        type: 'circle',\n        source: 'nodes',\n        filter: ['has', 'point_count'],\n        paint: {\n          'circle-color': 'rgba(0, 0, 0, .2)',\n          'circle-radius': [\n            'step',\n            ['get', 'point_count'],\n            20,\n            100,\n            30,\n            750,\n            40\n          ],\n          'circle-stroke-width': 1,\n          'circle-stroke-color': '#000',\n        }\n      })\n\n      map.addLayer({\n        id: 'cluster-count',\n        type: 'symbol',\n        source: 'nodes',\n        filter: ['has', 'point_count'],\n        layout: {\n          \"text-field\": \"{point_count_abbreviated}\",\n          \"text-font\": [\"DIN Offc Pro Medium\", \"Arial Unicode MS Bold\"],\n          \"text-size\": 12\n        }\n      });\n\n      map.addLayer({\n        id: 'unclustered-nodes',\n        type: \"circle\",\n        source: \"nodes\",\n        filter: [\"!\", [\"has\", \"point_count\"]],\n        paint: {\n          'circle-color': [\n            'match',\n            ['get', 'controlArea'],\n            'CA', nodeColors[0],\n            'PACW', nodeColors[1],\n            'PGE', nodeColors[2],\n            'PSE', nodeColors[3],\n            'NV', nodeColors[4],\n            'IPCO', nodeColors[5],\n            'PACE', nodeColors[6],\n            'APS', nodeColors[7],\n            colors.gray,\n          ],\n          'circle-radius': 5,\n          'circle-stroke-width': 1,\n          'circle-stroke-color': '#000',\n        }\n      })\n\n      map.on('mouseenter', 'clusters', onClusterMouseEnter)\n\n      map.on('mouseleave', 'clusters', onClusterMouseLeave)\n\n      map.on('click', 'clusters', onClusterClick)\n\n      map.on('mouseenter', 'unclustered-nodes', onNodeMouseEnter)\n\n      map.on('mouseleave', 'unclustered-nodes', onNodeMouseLeave)\n    }\n  }, [map, nodes, onClusterClick, onClusterMouseEnter, onClusterMouseLeave, onNodeMouseEnter, onNodeMouseLeave])\n\n  const cleanUp = useCallback(() => {\n    map.off('mouseenter', 'clusters', onClusterMouseEnter)\n    map.off('mouseleave', 'clusters', onClusterMouseLeave)\n    map.off('click', 'clusters', onClusterClick)\n    map.off('mouseenter', 'unclustered-nodes', onNodeMouseEnter)\n    map.off('mouseleave', 'unclustered-nodes', onNodeMouseLeave)\n  }, [map, onClusterClick, onClusterMouseEnter, onClusterMouseLeave, onNodeMouseEnter, onNodeMouseLeave])\n\n  useEffect( () => {\n    setLayers()\n    return cleanUp\n  }, [nodes]) //eslint-disable-line react-hooks/exhaustive-deps\n\n  return false\n}\n\nMapNodeRenderer.propTypes = {\n  map: PropTypes.object,\n}\n\nexport default MapNodeRenderer\n","import { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport mapboxgl from 'mapbox-gl'\n\nimport { colors } from '../../config/styles'\n\nconst MapMarkerRenderer = ({\n  map,\n  lat,\n  lng,\n  color = colors.lightBlue,\n}) => {\n\n  useEffect( () => {\n\n    const marker = map && new mapboxgl.Marker({color})\n                    .setLngLat([lng, lat])\n                    .addTo(map)\n\n    return () => marker.remove()\n  }, [lng, lat, color, map])\n\n  return false\n}\n\nMapMarkerRenderer.propTypes = {\n  map: PropTypes.object,\n  lngLat: PropTypes.arrayOf(PropTypes.number),\n}\n\nexport default MapMarkerRenderer\n","export const isoLayerSources = {\n  caiso: \"https://opendata.arcgis.com/datasets/9d1099b016e5482c900d657f06f3ac80_0.geojson?where=ID%20%3D%20'2775'\",\n}\n","import {\n  useEffect,\n  useCallback,\n} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  isoColors\n} from '../../config/styles'\nimport {\n  isoLayerSources,\n} from '../../config/map'\n\nconst MapISOAreaRenderer = ({\n  map,\n  getLatLng,\n  iso,\n}) => {\n\n  const onLayerClick = useCallback(e => {\n    const features = map.queryRenderedFeatures(e.point)\n    if (features[0].layer.id === iso) {\n      getLatLng(e.lngLat)\n    }\n  }, [map, getLatLng, iso])\n\n  const setLayers = useCallback(() => {\n\n    map.addSource('isos', {\n      type: \"geojson\",\n      data: isoLayerSources[iso],\n    })\n\n    map.addLayer({\n      id: iso,\n      type: 'fill',\n      source: 'isos',\n      paint: {\n        'fill-color': isoColors[iso],\n        'fill-opacity': 0.3,\n        'fill-outline-color': '#000',\n      }\n    })\n\n    if(getLatLng) {\n      map.on('click', iso, onLayerClick)\n    }\n  }, [map, getLatLng, iso, onLayerClick])\n\n  const cleanup = useCallback(() => {\n    if (getLatLng) {\n      map.off('click', iso, onLayerClick)\n    }\n  }, [map, iso, onLayerClick, getLatLng])\n\n  useEffect( () => {\n    setLayers()\n    return () => cleanup()\n  }, [])//eslint-disable-line react-hooks/exhaustive-deps\n\n  return false\n}\n\nMapISOAreaRenderer.propTypes = {\n  map: PropTypes.object,\n  iso: PropTypes.oneOf(Object.keys(isoLayerSources)).isRequired,\n  getLatLng: PropTypes.func,\n}\n\nexport default MapISOAreaRenderer\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Label = ({ content }) => (\n\n  <span style={labelStyle}>\n    {content}\n  </span>\n)\n\nexport const labelStyle = {\n  display: 'block',\n  padding: '.5em 0',\n  fontStyle: 'italic',\n  fontSize: fontSize.label,\n}\n\nLabel.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Label\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  fontSize,\n  colors,\n} from '../config/styles'\n\nimport { labelStyle } from './Label'\n\nconst LabeledInput = ({\n  name,\n  label,\n  type = 'text',\n  placeholder = '',\n  value,\n  inputWidth = 'auto',\n  unit = '',\n  disabled = false,\n  min = -1000,\n  max = 1000,\n  step = 1,\n  onChange,\n}) => (\n\n  <div style={styles.root}>\n    <label\n      htmlFor={name}\n      style={labelStyle}\n      >{label}</label>\n    <input\n      style={getInputStyles(inputWidth, disabled)}\n      type={type}\n      name={name}\n      placeholder={placeholder}\n      value={value}\n      disabled={disabled}\n      min={ type === 'number' ? min : undefined }\n      max={ type === 'number' ? max : undefined }\n      step={ type === 'number' ? step : undefined }\n      onChange={ e => onChange(e, name) }\n      />\n    <span>{unit}</span>\n  </div>\n)\n\nconst getInputStyles = (inputWidth, disabled) => ({\n  ...styles.input,\n  width: inputWidth,\n  color: disabled ? colors.gray : colors.text,\n  cursor: disabled ? 'not-allowed' : 'inherit',\n})\n\nconst styles = {\n  root: {\n    display: 'block',\n  },\n  input: {\n    margin: '0 .5em 1em',\n    fontSize: fontSize.label,\n    padding: '.5em',\n    background: colors.lightGray,\n    border: 'none',\n    borderRadius: 10,\n  },\n}\n\nLabeledInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  type: PropTypes.string,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  inputWidth: PropTypes.string,\n  unit: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n}\n\nexport default LabeledInput\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { buttons } from '../../config/styles'\n\nconst Button = ({\n  value,\n  type,\n  onClick,\n  disabled = false,\n  width = '6em'\n}) => {\n\n  const getStyles = type => ({\n    ...styles.root,\n    ...buttons[type],\n    width,\n  })\n\n  return (\n    <input\n      type=\"button\"\n      value={value}\n      style={getStyles(type)}\n      disabled={disabled}\n      onClick={onClick}\n      />\n  )\n}\n\nconst styles = {\n  root: {\n  \tMozBorderRadius: 10,\n  \tWebkitBorderRadius: 10,\n  \tborderRadius: 10,\n  \tdisplay: 'inline-block',\n  \tcursor: 'pointer',\n  \tfontSize: '1.3em',\n    textAlign: 'center',\n  \tpadding: '1em',\n  },\n}\n\nButton.propTypes = {\n  value: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(Object.keys(buttons)).isRequired,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  width: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n}\n\nexport default Button\n","import React from 'react'\nimport Logo from '../logo/'\nimport './Loading.css'\n\nimport { colors } from '../../config/styles'\n\nconst Loading = ({message}) => (\n\n  <div style={styles.main}>\n    <div style={styles.overlay}></div>\n    <Logo height={'9.5em'} className=\"spinner\"/>\n    <div style={styles.message}>{message}</div>\n  </div>\n)\n\nconst styles = {\n  main: {\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 4,\n  },\n  overlay: {\n    background: 'rgba(0, 30, 10, .8)',\n    zIndex: 3,\n    height: '100vh',\n    width: '100vw',\n  },\n  message: {\n    color: colors.white,\n    position: 'relative',\n    bottom: '34vh',\n  }\n}\n\nexport default Loading\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport './NavButton.css'\n\nimport { colors } from '../../config/styles'\n\nconst NavButton = ({\n  baseUrl,\n  link,\n  id,\n  label,\n  current,\n}) => (\n\n  <Link\n    to={`${baseUrl}/${link}/${id}`}\n    style={styles.link}\n    >\n    <li\n      className={getClassName(current)}\n      style={styles.label}\n      >\n      {label}\n    </li>\n  </Link>\n)\n\nconst getClassName = current => current ? 'navButton current' : 'navButton'\n\nconst styles = {\n  label: {\n    textAlign: 'left',\n    listStyle: 'none',\n    padding: '1em .5em',\n  },\n  link: {\n    fontSize: '1.2em',\n    textDecoration: 'none',\n    color: colors.text,\n  },\n}\n\nNavButton.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  link: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  current: PropTypes.bool.isRequired,\n}\n\nexport default NavButton\n","import moment from 'moment-timezone'\n\nexport function fieldOnchange(e){\n  e.preventDefault()\n  this.setState({\n    [e.target.id]: e.target.value,\n  })\n}\n\nexport const formatDate = (isoString, tz, format) => moment.tz(isoString, tz).format(format)\n\nexport const findRelevantKeys = data => data.reduce( (arr, d) => {\n  Object.keys(d).forEach( k => arr = !arr.includes(k) && k !== 'timestamp' ? [...arr, k] : arr )\n  return arr\n}, [])\n\nexport const roundToDigits = (val, digits) => {\n  const rounder = 10 ** digits\n  return Math.round((val * rounder))/rounder\n}\n\nexport const setField = (e, stateFunction) => {\n  e.preventDefault()\n  stateFunction(e.target.value)\n}\n\nexport const getBaseUrl = (url, page, projectId) => projectId ? url.replace(`/${page}/${projectId}`, '') : url.replace(`/${page}`, '')\n\nexport const formatDollars = number => `$${roundToDigits(number, 2).toFixed(2)}`\n\nexport const getLocation = (url, base, projectId) => projectId ? url.replace(`${base}/`, '').replace(`/${projectId}`, '') : url.replace(base, '')\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nimport NavButton from './navButton/'\n\nimport {\n  colors,\n  boxShadow,\n} from '../config/styles'\n\nimport {\n  getLocation\n} from '../utils/'\n\nconst ProjectNav = ({\n  baseUrl,\n  id,\n  match,\n}) => {\n\n  const env = process.env.NODE_ENV\n\n  const location = getLocation(match.url, baseUrl, id)\n\n  const tools = [\n    {\n      link: 'project',\n      label: 'Project Home',\n      envTest: true,\n    },\n    {\n      link: 'dashboard',\n      label: 'Project Dashboard',\n      envTest: true,\n    },\n    {\n      link: 'historical',\n      label: 'Historical',\n      envTest: true,\n    },\n    {\n      link: 'insights',\n      label: 'Insights',\n      envTest: true,\n    },\n    {\n      link: 'dev',\n      label: 'Development',\n      envTest: env === 'development',\n    }\n    // {\n    //   link: 'roi',\n    //   label: 'Project ROI',\n    // },\n  ]\n\n  return (\n\n    <ul style={styles}>\n      {\n        tools.filter( tool => tool.envTest ).map( (t, i) => <NavButton\n          key={`nav-button${i}`}\n          baseUrl={baseUrl}\n          link={t.link}\n          id={id}\n          label={t.label}\n          current={location === t.link}\n          />\n        )\n      }\n    </ul>\n  )\n}\n\nconst styles = {\n  position: 'absolute',\n  zIndex: 2,\n  background: colors.white,\n  width: '13em',\n  padding: '.5em 1em',\n  borderRight: `1px solid ${colors.gray}`,\n  boxShadow,\n}\n\nProjectNav.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n}\n\nexport default withRouter(ProjectNav)\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport ProjectNav from './ProjectNav'\n\nconst ProjectMenu = ({\n  baseUrl,\n  id,\n}) => {\n\n  const [display, setDisplay] = useState(false)\n\n  const menuRef = useRef(null)\n\n  const handleOutsideClick = e => {\n    if (menuRef.current && !menuRef.current.contains(e.target)) {\n      setDisplay(false)\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleOutsideClick)\n    return () => document.removeEventListener('mousedown', handleOutsideClick)\n  })\n\n  const showMenu = () => display ? setDisplay(false) : setDisplay(true)\n\n  return (\n    <div>\n      <span\n        className=\"fas fa-bars\" onClick={showMenu}\n        style={styles.button}\n        />\n      {\n        display &&\n        <div ref={menuRef}>\n          <ProjectNav\n            baseUrl={baseUrl}\n            id={id}\n            />\n        </div>\n      }\n    </div>\n  )\n}\n\nconst styles = {\n  button: {\n    fontSize: '1.5em',\n    padding: '.5em',\n    cursor: 'pointer',\n  },\n}\n\nProjectMenu.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n}\n\nexport default ProjectMenu\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport PropTypes from 'prop-types'\n\nimport GradientBackground from './GradientBackground'\nimport Header3 from './Header3'\nimport ProjectMenu from './ProjectMenu'\n\nimport {\n  colors,\n  boxShadow,\n} from '../config/styles'\n\nconst ProjectPageHeader = ({\n  title,\n  baseUrl,\n  id,\n  showMenu,\n}) => {\n\n  const [position, setPosition] = useState(null)\n\n  const isCompact = position < 0\n\n  const header = useRef(null)\n\n  const checkScroll = useCallback(e => {\n    if (header.current) {\n      const pos = header.current.getBoundingClientRect().top\n      setPosition(pos)\n    }\n  }, [])\n\n  const setFontSize = () => {\n    if( position >= - 40 && position < 0) {\n      return `${1 + (position * .005)}em`\n    }\n    else if (position < - 40) {\n      return '.8em'\n    }\n    else {\n      return '1em'\n    }\n  }\n\n  useEffect(() => {\n    checkScroll()\n    document.addEventListener('scroll', checkScroll)\n    return () => document.removeEventListener('scroll', checkScroll)\n  }, [checkScroll])\n\n  const switchStyles = isCompact ? {\n    height: 110,\n  } : {\n    height: 2,\n  }\n\n  const rootStyles = isCompact ? styles.compactRoot : styles.root\n\n  const gradientStyles = isCompact ? {\n    display: 'none',\n  } : {\n    ...styles.background,\n    ...styles.placement,\n  }\n\n  const itemStyles = isCompact ? styles.compactItems : {\n    ...styles.placement,\n    ...styles.items,\n  }\n\n  const textStyles = isCompact ? {\n    fontSize: setFontSize(),\n    ...styles.compactText\n  } : styles.text\n\n  return (\n    <div>\n      <div ref={header} style={switchStyles}></div>\n      <div\n        style={rootStyles}\n        >\n        <GradientBackground\n          addlStyles={gradientStyles}\n          />\n        <div style={itemStyles}>\n          {\n            showMenu &&\n            <ProjectMenu\n              baseUrl={baseUrl}\n              id={id}\n              />\n          }\n          <div style={textStyles}>\n            <Header3 content={title} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'grid',\n    gridTemplateColumns: '[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]',\n    gridTemplateRows: '[row1] minmax(4em, max-content) [ws1] 3em',\n  },\n  compactRoot: {\n    display: 'block',\n    width: '100%',\n    position: 'fixed',\n    zIndex: 2,\n    top: 0,\n    background: 'white',\n    boxShadow,\n    transition: 'all 1s'\n  },\n  placement: {\n    gridColumn: 'leftCol / centerMargin',\n    gridRowStart: 'row1',\n  },\n  background: {\n    clipPath: 'polygon(0 0, 100% 0, 98% 100%, 0 100%)'\n  },\n  items: {\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-end',\n    color: colors.white,\n    zIndex: 1,\n  },\n  compactItems: {\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n    width: '100%',\n    color: colors.gray,\n    alignItems: 'baseline',\n  },\n  text: {\n    padding: '.5em 2em',\n    alignSelf: 'flex-end',\n    background: 'transparent',\n  },\n  compactText: {\n    padding: '.5em 2em',\n  },\n}\n\nProjectPageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n}\n\nexport default ProjectPageHeader\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport ProjectPageHeader from './ProjectPageHeader'\n\nconst ProjectPageTemplate = ({\n  title,\n  baseUrl,\n  id,\n  children,\n  showMenu = true,\n}) => (\n\n  <React.Fragment>\n    <ProjectPageHeader\n      title={title}\n      baseUrl={baseUrl}\n      id={id}\n      showMenu={showMenu}\n      />\n    <div style={styles.root}>\n      <div></div>\n      <div>\n        {children}\n      </div>\n    </div>\n  </React.Fragment>\n)\n\nconst styles = {\n  root: {\n    display: 'grid',\n    gridTemplateColumns: 'auto 90% auto',\n  }\n}\n\nProjectPageTemplate.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  hideMenu: PropTypes.bool,\n}\n\nexport default ProjectPageTemplate\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router'\n\nimport Map from './map/Map'\n\nimport MapNodeRenderer from './map/MapNodeRenderer'\n\nimport MapMarkerRenderer from '../components/map/MapMarkerRenderer'\nimport MapISOAreaRenderer from '../components/map/MapISOAreaRenderer'\n\nimport LabeledInput from '../components/LabeledInput'\nimport Header4 from '../components/Header4'\nimport Button from '../components/button/'\nimport Loading from '../components/loading/'\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\n\nimport {\n  colors,\n  fontSize,\n} from '../config/styles'\n\nimport {\n  singleRequest,\n  parseResponse,\n} from '../utils/requestUtils'\n\nimport {\n  roundToDigits,\n  setField,\n} from '../utils/'\n\nimport { getBaseUrl } from '../utils/'\n\nconst CreateProject = ({\n  match,\n  history,\n}) => {\n\n  const {\n    url,\n  } = match\n\n  const cleanUrl = getBaseUrl(url, 'create_project')\n\n  const [lat, setLat] = useState(38.00002)\n  const [lng, setLng] = useState(-119.00003)\n  const [name, setProjectName] = useState('')\n  const [energy, setEnergyCapacity] = useState(2)\n  const [power, setPowerCapacity] = useState(1)\n  const [rte, setRte] = useState(.85)\n  const [address, setAddress] = useState('')\n  const [city, setCity] = useState('')\n  const [state, setState] = useState('CA')\n  const [zip, setZip] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [locationChosen, setLocationChosen] = useState(false)\n\n  const setLocation = ({lat, lng}) => {\n    setLat(roundToDigits(lat, 5))\n    setLng(roundToDigits(lng, 5))\n    setLocationChosen(true)\n  }\n\n  const setError = err => console.error(`There was an error creating your project: ${err}`)\n\n  const onSubmit = () => {\n\n    setLoading(true)\n\n    const body = JSON.stringify({\n      name,\n      address,\n      city,\n      state,\n      power,\n      energy,\n      lat,\n      lng,\n      rte,\n      type: match.url.includes('demo') ? 'demo' : 'test'\n    })\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body,\n    }\n\n    singleRequest('/project', request)\n      .then(parseResponse)\n      .then( res => {\n        setLoading(false)\n        history.push(`${cleanUrl}/project/${res.id}`)\n      })\n      .catch( err => {\n        setLoading(false)\n        setError(err)\n      })\n  }\n\n  const rteOnchange = e => {\n    e.preventDefault()\n    setRte(e.target.value/100)\n  }\n\n  return (\n    <ProjectPageTemplate\n      title=\"Create Your Project\"\n      baseUrl={cleanUrl}\n      id=\"create_project\"\n      showMenu={false}\n      >\n      <div style={styles.root}>\n        { loading &&\n          <Loading message={'Building your project...'} />\n        }\n        <div style={styles.form}>\n          <div style={styles.subSection}>\n            <div style={styles.header}>\n              <Header4 content={'General'} />\n            </div>\n            <LabeledInput\n              name={'projectName'}\n              label={'Project Name'}\n              placeholder={'\"My Project\"'}\n              value={name}\n              inputWidth={'23em'}\n              onChange={e => setField(e, setProjectName)}\n              />\n            <LabeledInput\n              name={'energyCapacity'}\n              label={'Project Energy Capacity'}\n              type={'number'}\n              value={energy}\n              inputWidth={'4em'}\n              unit={'MWh'}\n              min={0}\n              step={0.1}\n              onChange={e => setField(e, setEnergyCapacity)}\n              />\n            <LabeledInput\n              name={'powerCapacity'}\n              label={'Project Power Capacity'}\n              type={'number'}\n              value={power}\n              inputWidth={'4em'}\n              unit={'MW'}\n              min={0}\n              step={0.1}\n              onChange={e => setField(e, setPowerCapacity)}\n              />\n            <LabeledInput\n              name={'rte'}\n              label={'Round Trip Efficiency'}\n              type={'number'}\n              value={roundToDigits(rte * 100, 1)}\n              inputWidth={'2.5em'}\n              unit={'%'}\n              min={0}\n              max={99}\n              step={1}\n              onChange={rteOnchange}\n              />\n          </div>\n          <div style={styles.subSection}>\n            <div style={styles.header}>\n              <Header4 content={'Location'} />\n              <p style={styles.label}>Enter an address or pick a location on the map</p>\n            </div>\n            <LabeledInput\n              name={'address'}\n              label={'Address'}\n              placeholder={'\"123 Main St. Ste 456\"'}\n              value={address}\n              inputWidth={'23em'}\n              onChange={e => setField(e, setAddress)}\n              />\n            <LabeledInput\n              name={'city'}\n              label={'City'}\n              placeholder={'\"Los Angeles\"'}\n              value={city}\n              inputWidth={'18em'}\n              onChange={e => setField(e, setCity)}\n              />\n            <LabeledInput\n              name={'state'}\n              label={'State'}\n              value={state}\n              inputWidth={'5em'}\n              onChange={setState}\n              disabled={true}\n              />\n            <LabeledInput\n              name={'zip'}\n              label={'Zip Code'}\n              placeholder={'\"90001\"'}\n              value={zip}\n              inputWidth={'10em'}\n              onChange={e => setField(e, setZip)}\n              />\n            <div style={styles.latLng}>\n              <LabeledInput\n                name={'lat'}\n                label={'Latitude'}\n                type={'number'}\n                value={lat}\n                inputWidth={'6em'}\n                disabled={true}\n                />\n              <LabeledInput\n                name={'lng'}\n                label={'Longitude'}\n                type={'number'}\n                value={lng}\n                inputWidth={'6em'}\n                disabled={true}\n                />\n            </div>\n          </div>\n        </div>\n        <div style={styles.mapContainer}>\n          <Map\n            center={[lng, lat]}\n            zoom={5}\n            style={styles.map}\n            >\n            <MapISOAreaRenderer\n              iso=\"caiso\"\n              getLatLng={setLocation}\n              />\n            <MapNodeRenderer />\n            {\n              locationChosen &&\n              <MapMarkerRenderer\n                lat={lat}\n                lng={lng}\n                />\n            }\n          </Map>\n        </div>\n        <div style={styles.button}>\n          <Button\n            value={'SUBMIT'}\n            type=\"success\"\n            onClick={onSubmit}\n            />\n        </div>\n      </div>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'flex',\n    boxSizing: 'border-box',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    color: colors.text,\n    marginBottom: '2em',\n  },\n  form: {\n    display: 'block',\n    boxSizing: 'border-box',\n    minWidth: '30em',\n    textAlign: 'left',\n    flex: '1 1 48%',\n    padding: '0 1em',\n  },\n  subSection: {\n    display: 'flex',\n    maxWidth: '30em',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    padding: '1em 0',\n  },\n  header: {\n    width: '100%',\n  },\n  label: {\n    fontSize: fontSize.label,\n    padding: '1em 0',\n  },\n  latLng: {\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n  },\n  mapContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    boxSizing: 'border-box',\n    flex: '1 1 48%',\n    padding: '1em',\n    minHeight: '50em',\n  },\n  map: {\n    height: '100%',\n  },\n  button: {\n    display: 'flex',\n    width: '100%',\n    padding: '0 1em',\n  }\n}\n\nexport default withRouter(CreateProject)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst DataDisplay = ({content}) => (\n\n  <p style={styles}>\n    {content}\n  </p>\n)\n\nconst styles = {\n  fontSize: '1.2em',\n  padding: '0 0 .7em .5em',\n  fontStyle: 'normal',\n}\n\nDataDisplay.propTypes = {\n  content: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.element,\n  ])\n}\n\nexport default DataDisplay\n","import {\n  useState,\n  useEffect,\n  useCallback,\n} from 'react'\n\nimport moment from 'moment-timezone'\n\nimport { defaultHeaders } from '../config'\n\nimport { singleRequest } from '../utils/requestUtils'\n\nexport const useGetProject = (projectId) => {\n\n  const [project, setProject] = useState(null)\n  const [loading, setLoading] = useState(false)\n\n  const getProject = useCallback( async () => {\n\n    setLoading(true)\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    try {\n      const res = await singleRequest(`/project/${projectId}`, request)\n\n      const project = await res.json()\n      setProject(project)\n    }\n    catch (err) {\n      console.error(`There was an error retrieving your project: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [projectId])\n\n  useEffect( () => {\n    getProject()\n  }, [getProject])\n\n  return [project, loading]\n}\n\nexport const useConnectToServerSideEvent = (route, handleData) => useEffect( () => {\n  const stream = new EventSource(route)\n\n  const handlePing = e => console.log(`ping: ${JSON.parse(e.data).time}`)\n\n  const handleError = err => console.error(`There was an error getting data from event source ${route}:`, err)\n\n  stream.addEventListener('message', handleData)\n  stream.addEventListener('ping', handlePing)\n  stream.addEventListener('error', handleError)\n\n  return () => {\n    stream.removeEventListener('message', handleData)\n    stream.removeEventListener('ping', handlePing)\n    stream.removeEventListener('error', handleError)\n    console.log('closing sse connection...')\n    stream.close()\n  }\n}, [route, handleData])\n\nexport const useMinDate = projectId => {\n\n  const oneWeekAgo = moment()\n    .subtract(7, 'days')\n\n  const [minDate, setMinDate] = useState(oneWeekAgo.toISOString())\n\n  const handleData = useCallback( e => {\n    e.preventDefault()\n    const {minDatetime} = JSON.parse(e.data)\n    setMinDate(minDatetime)\n  }, [])\n\n  const sseRoute = `/min_date/${projectId}`\n\n  useConnectToServerSideEvent(sseRoute, handleData)\n\n  return minDate\n}\n","import {\n  useState,\n  useEffect,\n  useCallback,\n} from 'react'\n\n// The `path` parameter is the value of `import myPath from './myPath.md'`\nexport const useGetMd = path => {\n  const [md, setMd] = useState('')\n\n  const getMd = useCallback(async () => {\n    try {\n      const res = await fetch(path)\n      const parsed = await res.text()\n\n      setMd(parsed)\n    }\n    catch (err) {\n      console.error(`There was an error fetching markdown from ${path}:`, err);\n    }\n  }, [path])\n\n  useEffect( () => {\n    getMd()\n  }, [getMd])\n\n  return md\n}\n","import React, {useState} from 'react'\nimport { withRouter } from 'react-router'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Header4 from '../components/Header4'\nimport Label from '../components/Label'\nimport DataDisplay from '../components/DataDisplay'\nimport Button from '../components/button/'\nimport Loading from '../components/loading/'\n\nimport Map from './map/Map'\nimport MapMarkerRenderer from '../components/map/MapMarkerRenderer'\n\nimport {\n  singleRequest,\n} from '../utils/requestUtils'\n\nimport { getBaseUrl } from '../utils/'\nimport { defaultHeaders } from '../config'\n\nimport { useGetProject } from '../hooks/'\n\nconst Project = ({match, history}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const [loading, setLoading] = useState(false)\n\n  const [project, loadingProject] = useGetProject(projectId)\n\n  const cleanUrl = getBaseUrl(url, 'project', projectId)\n\n  const onDelete = () => {\n\n    setLoading(true)\n\n    const request = {\n      method: 'DELETE',\n      headers: defaultHeaders,\n    }\n\n    singleRequest(`/project/${projectId}`, request)\n      .then( res => {\n        setLoading(false)\n        history.push(`${cleanUrl}`)\n      })\n      .catch( err => {\n        setLoading(false)\n        console.error(`There was an error deleting your project: ${err}`)\n      })\n  }\n\n  return (\n    <ProjectPageTemplate\n      title={project ? `${project.name} - Home` : 'Project Home'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      <div style={styles.root}>\n        { (loading || loadingProject) && <Loading message={''} />}\n\n        <div style={styles.project}>\n          <div style={styles.header}>\n            <Header4 content=\"Project Specifications\" />\n          </div>\n          {\n            project &&\n            <div style={styles.specs}>\n              <Label content=\"Power\"/>\n              <DataDisplay content={`${project.power} Mw`}/>\n              <Label content=\"Energy\"/>\n              <DataDisplay content={`${project.energy} Mwh`}/>\n              <Label content=\"Round Trip Efficiency\"/>\n              <DataDisplay content={`${project.rte * 100}%`}/>\n              <Label content=\"Location\"/>\n              {\n                project.address ?\n                <DataDisplay content={`${project.address} - ${project.city} -  ${project.state}`}/>\n                :\n                <div style={styles.latLng}>\n                  <DataDisplay content={project.lat}/>\n                  <Label content=\"latitude\"/>\n                  <DataDisplay content={project.lng}/>\n                  <Label content=\"longitude\"/>\n                </div>\n              }\n            </div>\n          }\n          <div style={styles.button}>\n            <Button\n              value={'DELETE PROJECT'}\n              type=\"danger\"\n              onClick={onDelete}\n              width={'12em'}\n              />\n          </div>\n        </div>\n        <div style={styles.mapContainer}>\n          {\n            project &&\n            <Map\n              center={[project.lng, project.lat]}\n              zoom={8}\n              style={styles.map}\n              >\n              <MapMarkerRenderer\n                lat={project.lat}\n                lng={project.lng}\n                />\n            </Map>\n          }\n        </div>\n      </div>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n  },\n  project: {\n    display: 'flex',\n    flexDirection: 'column',\n    textAlign: 'left',\n    flex: '1 1 48%',\n  },\n  header: {\n    padding: '0 0 2em',\n  },\n  specs: {\n    padding: '0 1em 2em',\n  },\n  latLng: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n    justifyContent: 'space-between',\n    width: '24em',\n  },\n  button: {\n    padding: '0 1em 2em',\n  },\n  map: {\n    height: '100%',\n  },\n  mapContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    boxSizing: 'border-box',\n    height: '30em',\n    flex: '1 1 48%',\n  },\n}\n\nexport default withRouter(Project)\n","import React, { useState, useCallback } from 'react'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\n\nimport { useConnectToServerSideEvent } from '../hooks/'\n\nimport { getBaseUrl } from '../utils/'\n\nconst ProjectRoi = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'roi', projectId)\n\n  const [loading] = useState(false)\n  const [data, setData] = useState(null)\n\n  const handleData = useCallback( e => {\n    // TODO Check origin in production and dev per https://html.spec.whatwg.org/multipage/web-messaging.html#authors\n    console.log(e);\n    setData(JSON.parse(e.data))\n  }, [])\n\n  const sseRoute = `/roi/${projectId}`\n\n  useConnectToServerSideEvent(sseRoute, handleData)\n\n  return (\n    <ProjectPageTemplate\n      title={'Project Return on Investment'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { loading && <Loading message={''} />}\n      <p>Project id: {projectId}</p>\n      {\n        data &&\n        <p>{data.cheese}</p>\n      }\n    </ProjectPageTemplate>\n  )\n}\n\n// const styles = {\n//\n// }\n\nexport default ProjectRoi\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Header4 from '../components/Header4'\n\nconst DashboardSection = ({\n  headerContent,\n  children,\n  childStyles = {}\n}) => (\n\n  <div style={styles.root}>\n    <div style={styles.header}>\n      <Header4 content={headerContent} />\n    </div>\n    <div style={childStyles}>\n      {children}\n    </div>\n  </div>\n)\n\nconst styles = {\n  root: {\n    textAlign: 'left',\n    padding: '0 0 2em',\n  },\n  header: {\n    padding: '0 0 .5em',\n  },\n}\n\nDashboardSection.propTypes = {\n  headerContent: PropTypes.string,\n  childStyles: PropTypes.object,\n}\n\nexport default DashboardSection\n","import React from 'react'\n\nconst DashboardSectionContent = ({children}) => (\n  <div style={styles}>\n    {children}\n  </div>\n)\n\nconst styles = {\n  display: 'flex',\n  flexWrap: 'wrap',\n  justifyContent: 'space-between',\n  padding: '.5em 1em',\n}\n\nexport default DashboardSectionContent\n","import React, { useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { colors } from '../config/styles'\n\nconst Skycons = require('skycons')(window)\n\nconst getIconConfig = icon => {\n  switch (icon) {\n    case 'clear-night':\n    return {\n      key: 'CLEAR_NIGHT',\n      color: colors.darkBlue,\n    }\n\n    case 'rain':\n    return {\n      key: 'RAIN',\n      color: colors.lightBlue,\n    }\n\n    case 'snow':\n    return {\n      key: 'SNOW',\n      color: colors.lightBlue,\n    }\n\n    case 'sleet':\n    return {\n      key: 'SLEET',\n      color: colors.lightBlue,\n    }\n\n    case 'wind':\n    return {\n      key: 'WIND',\n      color: colors.mediumGray,\n    }\n\n    case 'fog':\n    return {\n      key: 'FOG',\n      color: colors.mediumGray,\n    }\n\n    case 'cloudy':\n    return {\n      key: 'CLOUDY',\n      color: colors.mediumGray,\n    }\n\n    case 'partly-cloudy-day':\n    return {\n      key: 'PARTLY_CLOUDY_DAY',\n      color: colors.paleYellow,\n    }\n\n    case 'partly-cloudy-night':\n    return {\n      key: 'PARTLY_CLOUDY_NIGHT',\n      color: colors.darkBlue,\n    }\n\n    default:\n      return {\n        key: 'CLEAR_DAY',\n        color: colors.deepYellow,\n      }\n  }\n}\n\nconst WeatherIcon = ({icon, style}) => {\n\n  const iconConfig = getIconConfig(icon)\n\n  const skycons = new Skycons({color: iconConfig.color})\n\n  const iconRef = useRef(null)\n\n  useEffect( () => {\n\n    skycons.add(iconRef.current, Skycons[iconConfig.key])\n\n    skycons.play()\n\n    const skycon = iconRef.current\n\n    return () => skycons.remove(skycon)\n  }, [icon, skycons, iconConfig.key])\n\n  return (\n    <canvas width='128' height='128' style={style} ref={iconRef}></canvas>\n  )\n}\n\nWeatherIcon.propTypes = {\n  icon: PropTypes.string.isRequired,\n  style: PropTypes.object,\n}\n\nexport default WeatherIcon\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport { monthDayTimeFormat } from '../config/'\n\nconst DataTimeDisplay = ({\n  message,\n  isoString,\n  timeZone\n}) => (\n\n  <div style={styles}>\n    {`${message} ${moment(isoString).tz(timeZone).format(monthDayTimeFormat)}`}\n  </div>\n)\n\nconst styles = {\n  fontSize: '.8em',\n  fontStyle: 'italic',\n}\n\nDataTimeDisplay.propTypes = {\n  message: PropTypes.string.isRequired,\n  isoString: PropTypes.string.isRequired,\n  timeZone: PropTypes.string.isRequired,\n}\n\nexport default DataTimeDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport Label from '../components/Label'\nimport DashboardSection from '../components/DashboardSection'\nimport DashboardSectionContent from '../components/DashboardSectionContent'\nimport DataDisplay from '../components/DataDisplay'\nimport WeatherIcon from '../components/WeatherIcon'\nimport DataTimeDisplay from '../components/DataTimeDisplay'\n\nimport { roundToDigits } from '../utils/'\n\nconst CurrentWeatherDisplay = ({ weather, timeZone }) => {\n\n  return (\n\n    <DashboardSection headerContent=\"Weather\">\n      { weather ?\n        <DashboardSectionContent>\n          <div>\n            <DataTimeDisplay\n              message=\"Data as of\"\n              isoString={moment(weather.time * 1000).toISOString()}\n              timeZone={timeZone}\n              />\n            <WeatherIcon\n              icon={weather.icon}\n              style={styles.icon}\n              />\n          </div>\n          <div style={styles.dataDisplay}>\n            <Label content=\"Current Temperature\"/>\n            <DataDisplay content={`${roundToDigits(weather.temperature, 1)}°F`}/>\n          </div>\n          <div style={styles.dataDisplay}>\n            <Label content=\"Cloud Cover\"/>\n            <DataDisplay content={`${roundToDigits(weather.cloudCover * 100, 0)} %`}/>\n          </div>\n          <div style={styles.dataDisplay}>\n            <Label content=\"Wind\"/>\n            <DataDisplay content={`${roundToDigits(weather.windSpeed, 1)} mph gusting to ${roundToDigits(weather.windGust, 1)} mph, bearing ${weather.windBearing}°`}/>\n          </div>\n          {\n            weather.nearestStormDistance > 0 &&\n            <div style={styles.dataDisplay}>\n              <Label content=\"Nearest Storm\"/>\n              <DataDisplay content={`${weather.nearestStormDistance} mi bearing ${weather.nearestStormBearing}°`}/>\n            </div>\n          }\n          <div style={styles.linkContainer}>\n            <a\n              style={styles.ds}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://darksky.net/poweredby/\">\n              Powered by Dark Sky\n            </a>\n          </div>\n        </DashboardSectionContent> :\n        <p>Weather data is not currently available</p>\n      }\n    </DashboardSection>\n  )\n}\n\nconst styles = {\n  linkContainer: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  icon: {\n    height: '5em',\n    padding: '1em 0',\n  },\n  ds: {\n    color: '#0BA8F7',\n    textDecoration: 'none',\n    fontSize: '.8em',\n    textAlign: 'right',\n  },\n  dataDisplay: {\n    padding: '0 1em 0',\n  }\n}\n\nCurrentWeatherDisplay.propTypes = {\n  weather: PropTypes.shape({\n    time: PropTypes.number,\n    icon: PropTypes.string,\n    temperature: PropTypes.number,\n    cloudCover: PropTypes.number,\n    windSpeed: PropTypes.number,\n    windGust: PropTypes.number,\n    windBearing: PropTypes.number,\n    nearestStormDistance: PropTypes.number,\n    nearestStormBearing: PropTypes.number,\n  }),\n}\n\nexport default CurrentWeatherDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { roundToDigits } from '../utils/'\n\nimport { colors } from '../config/styles'\n\nconst getPriceDescription = (diff, charge, discharge) => {\n\n  const displayPrc = roundToDigits(Math.abs(diff), 2)\n\n  switch (true) {\n    case charge:\n      return `LMP is currently $${displayPrc}/MWh less than 3-week running average`\n\n    case discharge:\n      return `LMP is currently $${displayPrc}/MWh greater than 3-week running average`\n\n    default:\n      return 'Prices are not currently favorable for charging or discharging'\n  }\n}\n\nconst getStatusStyles = color => ({\n  color,\n  fontSize: '2em',\n  fontStyle: 'italic',\n  fontWeight: 'bold',\n  padding: '.5em 0',\n  boxSizing: 'border-box',\n  width: 'min-content',\n})\n\nconst statusColors = {\n  charge: colors.lightBlue,\n  discharge: colors.brightGreen,\n  standby: colors.gray,\n}\n\nconst ChargeStatusDisplay = ({\n  currentPrc,\n  avgPrc,\n  status,\n}) => {\n\n  if (currentPrc && avgPrc && status) {\n\n    const diff = currentPrc - avgPrc\n\n    const charge = status === 'charge'\n\n    const discharge = status === 'discharge'\n\n    const standby = !charge && !discharge\n\n    return (\n      <div>\n        {\n          charge &&\n          <div style={getStatusStyles(statusColors.charge)}>\n            CHARGE\n          </div>\n        }\n        {\n          discharge &&\n          <div style={getStatusStyles(statusColors.discharge)}>DISCHARGE</div>\n        }\n        {\n          standby &&\n          <div style={getStatusStyles(statusColors.standby)}>STANDBY</div>\n        }\n\n        <p>\n          {\n            getPriceDescription(diff, charge, discharge)\n          }\n        </p>\n      </div>\n    )\n  }\n  else {\n    return (\n      <p>Status data is not currently available</p>\n    )\n  }\n}\n\nChargeStatusDisplay.propTypes = {\n  currentPrc: PropTypes.number,\n  avgPrc: PropTypes.number,\n  status: PropTypes.oneOf(['charge', 'discharge', 'standby'])\n}\n\nexport default ChargeStatusDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst HeadingLabel = ({ content }) => (\n\n  <span style={styles}>\n    {content}\n  </span>\n)\n\nconst styles = {\n  display: 'block',\n  padding: '0 0 1em',\n  fontStyle: 'italic',\n  fontSize: fontSize.h4,\n}\n\nHeadingLabel.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default HeadingLabel\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport DashboardSection from '../components/DashboardSection'\nimport DataTimeDisplay from '../components/DataTimeDisplay'\nimport ChargeStatusDisplay from '../components/ChargeStatusDisplay'\nimport HeadingLabel from '../components/HeadingLabel'\nimport DataDisplay from '../components/DataDisplay'\nimport Label from '../components/Label'\n// import AnimatedDataDisplay from '../components/AnimatedDataDisplay'\n\nimport {\n  roundToDigits,\n  formatDollars,\n} from '../utils/'\n\nconst Status = ({\n  config,\n  prices,\n  charge,\n  revenue,\n  status,\n}) => {\n\n  const latest = prices && prices[prices.length - 1]\n  const currentPrc = latest && latest.lmp\n  const avgPrc = latest && latest.mvgAvg\n  const timestamp = latest && latest.timestamp\n\n  return (\n    <DashboardSection headerContent=\"Status\">\n      <div style={styles.root}>\n        <div style={styles.status}>\n          {\n            timestamp &&\n            <DataTimeDisplay\n              message=\"Data as of\"\n              isoString={timestamp}\n              timeZone={config.timeZone}\n              />\n          }\n          <ChargeStatusDisplay\n            currentPrc={currentPrc}\n            avgPrc={avgPrc}\n            status={status}\n            />\n          {\n            (config && currentPrc) &&\n            <div style={styles.prices}>\n              <div>\n                <Label content=\"Current Price\"/>\n                <DataDisplay content={formatDollars(currentPrc)}/>\n              </div>\n              <div>\n                <Label content=\"Charge Threshold\"/>\n                <DataDisplay content={formatDollars(config.chargeThreshold)}/>\n              </div>\n              <div>\n                <Label content=\"Discharge Threshold\"/>\n                <DataDisplay content={formatDollars(config.dischargeThreshold)}/>\n              </div>\n            </div>\n          }\n        </div>\n        <div style={styles.followingSection}>\n          <HeadingLabel content=\"State of Charge\" />\n          {\n            (charge !== null && config.energy) ?\n            <DataDisplay content={`${roundToDigits((charge/config.energy) * 100, 1)} %`}/> :\n              <span>State of charge data is not currently available</span>\n            }\n          </div>\n          <div style={styles.followingSection}>\n            <HeadingLabel content=\"Revenue\" />\n            {\n              revenue !== null ?\n              <DataDisplay content={formatDollars(revenue)}/> :\n                <span>Revenue data is not currently available</span>\n              }\n            </div>\n            {/*<div style={styles.followingSection}>\n            <AnimatedDataDisplay\n            label=\"Animated State of Charge\"\n            seconds={5 * 60}\n            value={(charge/energy) * 100}\n            digits={2}\n            unit={' %'}\n            />\n            </div>*/}\n        </div>\n      </DashboardSection>\n    )\n}\n\nconst styles = {\n  root: {\n    display: 'flex',\n    padding: '0 1em',\n  },\n  status: {\n    width: '35em',\n  },\n  prices: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '1em 0 0',\n  },\n  followingSection: {\n    padding: '0 0 0 2em',\n  }\n}\n\nStatus.propTypes = {\n  config: PropTypes.shape({\n    energy: PropTypes.number,\n    timeZone: PropTypes.string,\n  }),\n  prices: PropTypes.arrayOf(PropTypes.shape({\n      lmp: PropTypes.number,\n      mvgAvg: PropTypes.number,\n      score: PropTypes.number,\n      timestamp: PropTypes.string,\n    })\n  ),\n  charge: PropTypes.number,\n  revenue: PropTypes.number,\n  status: PropTypes.oneOf(['charge', 'discharge', 'standby'])\n}\n\nexport default Status\n","import {\n  roundToDigits,\n  formatDollars,\n} from '../utils/'\n\nimport {\n  trendColors\n} from './styles'\n\nexport const lineDataFormat = {\n  lmp: {\n    unit: '$/Mwh',\n    label: 'Locational Marginal Price',\n    color: trendColors[3],\n    format: formatDollars,\n  },\n  mvgAvg: {\n    unit: '$/Mwh',\n    label: '3 Week Moving Avg',\n    color: trendColors[6],\n    format: formatDollars,\n  },\n  temperature: {\n    unit: '°F',\n    label: 'Temperature',\n    color: trendColors[2],\n    format: value => roundToDigits(value, 0),\n  },\n  windSpeed: {\n    unit: ' m/s',\n    label: 'Wind Speed',\n    color: trendColors[5],\n    format: value => roundToDigits(value, 0),\n  },\n  windBearing: {\n    unit: '°',\n    label: 'Wind Bearing',\n    color: trendColors[4],\n    format: value => value ? value : 'n/a',\n  },\n  cloudCover: {\n    unit: '%',\n    label: 'Cloud Cover',\n    color: trendColors[6],\n    format: value => roundToDigits(value, 2) * 100,\n  },\n}\n\nexport const barDataFormat = {\n  score: {\n    unit: '',\n    label: 'Score',\n    color: value => value > 0 ? 'red' : 'green',\n    format: value => roundToDigits(value, 3),\n  }\n}\n","import React from 'react'\n\nimport { monthDayTimeFormat } from '../../config/'\n\nimport {\n  lineDataFormat,\n  barDataFormat,\n} from '../../config/chart'\n\nimport { formatDate } from '../../utils/'\n\nconst formats = {\n  ...lineDataFormat,\n  ...barDataFormat,\n}\n\nconst CustomTooltip = ({\n  payload,\n  label,\n  active,\n  timeZone,\n }) => (\n\n  active &&\n    <div style={styles.root}>\n      <p style={styles.date}>\n        {formatDate(label, timeZone, monthDayTimeFormat)}\n      </p>\n      { payload.map( (obj, i) =>\n        <p\n          style={\n            {\n              color: obj.color,\n              padding: 5,\n            }\n          }\n          key={`value-${i}`}\n          >\n            {\n              `${formats[obj.name].label}:  ${formats[obj.name].format(obj.value)}${formats[obj.name].unit}`\n            }\n         </p>\n      )}\n    </div>\n)\n\nconst styles = {\n  root: {\n    backgroundColor: '#fff',\n    border: '1px solid #a8a2aa',\n    borderRadius: 5,\n    textAlign: 'left',\n  },\n  date: {\n    padding: 5,\n    fontSize: '1em'\n  },\n}\n\nexport default CustomTooltip\n","import React from 'react'\n\nimport {\n  lineDataFormat,\n  barDataFormat,\n} from '../../config/chart'\n\nimport './CustomLegend.css'\n\nconst formats = {\n  ...lineDataFormat,\n  ...barDataFormat,\n}\n\nconst CustomLegend = ({ payload }) => (\n\n  <div style={styles.root}>\n    {\n      payload.map( (p, i) =>\n        <div\n          style={styles.dataType}\n          key={`legend-${i}`}\n        >\n          {formats[p.value].label}: <div style={getLegendTileStyles(p.color)}/>\n        </div>\n    )}\n  </div>\n)\n\nconst getLegendTileStyles = color => ({\n  ...styles.legendTile,\n  background: color,\n})\n\nconst styles = {\n  root: {\n    display: 'inline-flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n    padding: '0 5em 0 0',\n  },\n  dataType: {\n    padding: '.3em',\n    display: 'inline-flex',\n    alignItems: 'baseline',\n  },\n  legendTile: {\n    margin: '0 12px 0 6px',\n    width: 20,\n    height: 10,\n  },\n}\n\nexport default CustomLegend\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  ComposedChart,\n  Cell,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ReferenceLine,\n  ResponsiveContainer,\n  Brush,\n} from 'recharts'\n\nimport CustomTooltip from './CustomTooltip'\nimport CustomLegend from './CustomLegend'\n\nimport {\n  twelveHourFormat,\n  monthDayTimeFormat,\n} from '../../config/'\n\nimport { lineDataFormat } from '../../config/chart'\n\nimport { colors } from '../../config/styles'\n\nimport {\n  formatDate,\n  findRelevantKeys,\n  roundToDigits,\n  formatDollars,\n} from '../../utils'\n\nconst LineBarChart = React.memo(({\n  data,\n  timeZone,\n  barKey,\n  negBarThreshold = 0,\n  posBarThreshold = 0,\n  aspect = 3,\n  xRefLines = [],\n  useBrush = false,\n}) => {\n\n  const dataTypes = findRelevantKeys(data)\n                      .filter( d => Object.keys(lineDataFormat).includes(d) )\n\n  const overThreshold = data.reduce( (agg, entry) => {\n    const isScorePositive = entry.score > 0\n\n    const includeScore = isScorePositive ?\n      entry[barKey] > posBarThreshold : entry[barKey] < negBarThreshold\n\n      const {\n        score,\n        ...remaining\n      } = entry\n\n    return includeScore ? [...agg, entry] : [...agg, {...remaining}]\n  }, [])\n\n  const yAxisPadding = { top: 10, bottom: 10}\n\n  return (\n    <ResponsiveContainer width={'100%'} aspect={aspect}>\n      <ComposedChart\n        data={overThreshold}\n        margin={{top: 10, right: 0, left: 10, bottom: 0}}>\n        <XAxis\n          dataKey=\"timestamp\"\n          tickFormatter={isoString => formatDate(isoString, timeZone, twelveHourFormat)}\n          />\n        <YAxis\n          yAxisId=\"left\"\n          tickCount={10}\n          minTickGap={5}\n          allowDecimals={false}\n          padding={yAxisPadding}\n          tickFormatter={ val => formatDollars(val)}\n          />\n        <YAxis\n          yAxisId=\"right\"\n          orientation=\"right\"\n          tickCount={5}\n          padding={yAxisPadding}\n          domain={[-3, 3]}\n          tickFormatter={ val => roundToDigits(val, 2)}\n          />\n        <CartesianGrid strokeDasharray=\"3 3\"/>\n        <Tooltip\n          content={\n            <CustomTooltip\n              timeZone={timeZone}\n              />\n          }\n          />\n        <ReferenceLine\n          y={0}\n          yAxisId=\"right\"\n          stroke={colors.gray}\n          strokeDasharray=\"4 4\"\n          />\n        <Bar\n          yAxisId=\"right\"\n          dataKey={'score'}\n          fill={'#000'}\n          >\n          {\n            data.map( (entry, i) =>\n            <Cell\n              fill={entry.score > 0 ? colors.brightGreen : colors.lightBlue}\n              key={`bar-${i}`}\n              />\n          )\n        }\n      </Bar>\n      {\n        useBrush &&\n        <Brush\n          dataKey=\"timestamp\"\n          height={30} stroke={colors.lightGreen}\n          tickFormatter={isoString => formatDate(isoString, timeZone, monthDayTimeFormat)}\n          endIndex={0}\n        />\n      }\n      {\n        dataTypes.map( t =>\n          <Line\n            yAxisId=\"left\"\n            key={`${t}-line`}\n            type=\"monotone\"\n            dataKey={t}\n            connectNulls={true}\n            stroke={lineDataFormat[t].color}\n            dot={false}\n            />\n        )\n      }\n      {\n        xRefLines.map( (x, i) =>\n        <ReferenceLine\n          x={x}\n          yAxisId=\"right\"\n          key={`x-${i}`}\n          />\n      )\n    }\n    <Legend\n      content={\n        <CustomLegend />\n      }\n      />\n  </ComposedChart>\n    </ResponsiveContainer>\n  )\n})\n\nLineBarChart.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    lmp: PropTypes.number,\n    mvgAvg: PropTypes.number,\n    score: PropTypes.number,\n    timestamp: PropTypes.string, //iso string\n  })).isRequired,\n  barKey: PropTypes.string.isRequired,\n  posBarThreshold: PropTypes.number,\n  negBarThreshold: PropTypes.number,\n  timeZone: PropTypes.string.isRequired,\n  xRefLines: PropTypes.arrayOf(PropTypes.number),\n  useBrush: PropTypes.bool,\n}\n\nexport default LineBarChart\n","import React, { useState, useCallback } from 'react'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport CurrentWeatherDisplay from '../components/CurrentWeatherDisplay'\nimport Status from '../components/Status'\nimport Loading from '../components/loading/'\nimport DashboardSection from '../components/DashboardSection'\nimport LineBarChart from '../components/charts/LineBarChart'\n\nimport { useConnectToServerSideEvent } from '../hooks/'\n\nimport { getBaseUrl } from '../utils/'\n\nimport { useGetProject } from '../hooks/'\n\nconst ProjectDashboard = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'dashboard', projectId)\n\n  const [project, loadingProject] = useGetProject(projectId)\n\n  const [weather, setWeather] = useState(null)\n  const [prices, setPrices] = useState(null)\n  const [revenue, setRevenue] = useState(null)\n  const [charge, setCharge] = useState(null)\n  const [chargeThreshold, setChargeThreshold] = useState(null)\n  const [dischargeThreshold, setDischargeThreshold] = useState(null)\n  const [status, setStatus] = useState('standby')\n\n/**\nJS Docs - insta documentation\n* turns on the spinner\n* @param {object} config\n* @param {lat: Number}\n*/\n\n  const handleData = useCallback( e => {\n    e.preventDefault()\n    const {\n      weather,\n      prices,\n      revenue,\n      charge,\n      status,\n      chargeThreshold,\n      dischargeThreshold,\n    } = JSON.parse(e.data)\n\n    setWeather(weather)\n    setPrices(prices)\n    setRevenue(revenue)\n    setCharge(charge)\n    setStatus(status)\n    setChargeThreshold(chargeThreshold)\n    setDischargeThreshold(dischargeThreshold)\n  }, [])\n\n  const sseRoute = `/dashboard/${projectId}`\n\n  useConnectToServerSideEvent(sseRoute, handleData)\n\n  const hasPrices = prices && prices.length > 0\n\n  return (\n\n    <ProjectPageTemplate\n      title={project ? `${project.name} - Dashboard` : 'Project Dashboard'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n\n      { loadingProject && <Loading message={''} />}\n      <div style={styles.root}>\n        <Status\n          config={{\n            ...project,\n            chargeThreshold,\n            dischargeThreshold,\n          }}\n          prices={prices}\n          charge={charge}\n          revenue={revenue}\n          status={status}\n          />\n        <DashboardSection headerContent={'Last Hour'}>\n        {\n          (hasPrices && project) ?\n            <LineBarChart\n              barKey={'lmp'}\n              negBarThreshold={chargeThreshold}\n              posBarThreshold={dischargeThreshold}\n              data={prices}\n              timeZone={project.timeZone}\n              aspect={4}\n              /> :\n            <p style={styles.noData}>Data for the last hour is not currently available</p>\n        }\n        </DashboardSection>\n        {\n          project &&\n          <CurrentWeatherDisplay\n            weather={weather}\n            timeZone={project.timeZone}\n            />\n        }\n      </div>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    textAlign: 'left',\n  },\n  chart: {\n    padding: '1em 0',\n  },\n  noData: {\n    padding: '0 1em',\n  },\n}\n\nexport default ProjectDashboard\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  fontSize,\n  colors,\n} from '../config/styles'\n\nimport { labelStyle } from './Label'\n\nconst LabeledCheckbox = ({\n  name,\n  label,\n  value,\n  checked,\n  onChange,\n  disabled = false,\n}) => (\n\n  <div style={styles.root}>\n    <input\n      style={getInputStyles(disabled)}\n      type=\"checkbox\"\n      id={name}\n      value={value}\n      checked={checked}\n      disabled={disabled}\n      onChange={onChange}\n      />\n    <label\n      htmlFor={name}\n      style={{\n        ...labelStyle,\n        ...styles.label,\n      }}\n      >{label}</label>\n  </div>\n)\n\nconst getInputStyles = disabled => ({\n  ...styles.input,\n  color: disabled ? colors.gray : colors.text,\n  cursor: disabled ? 'not-allowed' : 'inherit',\n})\n\nconst styles = {\n  root: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n  },\n  input: {\n    margin: '0 .5em 1em',\n    fontSize: fontSize.label,\n    padding: '.5em',\n    background: colors.lightGray,\n    border: 'none',\n    borderRadius: 10,\n  },\n  label: {\n    padding: '.2em 0',\n    fontSize: '1em',\n  }\n}\n\nLabeledCheckbox.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n  ]).isRequired,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n  disabled: PropTypes.bool,\n}\n\nexport default LabeledCheckbox\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport { monthDayTimeFormat } from '../config/'\n\nconst DataTimeRangeDisplay = ({\n  message,\n  startDate,\n  endDate,\n  timeZone\n}) => (\n\n  <p style={styles}>\n    {`${message} ${moment(startDate).tz(timeZone).format(monthDayTimeFormat)} to ${moment(endDate).tz(timeZone).format(monthDayTimeFormat)}`}\n  </p>\n)\n\nconst styles = {\n  padding: '0 0 1em',\n  fontSize: '.8em',\n  fontStyle: 'italic',\n}\n\nDataTimeRangeDisplay.propTypes = {\n  message: PropTypes.string.isRequired,\n  startDate: PropTypes.string.isRequired, //iso string\n  endDate: PropTypes.string.isRequired, //iso string\n  timeZone: PropTypes.string.isRequired,\n}\n\nexport default DataTimeRangeDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Button from './button/'\nimport Label from './Label'\nimport DataDisplay from './DataDisplay'\n\nconst ValueControl = ({\n  value,\n  format,\n  title,\n  onIncrement,\n  onDecrement,\n  onIncrementLabel,\n  onDecrementLabel,\n  disabled = false,\n  width = '16em',\n}) => (\n\n  <div style={getRootStyle(width)}>\n    <Label content={title}/>\n    <DataDisplay content={format(value)}/>\n    <div style={styles.buttons}>\n      <Button\n        value={`- ${onDecrementLabel}`}\n        disabled={disabled}\n        type=\"primary\"\n        onClick={onDecrement}\n        />\n      <Button\n        value={`+ ${onIncrementLabel}`}\n        disabled={disabled}\n        type=\"primary\"\n        onClick={onIncrement}\n        />\n    </div>\n  </div>\n)\n\nconst getRootStyle = width => ({\n  ...styles.root,\n  width,\n})\n\nconst styles = {\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    padding: '.5em 0',\n    textAlign: 'left',\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '0 0 0 .5em',\n  },\n}\n\nValueControl.propTypes = {\n  value: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.object,\n  ]),\n  format: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  onIncrement: PropTypes.func.isRequired,\n  onDecrement: PropTypes.func.isRequired,\n  onIncrementLabel: PropTypes.string.isRequired,\n  onDecrementLabel: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n}\n\nexport default ValueControl\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport ValueControl from './ValueControl'\n\nimport {\n  dayMonthYearTimeFormat,\n  timeIncrements,\n} from '../config/'\n\nconst DateControl = ({\n  date,\n  title,\n  increment,\n  onIncrement,\n  onDecrement,\n  timeZone,\n  disabled = false,\n}) => {\n\n  const formatter = date => moment.tz(date, timeZone).format(dayMonthYearTimeFormat)\n\n  return (\n    <ValueControl\n      value={date}\n      format={formatter}\n      title={title}\n      onIncrement={onIncrement}\n      onDecrement={onDecrement}\n      onIncrementLabel={`${timeIncrements[increment].label}`}\n      onDecrementLabel={`${timeIncrements[increment].label}`}\n      disabled={disabled}\n      width={'18em'}\n    />\n  )\n}\n\nDateControl.propTypes = {\n  date: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  timeZone: PropTypes.string.isRequired,\n  onIncrement: PropTypes.func.isRequired,\n  onDecrement: PropTypes.func.isRequired,\n}\n\nexport default DateControl\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  fontSize,\n  colors,\n} from '../config/styles'\n\nimport { labelStyle } from './Label'\n\nconst LabeledRadio = ({\n  name,\n  label,\n  value,\n  checked,\n  onChange,\n  disabled = false,\n}) => (\n\n  <div style={styles.root}>\n    <input\n      style={getInputStyles(disabled)}\n      type=\"radio\"\n      id={name}\n      value={value}\n      checked={checked}\n      disabled={disabled}\n      onChange={onChange}\n      />\n    <label\n      htmlFor={name}\n      style={{\n        ...labelStyle,\n        ...styles.label,\n      }}\n      >{label}</label>\n  </div>\n)\n\nconst getInputStyles = disabled => ({\n  ...styles.input,\n  color: disabled ? colors.gray : colors.text,\n  cursor: disabled ? 'not-allowed' : 'inherit',\n})\n\nconst styles = {\n  root: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n    padding: '0 .5em .5em',\n  },\n  input: {\n    margin: '0 .5em 1em',\n    fontSize: fontSize.label,\n    padding: '.5em',\n    background: colors.lightGray,\n    border: 'none',\n    borderRadius: 10,\n  },\n  label: {\n    padding: '.2em 0',\n    fontSize: '1em',\n  }\n}\n\nLabeledRadio.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n  ]).isRequired,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n  disabled: PropTypes.bool,\n}\n\nexport default LabeledRadio\n","import React from 'react'\n\nimport LabeledRadio from '../components/LabeledRadio'\nimport Label from './Label'\n\nimport {timeIncrements} from '../config/'\n\nconst TimeIncrementSelect = ({\n  onSelect,\n  selected,\n  disabled\n}) => {\n\n  const increments = Object.keys(timeIncrements).map( inc => ({\n      ...timeIncrements[inc],\n      disabled: false,\n    })\n  )\n\n  return (\n    <div style={styles.root}>\n      <Label content=\"Select Time Increment\"/>\n      <div style={styles.radios}>\n        {\n          increments.map( (inc, i) =>\n          <LabeledRadio\n            name={inc.value}\n            label={inc.label}\n            value={inc.value}\n            checked={selected === inc.value}\n            onChange={onSelect}\n            disabled={inc.disabled}\n            key={`lr=${i}`}\n            />\n        )\n      }\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    padding: '0.5em 0',\n  },\n  radios: {\n    display: 'flex',\n    // flexDirection: 'column',\n    padding: '0 0 0 .5em',\n  },\n}\n\nexport default TimeIncrementSelect\n","import moment from 'moment-timezone'\n\nexport const roundMomentToMinutes = (mt, minutes) => {\n  const duration = moment.duration(minutes, 'minutes')\n  return moment(Math.floor(mt/duration) * duration)\n}\n","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport DateControl from '../components/DateControl'\nimport TimeIncrementSelect from '../components/TimeIncrementSelect'\nimport DataTimeDisplay from '../components/DataTimeDisplay'\n\nimport { roundMomentToMinutes } from '../utils/dateTimeUtils'\n\nimport { timeIncrements } from '../config/'\n\nimport { useMinDate } from '../hooks/'\n\nconst DateRangeControl = ({\n  setStartTime,\n  setEndTime,\n  startTime,\n  endTime,\n  projectId,\n  timeZone = 'America/Los_Angeles',\n}) => {\n\n  const getNow = () => roundMomentToMinutes(moment(), 5)\n\n  const incrementsArr = Object.keys(timeIncrements)\n\n  const [timeIncrement, setTimeIncrement] = useState(incrementsArr[1])\n\n  const onIncrement = moment => moment.clone().add(1, timeIncrement)\n\n  const onDecrement = moment => moment.clone().subtract(1, timeIncrement)\n\n  const onIncrementStartTime = () => {\n    const incremented = onIncrement(startTime)\n\n    incremented.isBefore(endTime) ? setStartTime(incremented) : setStartTime(endTime.clone().subtract(1, 'day'))\n  }\n\n  const onDecrementStartTime = () => {\n\n    const decremented = onDecrement(startTime)\n\n    decremented.isAfter(minDate) ? setStartTime(decremented) : setStartTime(moment.tz(minDate, timeZone))\n  }\n\n  const onIncrementEndTime = () => {\n    const incremented = onIncrement(endTime)\n\n    incremented.isBefore(getNow()) ? setEndTime(incremented) : setEndTime(getNow())\n  }\n\n  const onDecrementEndTime = () => {\n    const decremented = onDecrement(endTime)\n\n    decremented.isAfter(startTime) ? setEndTime(decremented) : setEndTime(startTime.clone().add(1, 'day'))\n  }\n\n  const onTimeIncrementSelect = e => setTimeIncrement(e.target.value)\n\n  const minDate = useMinDate(projectId)\n\n  return (\n    <div style={styles.root}>\n      <DataTimeDisplay\n        message=\"Earliest data currently available is from\"\n        isoString={minDate}\n        timeZone={timeZone}\n        />\n      <div style={styles.controls}>\n        <DateControl\n          date={startTime}\n          title='Start Time'\n          increment={timeIncrement}\n          onIncrement={onIncrementStartTime}\n          onDecrement={onDecrementStartTime}\n          timeZone={timeZone}\n          />\n        <DateControl\n          date={endTime}\n          title='End Time'\n          increment={timeIncrement}\n          onIncrement={onIncrementEndTime}\n          onDecrement={onDecrementEndTime}\n          timeZone={timeZone}\n          />\n        <TimeIncrementSelect\n          onSelect={onTimeIncrementSelect}\n          selected={timeIncrement}\n          />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    padding: '0 0 0 1em',\n  },\n  controls: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n  },\n}\n\nDateRangeControl.propTypes = {\n  setStartTime: PropTypes.func.isRequired,\n  setEndTime: PropTypes.func.isRequired,\n  startTime: PropTypes.object.isRequired,\n  endTime: PropTypes.object.isRequired,\n  timeZone: PropTypes.string,\n}\n\nexport default DateRangeControl\n","import React, {useState, useEffect, useCallback} from 'react'\nimport moment from 'moment-timezone'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\nimport Button from '../components/button/'\nimport LineBarChart from '../components/charts/LineBarChart'\nimport DashboardSection from '../components/DashboardSection'\nimport LabeledCheckbox from '../components/LabeledCheckbox'\n\nimport DataTimeRangeDisplay from '../components/DataTimeRangeDisplay'\n\nimport DateRangeControl from './DateRangeControl'\n\nimport { getBaseUrl } from '../utils/'\n\nimport { roundMomentToMinutes } from '../utils/dateTimeUtils'\n\nimport {\n  singleRequest,\n} from '../utils/requestUtils'\n\nimport { defaultHeaders } from '../config/'\n\nimport { useGetProject } from '../hooks/'\n\nconst HistoricalDisplay = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'historical', projectId)\n\n  const getNow = () => roundMomentToMinutes(moment(), 5)\n\n  const now = getNow()\n\n  const oneWeekAgo = now.clone()\n    .subtract(7, 'days')\n\n  const [project, loadingProject] = useGetProject(projectId)\n\n  const [startTime, setStartTime] = useState(oneWeekAgo)\n  const [endTime, setEndTime] = useState(now)\n  const [loading, setLoading] = useState(false)\n  const [timeseries, setTimeseries] = useState(null)\n  const [includeWeather, setIncludeWeather] = useState(false)\n\n  const onSetIncludeWeather = e => setIncludeWeather(e.target.value === 'true')\n\n  const getData = useCallback( async () => {\n\n    const startDate = startTime.toISOString()\n\n    const endDate = endTime.toISOString()\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    try {\n      setLoading(true)\n\n      const res = await singleRequest(`/historical/${projectId}/${startDate}/${endDate}/${includeWeather}`, request)\n\n      const { timeseries } = await res.json()\n\n      setTimeseries(timeseries)\n    }\n    catch (err) {\n      console.error(`There was an error retrieving historical data for your project: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [startTime, endTime, includeWeather, projectId])\n\n  useEffect( () => {\n    getData()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n\n    <ProjectPageTemplate\n      title={project ? `${project.name} - Historical` : 'Project Historical Analysis'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { (loading || loadingProject) && <Loading message={''} />}\n      {\n        (timeseries && project) &&\n        <div>\n          <DashboardSection headerContent={'Historical Data'}>\n            <DataTimeRangeDisplay\n              message=\"Data from\"\n              startDate={timeseries[0].timestamp}\n              endDate={timeseries[timeseries.length - 1].timestamp}\n              timeZone={project.timeZone}\n              />\n            <LineBarChart\n              barKey={'lmp'}\n              data={timeseries}\n              timeZone={project.timeZone}\n              aspect={4}\n              useBrush={true}\n              />\n          </DashboardSection>\n          <DashboardSection\n            headerContent={'Select Time Range'}>\n            <div style={styles.controls}>\n              <DateRangeControl\n                setStartTime={setStartTime}\n                setEndTime={setEndTime}\n                startTime={startTime}\n                endTime={endTime}\n                projectId={projectId}\n                timeZone={project.timeZone}\n                />\n              <div style={styles.request}>\n                <div style={styles.include}>\n                  <LabeledCheckbox\n                    name={'include-weather'}\n                    label=\"Include Weather\"\n                    value={!includeWeather}\n                    checked={includeWeather}\n                    onChange={onSetIncludeWeather}\n                    />\n                  <Button\n                    value=\"GET DATA\"\n                    disabled={loading}\n                    type=\"success\"\n                    onClick={getData}\n                    overrideStyles={styles.button}\n                    width={'8em'}\n                    />\n                </div>\n              </div>\n            </div>\n          </DashboardSection>\n        </div>\n      }\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  controls: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n  request: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  include: {\n    width: '22em',\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n    padding: '2em 0 0',\n  },\n  getData: {\n    margin: '.5em 0 0 1.5em',\n  },\n}\n\nexport default HistoricalDisplay\n\n// xRefLines={aggregate.inflections}\n","import React, {useState, useEffect, useCallback} from 'react'\nimport moment from 'moment-timezone'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\nimport DashboardSection from '../components/DashboardSection'\nimport Label from '../components/Label'\nimport DataDisplay from '../components/DataDisplay'\nimport Button from '../components/button/'\n\nimport DateRangeControl from './DateRangeControl'\n\nimport {\n  getBaseUrl,\n} from '../utils/'\n\nimport { singleRequest } from '../utils/requestUtils'\n\nimport { formatDollars } from '../utils/'\n\nimport { roundMomentToMinutes } from '../utils/dateTimeUtils'\n\nimport {\n  blankDollars,\n  defaultHeaders,\n} from '../config/'\n\nimport { useGetProject } from '../hooks/'\n\nconst InsightsDisplay = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'insights', projectId)\n\n  const getNow = () => roundMomentToMinutes(moment(), 5)\n\n  const now = getNow()\n\n  const oneWeekAgo = now.clone()\n    .subtract(7, 'days')\n\n  const [project, loadingProject] = useGetProject(projectId)\n\n  const [startTime, setStartTime] = useState(oneWeekAgo)\n  const [endTime, setEndTime] = useState(now)\n  const [loading, setLoading] = useState(false)\n  const [aggregate, setAggregate] = useState(null)\n\n  const getData = useCallback( async () => {\n\n    const startDate = startTime.toISOString()\n    const endDate = endTime.toISOString()\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest(`/insights/${projectId}/${startDate}/${endDate}`, request)\n\n      const { aggregate } = await res.json()\n\n      setAggregate(aggregate)\n    }\n    catch (err) {\n      console.error(`There was an error retrieving your project: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [startTime, endTime, projectId])\n\n  useEffect( () => {\n    getData()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n\n    <ProjectPageTemplate\n      title={project ? `${project.name} - Insights` : 'Project Data Insights'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { (loading || loadingProject) && <Loading message={''} />}\n      <div style={styles.columns}>\n        <DashboardSection headerContent={'Values for Potential Charging'}>\n          <div style={styles.specs}>\n            <Label content=\"Number of Events\"/>\n            <DataDisplay content={`${aggregate ? aggregate.belowN : 0}`}/>\n            <Label content=\"Average Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowMean) : blankDollars}`}/>\n            <Label content=\"Lowest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowMin) : blankDollars}`}/>\n            <Label content=\"Highest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowMax) : blankDollars}`}/>\n            <Label content=\"Standard Deviation\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowStdDev) : blankDollars}`}/>\n          </div>\n        </DashboardSection>\n        <DashboardSection headerContent={'Values for Potential Discharging'}>\n          <div style={styles.specs}>\n            <Label content=\"Number of Events\"/>\n            <DataDisplay content={`${aggregate ? aggregate.aboveN : 0}`}/>\n            <Label content=\"Average Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveMean) : blankDollars}`}/>\n            <Label content=\"Lowest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveMin) : blankDollars}`}/>\n            <Label content=\"Highest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveMax) : blankDollars}`}/>\n            <Label content=\"Standard Deviation\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveStdDev) : blankDollars}`}/>\n          </div>\n        </DashboardSection>\n      </div>\n      <DashboardSection\n        headerContent={'Select Time Range'}>\n        {\n          project &&\n          <div style={styles.dateControl}>\n            <DateRangeControl\n              setStartTime={setStartTime}\n              setEndTime={setEndTime}\n              startTime={startTime}\n              endTime={endTime}\n              projectId={projectId}\n              timeZone={project.timeZone}\n              />\n            <div style={styles.button}>\n              <Button\n                value=\"GET INSIGHTS\"\n                disabled={loading}\n                type=\"success\"\n                onClick={getData}\n                width={'10em'}\n                />\n            </div>\n          </div>\n        }\n      </DashboardSection>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  specs: {\n    padding: '0 2em',\n  },\n  columns: {\n    display: 'flex',\n    flexDirection: 'rows',\n    justifyContent: 'space-between',\n    maxWidth: '60em',\n    flexWrap: 'wrap',\n  },\n  dateControl: {\n    padding: '0 0 0 1em',\n  },\n  button: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    padding: '.5em 0',\n  },\n}\n\nexport default InsightsDisplay\n","import * as d3 from 'd3'\nimport { _3d } from 'd3-3d'\nimport React, {useRef, useEffect} from 'react'\n// import PropTypes from 'prop-types'\n\nimport { colors } from '../../config/styles'\n\nconst ThreeDimensionalChart = ({\n  data,\n}) => {\n\n  const chartRef = useRef(null)\n\n  const width = 750, height = 1000\n  const startAngle = Math.PI/4\n  const origin = [width/2, 100]\n\n  const color = d3.scaleLinear()\n\n  useEffect(() => {\n\n    const {\n      points,\n      axisLength,\n    } = data\n\n    const surface = _3d()\n      .scale(1)\n      .x( d => d.x )\n      .y( d => d.y )\n      .z( d => d.z )\n      .origin(origin)\n      .rotateY(startAngle)\n      .rotateX(-startAngle)\n      .shape('SURFACE', axisLength)\n\n    const svg = d3.select(chartRef.current).append('g')\n\n    const colorize = d => {\n      const _y = (d[0].y + d[1].y + d[2].y + d[3].y)/4\n\n      return d.ccw ? d3.interpolateSpectral(color(_y)) : d3.color(d3.interpolateSpectral(color(_y))).darker(2.5)\n    }\n\n    const processData = (surfaceData, millis) => {\n      const planes = svg.selectAll('path').data(surfaceData, sd => sd.plane )\n\n      planes\n        .enter()\n        .append('path')\n        .attr('class', '_3d')\n        .attr('fill', colorize)\n        .attr('opacity', 0)\n        .attr('stroke-opacity', 0.1)\n        .merge(planes)\n        .attr('stroke', 'black')\n        .transition().duration(millis)\n        .attr('opacity', 1)\n        .attr('fill', colorize)\n        .attr('d', surface.draw)\n\n      planes.exit().remove()\n\n      d3.selectAll('._3d').sort(surface.sort);\n    }\n\n    const init = () => {\n      const yMin = d3.min(points, d => d.y )\n      const yMax = d3.max(points, d => d.y )\n\n      const maxPoint = d3.scan(points, (a, b) => b.y - a.y)\n\n      console.log('max revenue:', yMax, '\\npoint?', points[maxPoint]);\n\n      color.domain([yMin, yMax])\n      processData(surface(points), 1000)\n    }\n\n    init()\n\n  }, [color, data, origin, startAngle])\n\n  return (\n    <svg style={style} width={width} height={height} ref={chartRef} />\n  )\n}\n\nconst style = {\n  background: colors.mediumGray,\n}\n\nexport default ThreeDimensionalChart\n","import React, {useState, useEffect, useCallback} from 'react'\nimport moment from 'moment-timezone'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\nimport Button from '../components/button/'\nimport DashboardSection from '../components/DashboardSection'\n// import DateControl from '../components/DateControl'\n// import TimeIncrementSelect from '../components/TimeIncrementSelect'\n// import LabeledCheckbox from '../components/LabeledCheckbox'\n// import DataTimeDisplay from '../components/DataTimeDisplay'\nimport ValueControl from '../components/ValueControl'\n\nimport Label from '../components/Label'\nimport DataDisplay from '../components/DataDisplay'\nimport ThreeDimensionalChart from '../components/charts/ThreeDimensionalChart'\n\nimport {\n  getBaseUrl,\n  roundToDigits,\n} from '../utils/'\n\nimport { singleRequest } from '../utils/requestUtils'\n\n// import {timeIncrements} from '../config/'\n//\n// import { useConnectToServerSideEvent } from '../hooks/'\n\nimport { formatDollars } from '../utils/'\n\nimport {\n  blankDollars,\n  defaultHeaders,\n} from '../config/'\n\nimport { useGetProject } from '../hooks/'\n\nconst DevelopmentPlatform = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'dev', projectId)\n\n  const getNow = () => moment()\n\n  const now = getNow()\n  // const oneWeekAgo = now.clone()\n    .subtract(7, 'days')\n  const oneWeekAgo = now.clone()\n    .subtract(7, 'days')\n\n  const [project, loadingProject] = useGetProject(projectId)\n\n  const [startTime] = useState(oneWeekAgo)\n  const [endTime] = useState(now)\n\n  const [chargeThreshold, setChargeThreshold] = useState(0)\n  const [chargeStdDev, setChargeStdDev] = useState(0)\n\n  const [dischargeThreshold, setDischargeThreshold] = useState(0)\n  const [dischargeStdDev, setDischargeStdDev] = useState(0)\n\n  const [multiplier] = useState(.1)\n  const [loading, setLoading] = useState(false)\n  const [revenueSurface, setRevenueSurface] = useState(null)\n  const [aggregate, setAggregate] = useState(null)\n  const [revenue, setRevenue] = useState(0)\n\n  const onIncrement = (value, increment) => value + increment\n\n  const onDecrement = (value, increment) => value - increment\n\n  const onIncrementChargeThreshold = () => {\n    const incremented = onIncrement(chargeThreshold, chargeStdDev * multiplier)\n\n    setChargeThreshold(incremented)\n  }\n\n  const onDecrementChargeThreshold = () => {\n    const decremented = onDecrement(chargeThreshold, chargeStdDev * multiplier)\n\n    setChargeThreshold(decremented)\n  }\n\n  const onIncrementDischargeThreshold = () => {\n    const incremented = onIncrement(dischargeThreshold, dischargeStdDev * multiplier)\n\n    setDischargeThreshold(incremented)\n  }\n\n  const onDecrementDischargeThreshold = () => {\n    const decremented = onDecrement(dischargeThreshold, dischargeStdDev * multiplier)\n\n    setDischargeThreshold(decremented)\n  }\n\n  const getRevenueSurface = useCallback( async () => {\n\n    const startDate = startTime.toISOString()\n    const endDate = endTime.toISOString()\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest(`/revenue_surface/${projectId}/${startDate}/${endDate}`, request)\n\n      const parsed = await res.json()\n\n      setRevenueSurface(parsed.revenueSurface)\n    }\n    catch (err) {\n      console.error(`There was an error calculating revenue surface data for your project: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [startTime, endTime, projectId])\n\n  const getData = useCallback( async () => {\n\n    const startDate = startTime.toISOString()\n    const endDate = endTime.toISOString()\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest(`/insights/${projectId}/${startDate}/${endDate}`, request)\n\n      const { aggregate } = await res.json()\n\n      setAggregate(aggregate)\n\n      const {\n        belowMean,\n        belowStdDev,\n        aboveMean,\n        aboveStdDev,\n      } = aggregate\n\n      setChargeThreshold(belowMean)\n      setChargeStdDev(belowStdDev)\n      setDischargeThreshold(aboveMean)\n      setDischargeStdDev(aboveStdDev)\n    }\n    catch (err) {\n      console.error(`There was an error retrieving your project: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [startTime, endTime, projectId])\n\n  const getTest = useCallback( async () => {\n\n    console.log('project:', project);\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest(`/test/${project.nodeId}`, request)\n\n      const response = await res.json()\n\n      console.log('test response:', response);\n    }\n    catch (err) {\n      console.error(`There was an error running the test function: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [project])\n\n  const getRevenue = useCallback( async () => {\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest(`/revenue_by_thresholds/${projectId}/${chargeThreshold}/${dischargeThreshold}`, request)\n\n      const parsed = await res.json()\n\n      setRevenue(parsed.revenue)\n    }\n    catch (err) {\n      console.error(`There was an error retrieving revenue data: ${err}`)\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [chargeThreshold, dischargeThreshold, projectId])\n\n  useEffect( () => {\n    getData()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n\n    <ProjectPageTemplate\n      title={'Development Platform'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { (loading || loadingProject) && <Loading message={''} />}\n      <DashboardSection\n        headerContent={'Test Charge and Discharge Thresholds'}>\n        {\n          aggregate &&\n          <div style={styles.revenue}>\n            <div style={styles.revenueDisplay}>\n              <Label content=\"7 Day Revenue for Selected Thresholds:\"/>\n              <DataDisplay content={`${revenue ? formatDollars(revenue) : blankDollars}`}/>\n            </div>\n            <div style={styles.revenueWrapper}>\n              <div style={styles.controls}>\n                <div>\n                  <ValueControl\n                    value={chargeThreshold || (project && project.chargeThreshold)}\n                    format={formatDollars}\n                    title=\"Charge Threshold\"\n                    disabled={project && !project.chargeThreshold}\n                    onIncrement={onIncrementChargeThreshold}\n                    onDecrement={onDecrementChargeThreshold}\n                    onIncrementLabel={`${multiplier}\\u03C3`}\n                    onDecrementLabel={`${multiplier}\\u03C3`}\n                    width={'18em'}\n                    />\n                  <p style={styles.thresholds}>\n                    {`Charge Threshold is ${roundToDigits((aggregate.belowMean - chargeThreshold)/aggregate.belowStdDev, 2)} x \\u03C3 below the mean`}\n                  </p>\n                </div>\n                <div>\n                  <ValueControl\n                    value={dischargeThreshold || (project && project.dischargeThreshold)}\n                    format={formatDollars}\n                    title=\"Discharge Threshold\"\n                    disabled={project && !project.dischargeThreshold}\n                    onIncrement={onIncrementDischargeThreshold}\n                    onDecrement={onDecrementDischargeThreshold}\n                    onIncrementLabel={`${multiplier}\\u03C3`}\n                    onDecrementLabel={`${multiplier}\\u03C3`}\n                    width={'18em'}\n                    />\n                  <p style={styles.thresholds}>\n                    {`Discharge Threshold is ${roundToDigits((dischargeThreshold -aggregate.aboveMean)/aggregate.aboveStdDev, 2)} x \\u03C3 above the mean`}\n                  </p>\n                </div>\n              </div>\n              <div style={styles.button}>\n                <Button\n                  value=\"GET REVENUE\"\n                  disabled={loading}\n                  type=\"success\"\n                  onClick={getRevenue}\n                  width={'10em'}\n                  />\n              </div>\n            </div>\n          </div>\n        }\n      </DashboardSection>\n      <DashboardSection\n        headerContent={'Revenue Surface'}>\n        <div style={styles.surface}>\n          {\n            revenueSurface ?\n            <ThreeDimensionalChart\n              data={revenueSurface}\n              />\n            : <div></div>\n          }\n          <div style={styles.button}>\n            <Button\n              value=\"SHOW CHART\"\n              disabled={loading}\n              type=\"success\"\n              onClick={getRevenueSurface}\n              width={'10em'}\n              />\n          </div>\n        </div>\n        <div style={styles.button}>\n          <Button\n            value=\"TEST\"\n            disabled={loading}\n            type=\"danger\"\n            onClick={getTest}\n            width={'8em'}\n            />\n        </div>\n      </DashboardSection>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  specs: {\n    padding: '0 2em',\n  },\n  columns: {\n    display: 'flex',\n    flexDirection: 'rows',\n    justifyContent: 'space-between',\n    maxWidth: '60em',\n  },\n  inclusion: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  getData: {\n    margin: '.5em 0 0 1.5em',\n  },\n  minDate: {\n    padding: '0 0 1em',\n  },\n  revenueWrapper: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  controls: {\n    display: 'flex',\n    width: '45em',\n    justifyContent: 'space-between',\n  },\n  revenue: {\n    padding: '.5em 1em',\n  },\n  revenueDisplay: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n  },\n  thresholds: {\n    lineHeight: '1.5em',\n    fontStyle: 'italic',\n    width: '15em',\n    padding: '.5em',\n  },\n  button: {\n    flex: 0,\n  },\n  surface: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '1em',\n  },\n}\n\nexport default DevelopmentPlatform\n","import React from 'react'\n\nimport { Route } from 'react-router-dom'\n\nimport CreateProject from '../containers/CreateProject'\nimport Project from '../containers/Project'\nimport ProjectRoi from '../containers/ProjectRoi'\nimport ProjectDashboard from '../containers/ProjectDashboard'\nimport HistoricalDisplay from '../containers/HistoricalDisplay'\nimport InsightsDisplay from '../containers/InsightsDisplay'\nimport DevelopmentPlatform from '../containers/DevelopmentPlatform'\n\nconst ProjectTools = ({match}) => (\n\n  <React.Fragment>\n    <Route\n      exact path={`${match.path}/create_project`}\n      component={CreateProject}\n    />\n    <Route\n      path={`${match.path}/project/:projectId`}\n      component={Project}\n    />\n    <Route\n      path={`${match.path}/roi/:projectId`}\n      component={ProjectRoi}\n    />\n    <Route\n      path={`${match.path}/dashboard/:projectId`}\n      component={ProjectDashboard}\n    />\n    <Route\n      path={`${match.path}/historical/:projectId`}\n      component={HistoricalDisplay}\n    />\n    <Route\n      path={`${match.path}/insights/:projectId`}\n      component={InsightsDisplay}\n    />\n    <Route\n      path={`${match.path}/dev/:projectId`}\n      component={DevelopmentPlatform}\n    />\n  </React.Fragment>\n)\n\nexport default ProjectTools\n","import React, {useState, useEffect, useCallback} from 'react'\n\nimport PublicPageTemplate from '../components/PublicPageTemplate'\nimport ProjectTools from '../components/ProjectTools'\nimport Header3 from '../components/Header3'\nimport DisableableLink from '../components/DisableableLink'\nimport Button from '../components/button/'\n\nimport { defaultHeaders } from '../config'\n\nimport { singleRequest } from '../utils/requestUtils'\n\nconst Demo = ({ match }) => {\n\n  const [demoProject, setDemoProject] = useState(null)\n\n  const getDemoProject = useCallback( async () => {\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    try {\n      const res = await singleRequest('/projects', request)\n\n      const project = await res.json()\n\n      project ? setDemoProject(project) : setDemoProject(null)\n    }\n    catch (err) {\n      console.error(`There was an error retrieving your project: ${err}`)\n    }\n    finally {\n    }\n  }, [])\n\n  const showDemo = match.isExact\n\n  useEffect( () => {\n    getDemoProject()\n  }, [showDemo, getDemoProject])\n\n  return (\n\n    <PublicPageTemplate\n      title={'Demo'}\n      >\n      {\n        showDemo &&\n        <div style={styles.root}>\n          <Header3\n            content={'Evaluate Project Locations'}\n            />\n          <ul style={styles.list}>\n            <li>\n              <p>Coming Soon!</p>\n            </li>\n          </ul>\n          <Header3\n            content={'Build a Project'}\n            />\n          <ul style={styles.list}>\n            <li>\n              <p>Specify the project location either by clicking on the map or entering an address.</p>\n            </li>\n            <li>\n              <p>Specify the power, energy capacity, and round trip efficiency of your battery or other storage technology.</p>\n            </li>\n            <li>\n              <p>Create the project to get access to the Project Dashboard, Historical data visualizer, and Insights page for requesting statistical data about prices on the selected node.</p>\n            </li>\n          </ul>\n          <div style={styles.link}>\n            <DisableableLink to=\"/demo/create_project\" >\n              <Button\n                value={'CREATE PROJECT'}\n                type=\"primary\"\n                overrideStyles={styles.button}\n                width={'12em'}\n                />\n            </DisableableLink>\n          </div>\n          {\n            demoProject &&\n            <div style={styles.existing}>\n              <p>The Entelx demo system is currently configured to allow just one project at a time.  Take a tour of one that has already been created.</p>\n              <div style={styles.link}>\n                <DisableableLink to={`/demo/project/${demoProject.id}`} >\n                  <Button\n                    value={'GO TO EXISTING PROJECT'}\n                    type=\"primary\"\n                    overrideStyles={styles.button}\n                    width={'16em'}\n                    />\n                </DisableableLink>\n              </div>\n            </div>\n          }\n        </div>\n      }\n      <ProjectTools match={match}/>\n    </PublicPageTemplate>\n  )\n}\n\n\nconst styles = {\n  root: {\n    textAlign: 'left',\n    padding: '1em 3em',\n  },\n  list: {\n    lineHeight: '3em',\n    padding: '1em 0 1em 1.5em',\n    listStyle: 'disc',\n  },\n  link: {\n    textAlign: 'right',\n    padding: '0 2em',\n  },\n  button: {\n    padding: '.8em'\n  },\n  existing: {\n    lineHeight: '3em',\n  },\n}\n\nexport default Demo\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nimport PublicPageTemplate from '../../components/PublicPageTemplate'\nimport Header3 from '../../components/Header3'\n\nimport { useGetMd } from '../../hooks/'\n\nimport about from './about.md'\n\nimport '../TextPage.css'\n\nconst About = () => {\n\n  const aboutMd = useGetMd(about)\n\n  return (\n\n    <PublicPageTemplate\n      title={'About'}\n      >\n      <div style={styles.root} className=\"text-page\">\n        <Header3 content=\"Entelx\" />\n        <ReactMarkdown source={aboutMd} />\n      </div>\n    </PublicPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    padding: '0 1em',\n    textAlign: 'left',\n  }\n}\n\nexport default About\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nimport PublicPageTemplate from '../../components/PublicPageTemplate'\n\nimport { useGetMd } from '../../hooks/'\n\nimport contact from './contact.md'\n\nimport '../TextPage.css'\n\nconst Contact = () => {\n\n  const contactMd = useGetMd(contact)\n\n  return (\n\n    <PublicPageTemplate\n      title={'Contact'}\n      >\n      <div style={styles.root} className=\"text-page\">\n        <ReactMarkdown source={contactMd} />\n      </div>\n    </PublicPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    padding: '0 1em',\n    textAlign: 'left',\n  }\n}\n\nexport default Contact\n","import React from 'react'\n\nimport DisableableLink from '../DisableableLink'\n\nimport './HeaderNavBar.css'\n\nconst HeaderNavBar = () => (\n\n  <div className=\"header-nav\">\n    <nav className=\"nav\">\n      <DisableableLink to=\"/\">\n        Home\n      </DisableableLink>\n      <DisableableLink to=\"/demo\">\n        Demo\n      </DisableableLink>\n      <DisableableLink to=\"/login\" disabled={true} >\n        Log In\n      </DisableableLink>\n    </nav>\n  </div>\n)\n\nexport default HeaderNavBar\n","import React, {useState} from 'react'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\n\nimport Button from '../components/button/'\nimport Loading from '../components/loading/'\n\nimport {\n  singleRequest,\n  // parseResponse,\n} from '../utils/requestUtils'\n\n// import { setField } from '../utils/'\n\nconst SystemAdmin = () => {\n\n  const [loading, setLoading] = useState(false)\n  // const [keys, setKeys] = useState([])\n\n  // const addKey = key => setKeys([...keys, key])\n  //\n  // const removeKey = key => {\n  //   const index = keys.indexOf(key)\n  //   setKeys(\n  //     [\n  //       ...keys.slice(0, index),\n  //       ...keys.slice(index + 1),\n  //     ]\n  //   )\n  // }\n\n  const onRequest = () => {\n\n    setLoading(true)\n\n    const keys = []\n    const path = ''\n\n    const body = JSON.stringify({keys,})\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body,\n    }\n\n    singleRequest(path, request)\n      .then( res => {\n        console.log('res at onRequest', res);\n        setLoading(false)\n      })\n      .catch( err => {\n        setLoading(false)\n        console.error(`There was an error writing to ${path}: ${err}`)\n      })\n  }\n\n  return (\n    <ProjectPageTemplate title={'System Administration'}>\n      { loading && <Loading message={''} />}\n      <p>One Time Request</p>\n      <Button\n        value={'EXECUTE'}\n        type=\"danger\"\n        onClick={onRequest}\n        />\n    </ProjectPageTemplate>\n  )\n}\n\n// const styles = {\n// }\n\nexport default SystemAdmin\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport Home from './components/Home'\nimport Demo from './containers/Demo'\nimport {\n  About,\n  Contact,\n} from './textPages/'\nimport HeaderNavBar from './components/headerNavBar/'\n\nimport SystemAdmin from './containers/SystemAdmin'\n\nimport './App.css'\n\nconst App = () => (\n\n  <div style={styles.root}>\n    <HeaderNavBar />\n    <React.Fragment>\n      <Route\n        exact path=\"/\"\n        component={Home}\n      />\n      <Route\n        path=\"/demo\"\n        component={Demo}\n      />\n      <Route\n        path=\"/about\"\n        component={About}\n      />\n      <Route\n        path=\"/contact\"\n        component={Contact}\n      />\n      <Route\n        path=\"/system_admin\"\n        component={SystemAdmin}\n      />\n    </React.Fragment>\n  </div>\n)\n\nconst styles = {\n  root: {\n    fontFamily: 'Montserrat, Helvetica, sans-serif',\n    fontWeight: 200,\n    // fontSize: '1.3vw',\n    fontSize: 14,\n    textAlign: 'center',\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\n\nReactDOM.render((\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n), document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}