{"version":3,"sources":["components/loading/logo.svg","config/styles.js","components/Header1.js","components/Header2.js","components/Header3.js","components/Header4.js","components/Overlay.js","components/DisableableLink.js","components/Footer.js","components/ReverseGradientBackground.js","config/index.js","components/Home.js","components/GradientBackground.js","components/PublicPageHeader.js","components/PublicPageTemplate.js","containers/map/Map.js","utils/requestUtils.js","containers/map/MapNodeRenderer.js","components/map/MapMarkerRenderer.js","config/map.js","components/map/MapISOAreaRenderer.js","components/Label.js","components/LabeledInput.js","components/button/index.js","components/loading/index.js","components/navButton/index.js","components/ProjectNav.js","components/ProjectMenu.js","components/ProjectPageHeader.js","components/ProjectPageTemplate.js","utils/index.js","containers/CreateProject.js","components/DataDisplay.js","containers/Project.js","hooks/index.js","containers/ProjectRoi.js","components/DashboardSection.js","components/DashboardSectionContent.js","components/WeatherIcon.js","components/DataTimeDisplay.js","components/CurrentWeatherDisplay.js","components/ChargeStatusDisplay.js","components/HeadingLabel.js","components/Status.js","config/chart.js","components/charts/CustomTooltip.js","components/charts/CustomLegend.js","components/charts/LineBarChart.js","containers/ProjectDashboard.js","components/ValueControl.js","components/DateControl.js","components/LabeledRadio.js","components/Header5.js","components/TimeIncrementSelect.js","components/LabeledCheckbox.js","components/DataTimeRangeDisplay.js","containers/HistoricalDisplay.js","components/charts/ThreeDimensionalChart.js","containers/InsightsDisplay.js","components/ProjectTools.js","components/Demo.js","components/Contact.js","components/About.js","components/NavBar.js","containers/SystemAdmin.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","fontSize","colors","nodeColors","isoColors","caiso","ercot","3","4","5","buttons","primary","color","background","success","danger","boxShadow","styles","Header1","content","style","Header2","Header3","Header4","zIndex","height","backgroundImage","Overlay","addlStyles","getStyles","disabled","textDecoration","pointerEvents","cursor","DisableableLink","to","children","Link","root","width","display","justifyContent","margin","Footer","ReverseGradientBackground","timeIncrements","hour","label","value","day","week","month","defaultHeaders","gridTemplateColumns","gridTemplateRows","logo","gridColumn","gridRowStart","logoText","alignSelf","padding","justifySelf","textAlign","logoImg","objectFit","objectPosition","sub1","sub1Img","subText","banner","bannerText","mission","purpose","text","list","listItem","footerLinks","Home","alt","src","GradientBackground","placement","clipPath","PublicPageHeader","title","flexDirection","flex","PublicPageTemplate","boxSizing","Map","zoom","center","mapboxgl","accessToken","process","useState","map","setMap","mapContainer","useRef","useEffect","container","current","minZoom","on","remove","childrenWithProps","React","Children","child","cloneElement","ref","parseResponse","res","json","checkStatus","status","error","Error","statusText","response","singleRequest","path","options","Promise","resolve","reject","fetch","then","catch","MapNodeRenderer","nodes","setNodes","a","request","method","headers","console","getNodes","popup","Popup","closeButton","closeOnClick","onNodeMouseEnter","useCallback","e","getCanvas","coordinates","features","geometry","slice","nodeProps","properties","popUpHtml","Object","keys","reduce","str","np","i","newLine","nodeKey","formatNodeLabels","length","arr","split","join","Math","abs","lngLat","lng","setLngLat","setHTML","addTo","onNodeMouseLeave","onClusterMouseEnter","onClusterMouseLeave","onClusterClick","queryRenderedFeatures","point","layers","clusterId","cluster_id","getSource","getClusterExpansionZoom","err","newZoom","easeTo","setLayers","addSource","type","data","cluster","clusterMaxZoom","clusterRadius","addLayer","id","source","filter","paint","layout","cleanUp","off","propTypes","PropTypes","object","MapMarkerRenderer","lat","marker","Marker","arrayOf","number","isoLayerSources","MapISOAreaRenderer","getLatLng","iso","onLayerClick","layer","cleanup","oneOf","isRequired","func","labelStyle","fontStyle","Label","getInputStyles","inputWidth","input","border","borderRadius","LabeledInput","name","placeholder","unit","min","max","step","onChange","htmlFor","undefined","MozBorderRadius","WebkitBorderRadius","Button","onClick","overrideStyles","main","position","right","top","bottom","overlay","message","Loading","className","listStyle","link","NavButton","baseUrl","borderRight","ProjectNav","b","key","button","ProjectMenu","setDisplay","menu","handleOutsideClick","contains","target","document","addEventListener","removeEventListener","compactRoot","transition","items","compactItems","alignItems","compactText","ProjectPageHeader","showMenu","setPosition","isCompact","header","checkScroll","pos","getBoundingClientRect","switchStyles","rootStyles","gradientStyles","itemStyles","textStyles","ProjectPageTemplate","formatMillis","millis","tz","format","moment","roundToDigits","val","digits","rounder","round","setField","stateFunction","preventDefault","getBaseUrl","url","page","projectId","replace","formatDollars","toFixed","flexWrap","form","minWidth","subSection","latLng","minHeight","withRouter","match","history","cleanUrl","setLat","setLng","setProjectName","energy","setEnergyCapacity","power","setPowerCapacity","rte","setRte","address","setAddress","city","setCity","state","setState","zip","setZip","loading","setLoading","locationChosen","setLocationChosen","body","JSON","stringify","includes","push","setError","DataDisplay","project","specs","params","setProject","getProject","useConnectToServerSideEvent","route","handleData","stream","EventSource","handlePing","log","parse","time","handleError","close","ProjectRoi","setData","sseRoute","cheese","DashboardSection","headerContent","childStyles","DashboardSectionContent","Skycons","require","window","WeatherIcon","icon","iconConfig","getIconConfig","skycons","iconRef","add","play","skycon","DataTimeDisplay","timeZone","linkContainer","ds","CurrentWeatherDisplay","weather","temperature","cloudCover","windSpeed","windGust","windBearing","nearestStormDistance","nearestStormBearing","rel","href","getStatusStyles","fontWeight","statusColors","charge","discharge","standby","ChargeStatusDisplay","currentPrc","avgPrc","diff","displayPrc","getPriceDescription","HeadingLabel","prices","followingSection","Status","config","revenue","latest","lmp","mvgAvg","timestamp","chargeThreshold","dischargeThreshold","trendColors","lineDataFormat","barDataFormat","score","formats","backgroundColor","date","CustomTooltip","payload","active","obj","getLegendTileStyles","legendTile","dataType","CustomLegend","p","LineBarChart","memo","barKey","negBarThreshold","posBarThreshold","aspect","xRefLines","useBrush","dataTypes","d","forEach","k","findRelevantKeys","overThreshold","agg","entry","includeScore","remaining","left","dataKey","tickFormatter","yAxisId","tickCount","minTickGap","orientation","domain","strokeDasharray","y","stroke","fill","endIndex","t","connectNulls","dot","x","chart","noData","ProjectDashboard","setWeather","setPrices","setRevenue","setCharge","setStatus","setConfig","getInitDashboard","parsed","hasPrices","dataLoaded","projectName","getRootStyle","ValueControl","onIncrement","onDecrement","onIncrementLabel","onDecrementLabel","DateControl","increment","LabeledRadio","checked","Header5","TimeIncrementSelect","onSelect","selected","increments","inc","LabeledCheckbox","DataTimeRangeDisplay","startMillis","endMillis","dateControls","inclusion","getData","minDate","HistoricalDisplay","getNow","now","oneWeekAgo","clone","subtract","incrementsArr","startTime","setStartTime","endTime","setEndTime","timeIncrement","setTimeIncrement","timeseries","setTimeseries","includeWeather","setIncludeWeather","setMinDate","valueOf","minDateMillis","incremented","isBefore","decremented","isAfter","ThreeDimensionalChart","chartRef","startAngle","PI","origin","d3","points","axisLength","surface","_3d","scale","z","rotateY","rotateX","shape","svg","append","colorize","_y","ccw","darker","yMin","yMax","maxPoint","surfaceData","planes","selectAll","sd","plane","enter","attr","merge","duration","draw","exit","sort","processData","init","columns","maxWidth","controls","thresholds","lineHeight","showChart","InsightsDisplay","threeWeeksAgo","setChargeThreshold","chargeStdDev","setChargeStdDev","setDischargeThreshold","dischargeStdDev","setDischargeStdDev","multiplier","aggregate","setAggregate","setShowChart","belowMean","belowStdDev","aboveMean","aboveStdDev","getRevenue","belowN","belowMin","belowMax","aboveN","aboveMin","aboveMax","ProjectTools","Fragment","Route","exact","component","CreateProject","Project","Demo","isExact","Contact","About","nav","NavBar","SystemAdmin","fontFamily","overflow","App","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","BrowserRouter","getElementById","URL","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.d31f1472.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","export const fontSize = {\n  //perfect fourth\n  h1: '3.157em',\n  h2: '2.369em',\n  h3: '1.777em',\n  h4: '1.333em',\n  h5: '1em',\n  label: '1.1em',\n}\n\nexport const colors = {\n  text: '#363D38',\n  lightGray: '#e2e2e2',\n  mediumGray: '#A0A0A0',\n  gray: '#838383',\n  darkGray: '#3D3D3D',\n  white: '#fff',\n  lightGreen: '#90DDAA',\n  brightGreen: '#23B253', //hsb(140 80 70)\n  middleGreen: '#00872D',\n  deepGreen: '#046D27',\n  darkGreen: '#001E0A',\n  red: '#CC333F',\n  lightBlue: '#01BAEF',\n  darkBlue: '#082656',\n  paleYellow: '#FFE659',\n  deepYellow: '#FFD800',\n}\n\nexport const nodeColors = [\n  '#F71735',\n  '#91A6FF',\n  '#FF88DC',\n  '#FAFF7F',\n  '#17BEBB',\n  '#CD5334',\n  '#004E64',\n  '#9FFFCB',\n  '#7AE582',\n  '#007EA7',\n  '#FF9F1C',\n  '#380036',\n  '#01BAEF',\n  '#26081C',\n  '#192BC2',\n  '#003459',\n  '#0E0E52',\n  '#FDE74C',\n]\n\nexport const isoColors = {\n  caiso: '#E28413',\n  ercot: '#F56416',\n  3: '#DD4B1A',\n  4: '#EF271B',\n  5: '#EA1744',\n}\n\nexport const buttons = {\n  primary: {\n    color: colors.white,\n    background: colors.darkBlue,\n  },\n  success: {\n    color: colors.white,\n    background: colors.brightGreen,\n  },\n  danger: {\n    color: colors.white,\n    background: colors.red,\n  },\n}\n\nexport const boxShadow = '0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)'\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header1 = ({content}) => (\n  <h1\n    style={styles}\n  >\n  {content}\n  </h1>\n)\n\nconst styles = {\n  fontSize: fontSize.h1,\n}\n\nHeader1.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header1\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header2 = ({content}) => (\n  <h2\n    style={styles}\n  >\n  {content}\n  </h2>\n)\n\nconst styles = {\n  fontSize: fontSize.h2,\n}\n\nHeader2.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header2\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header3 = ({content}) => (\n  <h3\n    style={styles}\n  >\n  {content}\n  </h3>\n)\n\nconst styles = {\n  fontSize: fontSize.h3,\n}\n\nHeader3.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header3\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header4 = ({content}) => (\n  <h4\n    style={styles}\n  >\n  {content}\n  </h4>\n)\n\nconst styles = {\n  fontSize: fontSize.h4,\n}\n\nHeader4.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header4\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Overlay = ({ addlStyles }) => (\n\n  <div\n    style={{\n      ...styles,\n      ...addlStyles,\n    }}\n  />\n)\n\nconst styles = {\n  zIndex: 1,\n  height: '100%',\n  backgroundImage: `linear-gradient(rgba(0, 71, 23, .2),  rgba(0, 71, 23, .9))`,\n}\n\nOverlay.propTypes = {\n  addlStyles: PropTypes.object,\n}\n\nexport default Overlay\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nimport { colors } from '../config/styles'\n\nconst DisableableLink = ({\n  to,\n  children,\n  disabled = false,\n}) => (\n\n  <Link to={to} style={getStyles(disabled)}>{children}</Link>\n)\n\nconst getStyles = disabled => ({\n  textDecoration: 'none',\n  color: disabled ? colors.mediumGray : colors.text,\n  pointerEvents: disabled ? 'none' : 'auto',\n  cursor: disabled ? 'not-allowed' : 'pointer',\n})\n\nDisableableLink.propTypes = {\n  to: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n}\n\nexport default DisableableLink\n","import React from 'react'\n\nimport Header4 from './Header4'\nimport DisableableLink from './DisableableLink'\n\nconst Footer = () => (\n\n  <div style={styles.root} >\n\n    <DisableableLink to=\"/about\" >\n      <Header4\n        content={'About'}\n      />\n    </DisableableLink>\n    <DisableableLink to=\"/contact\">\n      <Header4\n        content={'Contact'}\n      />\n    </DisableableLink>\n  </div>\n)\n\nconst styles = {\n  root: {\n    width: '100%',\n    display: 'inline-flex',\n    justifyContent: 'space-around',\n    margin: '2em 0 4em',\n  },\n}\n\nexport default Footer\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { colors } from '../config/styles'\n\nconst ReverseGradientBackground = ({addlStyles}) => (\n  <div style={{\n      ...styles,\n      ...addlStyles,\n    }}/>\n)\n\nconst styles = {\n  backgroundImage: `linear-gradient(${colors.deepGreen}, ${colors.brightGreen})`,\n}\n\nReverseGradientBackground.propTypes = {\n  addlStyles: PropTypes.object,\n}\n\nexport default ReverseGradientBackground\n","export const companyName = 'Entelx'\nexport const utcFormat = 'YYYY-MM-DDTHH:mm:ss.sss[Z]'\n\nexport const dayMonthYearTimeFormat = 'ddd, MMM Do YYYY, h:mm A'\n\nexport const monthDayTimeFormat = 'M/D h:mm A'\nexport const twelveHourFormat = 'h:mm A'\n\nexport const blankDollars = '$-.--'\n\nexport const timeIncrements = {\n  hour: {\n    label: 'Hour',\n    value: 'hour',\n  },\n  day: {\n    label: 'Day',\n    value: 'day',\n  },\n  week: {\n    label: 'Week',\n    value: 'week',\n  },\n  month: {\n    label: 'Month',\n    value: 'month',\n  },\n}\n\nexport const defaultHeaders = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json'\n}\n","import React from 'react'\n\nimport Header1 from './Header1'\nimport Header2 from './Header2'\nimport Header3 from './Header3'\nimport Header4 from './Header4'\nimport Overlay from './Overlay'\nimport Footer from './Footer'\nimport ReverseGradientBackground from './ReverseGradientBackground'\n\nimport { colors } from '../config/styles'\n\nimport { companyName } from '../config/'\n\nconst Home = () => (\n\n  <div>\n    <div style={styles.root}>\n      <img\n        style={styles.logoImg}\n        alt=\"solar panels\"\n        src=\"/images/solarPanels1.jpeg\"\n        />\n      <Overlay\n        addlStyles={styles.logo}\n        />\n      <div style={{\n          ...styles.logo,\n          ...styles.logoText,\n        }}>\n        <p>sweet-ass logo</p>\n        <Header1\n          content={companyName}\n          />\n        <Header4\n          content={'Accelerating Energy Intelligence'}\n          />\n      </div>\n      <img\n        style={styles.sub1Img}\n        alt=\"wind turbines\"\n        src=\"/images/windTurbines3.jpeg\"\n        />\n      <Overlay\n        addlStyles={styles.sub1}\n        />\n      <div style={{\n          ...styles.sub1,\n          ...styles.subText,\n        }}>\n        <Header2\n          content={'Renewable energy has arrived...'}\n          />\n        <Header2\n          content={'But the transition to sustainable energy must move faster'}\n          />\n      </div>\n      <ReverseGradientBackground\n        addlStyles={styles.banner}\n        />\n      <div style={{\n          ...styles.banner,\n          ...styles.bannerText,\n        }}>\n        <Header2\n          content={`${companyName} is here to help`}\n          />\n      </div>\n      <div style={styles.mission}>\n        <Header3\n          content={'Our mission is to help accelerate the transition to renewable energy by improving the economics of bulk energy storage'}\n          />\n      </div>\n      <div style={styles.purpose}>\n        <p style={styles.text}>Renewable energy has expanded by leaps and bounds in the last decade and is already the lowest cost source of energy in many places in the world.  Unfortunately, most of its natural intermittency is currently handled by fossil fuel energy resources.  Plus the more renewable energy that is deployed in each location, the lower its value becomes.</p>\n\n        <p style={styles.text}>Energy storage can solve these issues.  Storage provides a market for renewable power that would otherwise be curtailed and storage assets charged from this low-cost power can then profitably undercut the dirtiest fossil fuel generators.  Energy storage is widely seen as essential for renewable energy supplying the majority of energy demand and setting us on the path to a sustainable future.</p>\n\n        <p style={styles.text}>{companyName} is accelerating energy intelligence by:</p>\n        <ul style={styles.list}>\n          <li style={styles.listItem}>Providing real-time charge and discharge signals that maximize arbitrage value</li>\n          <li style={styles.listItem}>Locating and evaluating arbitrage opportunities</li>\n          <li style={styles.listItem}>Estimating storage project ROI</li>\n        </ul>\n      </div>\n    </div>\n    <Footer />\n  </div>\n)\n\nconst styles = {\n  root: {\n    display: 'grid',\n    gridTemplateColumns: '[leftCol1] 22% [leftCol2] 22% [centerMargin] 10% [rightCol1] 22% [rightCol2] auto [end]',\n    gridTemplateRows: '[row1] auto [ws1] 75px [row2] auto [ws2] 50px [row3] auto [row4] auto [row5] auto [ws5] 50px',\n  },\n  logo: {\n    gridColumn: 'leftCol1 / centerMargin',\n    gridRowStart: 'row1',\n  },\n  logoText: {\n    color: '#fff',\n    zIndex: 2,\n    alignSelf: 'end',\n    padding: '4em',\n    // padding: '2em 3em',\n    justifySelf: 'start',\n    textAlign: 'left',\n  },\n  logoImg: {\n    width: '100%',\n    gridColumn: 'leftCol1 / end',\n    gridRowStart: 'row1',\n    height: '85vh',\n    objectFit: 'cover',\n    objectPosition: '100% 70%',\n  },\n  sub1: {\n    gridColumn: 'rightCol1 / end',\n    gridRowStart: 'row2',\n  },\n  sub1Img: {\n    width: '100%',\n    gridColumn: 'leftCol1 / end',\n    gridRowStart: 'row2',\n    height: '70vh',\n    objectFit: 'cover',\n    objectPosition: '100% 50%',\n  },\n  subText: {\n    textAlign: 'right',\n    alignSelf: 'end',\n    padding: '2em 3em',\n    zIndex: 2,\n    color: '#fff',\n  },\n  banner: {\n    gridColumn: 'leftCol1 / end',\n    gridRowStart: 'row3',\n  },\n  bannerText: {\n    alignSelf: 'end',\n    padding: '2em',\n    zIndex: 2,\n    color: '#fff',\n  },\n  mission: {\n    gridColumn: 'leftCol1 / end',\n    gridRowStart: 'row4',\n    padding: '1em 3em',\n    color: colors.text,\n    zIndex: 2,\n  },\n  purpose: {\n    gridColumn: 'leftCol1 / end',\n    gridRowStart: 'row5',\n    padding: '0 6em',\n    color: colors.text,\n  },\n  text: {\n    padding: '.5em',\n    textAlign: 'left',\n  },\n  list: {\n    textAlign: 'left',\n    padding: '0 2em',\n  },\n  listItem: {\n    padding: '.2em 0',\n  },\n  footerLinks: {\n    gridRowStart: 'row6'\n  }\n}\n\nexport default Home\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { colors } from '../config/styles'\n\nconst GradientBackground = ({addlStyles}) => (\n  <div style={{\n      ...styles,\n      ...addlStyles,\n    }}/>\n)\n\nconst styles = {\n  backgroundImage: `linear-gradient(${colors.brightGreen}, ${colors.deepGreen})`,\n}\n\nGradientBackground.propTypes = {\n  addlStyles: PropTypes.object,\n}\n\nexport default GradientBackground\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport GradientBackground from './GradientBackground'\nimport Header2 from './Header2'\n\nimport { colors } from '../config/styles'\n\nconst PublicPageHeader = ({title}) => (\n\n  <div style={styles.root}>\n    <GradientBackground\n      addlStyles={{\n        ...styles.placement,\n        ...styles.background,\n      }}\n      />\n    <div style={{\n        ...styles.placement,\n        ...styles.text,\n      }}>\n      <Header2 content={title} />\n    </div>\n  </div>\n)\n\nconst styles = {\n  root: {\n    display: 'grid',\n    gridTemplateColumns: '[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]',\n    gridTemplateRows: '[row1] 5em [ws1] 1em',\n  },\n  placement: {\n    gridColumn: 'rightCol / end',\n    gridRowStart: 'row1',\n  },\n  background: {\n    clipPath: 'polygon(2% 0, 100% 0, 100% 100%, 0 100%)'\n  },\n  text: {\n    zIndex: 1,\n    color: colors.white,\n    padding: '.5em 3em',\n    justifySelf: 'end',\n    alignSelf: 'end',\n    background: 'transparent',\n  },\n}\n\nPublicPageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n}\n\nexport default PublicPageHeader\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Footer from './Footer'\nimport PublicPageHeader from './PublicPageHeader'\nimport { colors } from '../config/styles'\n\nconst PublicPageTemplate = ({title, children}) => (\n\n  <div style={styles.root}>\n    <PublicPageHeader title={title} />\n    <div style={styles.content}>\n      {children}\n    </div>\n    <Footer />\n  </div>\n)\n\nconst styles = {\n  root: {\n    color: colors.text,\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n  content: {\n    margin: '0 0 auto',\n  }\n}\n\nPublicPageTemplate.propTypes = {\n  title: PropTypes.string.isRequired,\n  content: PropTypes.node,\n}\n\nexport default PublicPageTemplate\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n} from 'react'\nimport PropTypes from 'prop-types'\nimport mapboxgl from 'mapbox-gl'\n\nconst Map = ({\n  zoom,\n  center,\n  style,\n  children,\n}) => {\n\n  mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY\n\n  const [map, setMap] = useState(null)\n  const mapContainer = useRef(null)\n\n  useEffect( () => {\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v9',\n      zoom,\n      center,\n      minZoom: 3,\n    })\n\n    map.on('load', () => setMap(map) )\n\n    return () => map.remove()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  const childrenWithProps = React.Children.map(children, child =>\n    child && React.cloneElement(child, { map, })\n  )\n\n  return (\n\n    <div\n      style={{\n        ...styles.root,\n        ...style,\n      }}\n      ref={mapContainer}\n      >\n      {map && childrenWithProps}\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'block',\n    boxSizing: 'border-box',\n    textAlign: 'justify',\n  }\n}\n\nMap.propTypes = {\n  center: PropTypes.arrayOf(PropTypes.number), //[lng, lat]\n  zoom: PropTypes.number,\n  style: PropTypes.object,\n}\n\nexport default Map\n","export const parseResponse = res => res.json()\n\nexport const handleError = (self, err) => self.setState({\n  loading: false,\n  showError: true,\n  error: err.message,\n})\n\nexport const checkStatus = res => {\n  if (res.status >= 200 && res.status < 300) {\n    return res\n  }\n  else {\n    const error = new Error(`HTTP Error: ${res.status} ${res.statusText}`)\n    error.status = res.statusText\n    error.response = res\n    throw error\n  }\n}\n\nexport const singleRequest = (path, options) => new Promise( (resolve, reject) => fetch(path, options)\n    .then(checkStatus)\n    .then(resolve)\n    .catch(reject)\n  )\n","import { useState, useEffect, useCallback} from 'react'\nimport PropTypes from 'prop-types'\n\nimport mapboxgl from 'mapbox-gl'\n\nimport {\n  singleRequest,\n} from '../../utils/requestUtils'\n\nimport {\n  nodeColors,\n  colors,\n} from '../../config/styles'\n\nimport { defaultHeaders } from '../../config/'\n\nconst MapNodeRenderer = ({ map }) => {\n\n  const [nodes, setNodes] = useState(null)\n\n  useEffect( () => {\n    const getNodes = async () => {\n\n      const request = {\n        method: 'GET',\n        headers: defaultHeaders,\n      }\n\n      try {\n        const res = await singleRequest('/nodes', request)\n\n        const nodes = await res.json()\n\n        setNodes(nodes)\n      }\n      catch (err) {\n        console.error(`there was an error getting nodes: ${err}`)\n      }\n    }\n    getNodes()\n  }, [])\n\n  const formatNodeLabels = nodeKey => {\n    switch (nodeKey) {\n      case 'type':\n        return 'Type'\n\n      case 'name':\n        return 'Name'\n\n      case 'maxMw':\n        return 'Max Mw'\n\n      case 'controlArea':\n        return 'Control Area'\n\n      default:\n        return nodeKey\n    }\n  }\n\n  const clusterMaxZoom = 9\n\n  const popup = new mapboxgl.Popup({\n    closeButton: false,\n    closeOnClick: false\n  })\n\n  const onNodeMouseEnter = useCallback( e => {\n    map.getCanvas().style.cursor = 'pointer'\n\n    const coordinates = e.features[0].geometry.coordinates.slice()\n\n    const nodeProps = e.features[0].properties\n\n    const popUpHtml = Object.keys(nodeProps).reduce( (str, np, i, keys) => {\n\n      let newLine = `<tr><td><strong>${formatNodeLabels(np)}:</strong></td><td>${ nodeProps[np]}</td></tr>`\n\n      newLine = i < keys.length - 1 ? newLine + '*' : newLine\n\n      const arr = str.split('*')\n\n      return [arr[0], newLine, arr[1]].join('')\n    }, '<table>*</table>')\n\n    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n    }\n\n    popup.setLngLat(coordinates)\n      .setHTML(popUpHtml)\n      .addTo(map)\n  }, [map, popup])\n\n  const onNodeMouseLeave = useCallback(() => {\n    map.getCanvas().style.cursor = ''\n    popup.remove()\n  }, [map, popup])\n\n  const onClusterMouseEnter = useCallback(() => {\n    map.getCanvas().style.cursor = 'pointer'\n  }, [map])\n\n  const onClusterMouseLeave = useCallback(() => {\n    map.getCanvas().style.cursor = ''\n  }, [map])\n\n  const onClusterClick = useCallback( e => {\n\n    const features = map.queryRenderedFeatures(e.point, { layers: ['clusters'] })\n    const clusterId = features[0].properties.cluster_id\n    map.getSource('nodes').getClusterExpansionZoom(clusterId, (err, zoom) => {\n      if (err) {\n        return\n      }\n\n      const newZoom = zoom === clusterMaxZoom ? zoom + 1 : zoom\n\n      map.easeTo({\n        center: features[0].geometry.coordinates,\n        zoom: newZoom,\n      })\n    })\n  }, [map])\n\n  const setLayers = useCallback(() => {\n\n    if (nodes) {\n      map.addSource('nodes', {\n        type: \"geojson\",\n        data: nodes,\n        cluster: true,\n        clusterMaxZoom,\n        clusterRadius: 50,\n      })\n\n      map.addLayer({\n        id: 'clusters',\n        type: 'circle',\n        source: 'nodes',\n        filter: ['has', 'point_count'],\n        paint: {\n          'circle-color': 'rgba(0, 0, 0, .2)',\n          'circle-radius': [\n            'step',\n            ['get', 'point_count'],\n            20,\n            100,\n            30,\n            750,\n            40\n          ],\n          'circle-stroke-width': 1,\n          'circle-stroke-color': '#000',\n        }\n      })\n\n      map.addLayer({\n        id: 'cluster-count',\n        type: 'symbol',\n        source: 'nodes',\n        filter: ['has', 'point_count'],\n        layout: {\n          \"text-field\": \"{point_count_abbreviated}\",\n          \"text-font\": [\"DIN Offc Pro Medium\", \"Arial Unicode MS Bold\"],\n          \"text-size\": 12\n        }\n      });\n\n      map.addLayer({\n        id: 'unclustered-nodes',\n        type: \"circle\",\n        source: \"nodes\",\n        filter: [\"!\", [\"has\", \"point_count\"]],\n        paint: {\n          'circle-color': [\n            'match',\n            ['get', 'controlArea'],\n            'CA', nodeColors[0],\n            'PACW', nodeColors[1],\n            'PGE', nodeColors[2],\n            'PSE', nodeColors[3],\n            'NV', nodeColors[4],\n            'IPCO', nodeColors[5],\n            'PACE', nodeColors[6],\n            'APS', nodeColors[7],\n            colors.gray,\n          ],\n          'circle-radius': 5,\n          'circle-stroke-width': 1,\n          'circle-stroke-color': '#000',\n        }\n      })\n\n      map.on('mouseenter', 'clusters', onClusterMouseEnter)\n\n      map.on('mouseleave', 'clusters', onClusterMouseLeave)\n\n      map.on('click', 'clusters', onClusterClick)\n\n      map.on('mouseenter', 'unclustered-nodes', onNodeMouseEnter)\n\n      map.on('mouseleave', 'unclustered-nodes', onNodeMouseLeave)\n    }\n  }, [map, nodes, onClusterClick, onClusterMouseEnter, onClusterMouseLeave, onNodeMouseEnter, onNodeMouseLeave])\n\n  const cleanUp = useCallback(() => {\n    map.off('mouseenter', 'clusters', onClusterMouseEnter)\n    map.off('mouseleave', 'clusters', onClusterMouseLeave)\n    map.off('click', 'clusters', onClusterClick)\n    map.off('mouseenter', 'unclustered-nodes', onNodeMouseEnter)\n    map.off('mouseleave', 'unclustered-nodes', onNodeMouseLeave)\n  }, [map, onClusterClick, onClusterMouseEnter, onClusterMouseLeave, onNodeMouseEnter, onNodeMouseLeave])\n\n  useEffect( () => {\n    setLayers()\n    return cleanUp\n  }, [nodes]) //eslint-disable-line react-hooks/exhaustive-deps\n\n  return false\n}\n\nMapNodeRenderer.propTypes = {\n  map: PropTypes.object,\n}\n\nexport default MapNodeRenderer\n","import { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport mapboxgl from 'mapbox-gl'\n\nimport { colors } from '../../config/styles'\n\nconst MapMarkerRenderer = ({\n  map,\n  lat,\n  lng,\n  color = colors.lightBlue,\n}) => {\n\n  useEffect( () => {\n\n    const marker = map && new mapboxgl.Marker({color})\n                    .setLngLat([lng, lat])\n                    .addTo(map)\n\n    return () => marker.remove()\n  }, [lng, lat, color, map])\n\n  return false\n}\n\nMapMarkerRenderer.propTypes = {\n  map: PropTypes.object,\n  lngLat: PropTypes.arrayOf(PropTypes.number),\n}\n\nexport default MapMarkerRenderer\n","export const isoLayerSources = {\n  caiso: \"https://opendata.arcgis.com/datasets/9d1099b016e5482c900d657f06f3ac80_0.geojson?where=ID%20%3D%20'2775'\",\n}\n","import {\n  useEffect,\n  useCallback,\n} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  isoColors\n} from '../../config/styles'\nimport {\n  isoLayerSources,\n} from '../../config/map'\n\nconst MapISOAreaRenderer = ({\n  map,\n  getLatLng,\n  iso,\n}) => {\n\n  const onLayerClick = useCallback(e => {\n    const features = map.queryRenderedFeatures(e.point)\n    if (features[0].layer.id === iso) {\n      getLatLng(e.lngLat)\n    }\n  }, [map, getLatLng, iso])\n\n  const setLayers = useCallback(() => {\n\n    map.addSource('isos', {\n      type: \"geojson\",\n      data: isoLayerSources[iso],\n    })\n\n    map.addLayer({\n      id: iso,\n      type: 'fill',\n      source: 'isos',\n      paint: {\n        'fill-color': isoColors[iso],\n        'fill-opacity': 0.3,\n        'fill-outline-color': '#000',\n      }\n    })\n\n    if(getLatLng) {\n      map.on('click', iso, onLayerClick)\n    }\n  }, [map, getLatLng, iso, onLayerClick])\n\n  const cleanup = useCallback(() => {\n    if (getLatLng) {\n      map.off('click', iso, onLayerClick)\n    }\n  }, [map, iso, onLayerClick, getLatLng])\n\n  useEffect( () => {\n    setLayers()\n    return () => cleanup()\n  }, [])//eslint-disable-line react-hooks/exhaustive-deps\n\n  return false\n}\n\nMapISOAreaRenderer.propTypes = {\n  map: PropTypes.object,\n  iso: PropTypes.oneOf(Object.keys(isoLayerSources)).isRequired,\n  getLatLng: PropTypes.func,\n}\n\nexport default MapISOAreaRenderer\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Label = ({ content }) => (\n\n  <span style={labelStyle}>\n    {content}\n  </span>\n)\n\nexport const labelStyle = {\n  display: 'block',\n  padding: '1em 0',\n  fontStyle: 'italic',\n  fontSize: fontSize.label,\n}\n\nLabel.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Label\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  fontSize,\n  colors,\n} from '../config/styles'\n\nimport { labelStyle } from './Label'\n\nconst LabeledInput = ({\n  name,\n  label,\n  type = 'text',\n  placeholder = '',\n  value,\n  inputWidth = 'auto',\n  unit = '',\n  disabled = false,\n  min = -1000,\n  max = 1000,\n  step = 1,\n  onChange,\n}) => (\n\n  <div style={styles.root}>\n    <label\n      htmlFor={name}\n      style={labelStyle}\n      >{label}</label>\n    <input\n      style={getInputStyles(inputWidth, disabled)}\n      type={type}\n      name={name}\n      placeholder={placeholder}\n      value={value}\n      disabled={disabled}\n      min={ type === 'number' ? min : undefined }\n      max={ type === 'number' ? max : undefined }\n      step={ type === 'number' ? step : undefined }\n      onChange={ e => onChange(e, name) }\n      />\n    <span>{unit}</span>\n  </div>\n)\n\nconst getInputStyles = (inputWidth, disabled) => ({\n  ...styles.input,\n  width: inputWidth,\n  color: disabled ? colors.gray : colors.text,\n  cursor: disabled ? 'not-allowed' : 'inherit',\n})\n\nconst styles = {\n  root: {\n    display: 'block',\n  },\n  input: {\n    margin: '0 .5em 1em',\n    fontSize: fontSize.label,\n    padding: '.5em',\n    background: colors.lightGray,\n    border: 'none',\n    borderRadius: 10,\n  },\n}\n\nLabeledInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  type: PropTypes.string,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  inputWidth: PropTypes.string,\n  unit: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n}\n\nexport default LabeledInput\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { buttons } from '../../config/styles'\n\nconst Button = ({\n  value,\n  type,\n  onClick,\n  disabled = false,\n  overrideStyles = {}\n}) => {\n\n  const getStyles = type => ({\n    ...styles.root,\n    ...buttons[type],\n    ...overrideStyles,\n  })\n\n  return (\n    <input\n      type=\"button\"\n      value={value}\n      style={getStyles(type)}\n      disabled={disabled}\n      onClick={onClick}\n      />\n  )\n}\n\nconst styles = {\n  root: {\n  \tMozBorderRadius: 10,\n  \tWebkitBorderRadius: 10,\n  \tborderRadius: 10,\n  \tdisplay: 'inline-block',\n  \tcursor: 'pointer',\n  \tfontSize: '1.3em',\n  \tpadding: '1em',\n    margin: '.5em 0',\n  },\n}\n\nButton.propTypes = {\n  value: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(Object.keys(buttons)).isRequired,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  overrideStyles: PropTypes.object,\n}\n\nexport default Button\n","import React from 'react'\nimport logo from './logo.svg'\nimport './Loading.css'\n\nimport { colors } from '../../config/styles'\n\nconst Loading = ({message}) => (\n  \n  <div\n    style={styles.main}\n    >\n    <div style={styles.overlay}></div>\n    <img src={logo} className=\"spinner\" alt=\"logo\" style={styles.logo}/>\n    <div style={styles.message}>{message}</div>\n  </div>\n)\n\nconst styles = {\n  main: {\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 4,\n  },\n  logo: {\n    position: 'relative',\n    bottom: '75vh',\n    height: 300, //plain numbers in inline styles are interpreted as px\n  },\n  overlay: {\n    background: 'rgba(0, 30, 10, .8)',\n    zIndex: 3,\n    height: '100vh',\n    width: '100vw',\n  },\n  message: {\n    color: colors.white,\n    position: 'relative',\n    bottom: '72vh',\n  }\n}\n\nexport default Loading\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport './NavButton.css'\n\nimport { colors } from '../../config/styles'\n\nconst NavButton = ({\n  baseUrl,\n  link,\n  id,\n  label,\n}) => (\n\n  <Link\n    to={`${baseUrl}/${link}/${id}`}\n    style={styles.link}\n    >\n    <li\n      className=\"navButton\"\n      style={styles.label}\n      >\n      {label}\n    </li>\n  </Link>\n)\n\nconst styles = {\n  label: {\n    textAlign: 'left',\n    listStyle: 'none',\n    padding: '1em .5em',\n  },\n  link: {\n    fontSize: '1.2em',\n    textDecoration: 'none',\n    color: colors.text,\n  },\n}\n\nNavButton.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  link: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n}\n\nexport default NavButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport NavButton from './navButton/'\n\nimport {\n  colors,\n  boxShadow,\n} from '../config/styles'\n\nconst ProjectNav = ({baseUrl, id}) => {\n\n  const buttons = [\n    {\n      link: 'project',\n      label: 'Project Home',\n    },\n    {\n      link: 'dashboard',\n      label: 'Project Dashboard',\n    },\n    {\n      link: 'historical',\n      label: 'Historical',\n    },\n    {\n      link: 'insights',\n      label: 'Insights',\n    },\n    // {\n    //   link: 'roi',\n    //   label: 'Project ROI',\n    // },\n  ]\n\n  return (\n\n    <ul style={styles}>\n      {\n        buttons.map( (b, i) => <NavButton\n          key={`nav-button${i}`}\n          baseUrl={baseUrl}\n          link={b.link}\n          id={id}\n          label={b.label}\n          />\n        )\n      }\n    </ul>\n  )\n}\n\nconst styles = {\n  position: 'absolute',\n  zIndex: 2,\n  background: colors.white,\n  width: '13em',\n  padding: '.5em 1em',\n  borderRight: `1px solid ${colors.gray}`,\n  boxShadow,\n}\n\nProjectNav.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n}\n\nexport default ProjectNav\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport ProjectNav from './ProjectNav'\n\nconst ProjectMenu = ({\n  baseUrl,\n  id,\n}) => {\n\n  const [display, setDisplay] = useState(false)\n\n  const menu = useRef(null)\n\n  const handleOutsideClick = e => {\n    if (menu.current && !menu.current.contains(e.target)) {\n      setDisplay(false)\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleOutsideClick)\n    return () => document.removeEventListener('mousedown', handleOutsideClick)\n  })\n\n  const showMenu = () => display ? setDisplay(false) : setDisplay(true)\n\n  return (\n    <div>\n      <div style={styles.button} >\n        <span className=\"fas fa-bars\" onClick={showMenu}></span>\n      </div>\n      {\n        display &&\n        <div ref={menu}>\n          <ProjectNav\n            baseUrl={baseUrl}\n            id={id}\n            />\n        </div>\n      }\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    alignSelf: 'center',\n  },\n  button: {\n    boxSizing: 'border-box',\n    padding: '.5em',\n    height: '97%',\n    fontSize: '1.5em',\n    cursor: 'pointer',\n  },\n}\n\nProjectMenu.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n}\n\nexport default ProjectMenu\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport PropTypes from 'prop-types'\n\nimport GradientBackground from './GradientBackground'\nimport Header3 from './Header3'\nimport ProjectMenu from './ProjectMenu'\n\nimport {\n  colors,\n  boxShadow,\n} from '../config/styles'\n\nconst ProjectPageHeader = ({\n  title,\n  baseUrl,\n  id,\n  showMenu,\n}) => {\n\n  const [position, setPosition] = useState(null)\n\n  const isCompact = position < 0\n\n  const header = useRef(null)\n\n  const checkScroll = useCallback(e => {\n    if (header.current) {\n      const pos = header.current.getBoundingClientRect().top\n      setPosition(pos)\n    }\n  }, [])\n\n  const setFontSize = () => {\n    if( position >= - 40 && position < 0) {\n      return `${1 + (position * .005)}em`\n    }\n    else if (position < - 40) {\n      return '.8em'\n    }\n    else {\n      return '1em'\n    }\n  }\n\n  useEffect(() => {\n    checkScroll()\n    document.addEventListener('scroll', checkScroll)\n    return () => document.removeEventListener('scroll', checkScroll)\n  }, [checkScroll])\n\n  const switchStyles = isCompact ? {\n    height: 120,\n  } : {\n    height: 2,\n  }\n\n  const rootStyles = isCompact ? styles.compactRoot : styles.root\n\n  const gradientStyles = isCompact ? {\n    display: 'none',\n  } : {\n    ...styles.background,\n    ...styles.placement,\n  }\n\n  const itemStyles = isCompact ? styles.compactItems : {\n    ...styles.placement,\n    ...styles.items,\n  }\n\n  const textStyles = isCompact ? {\n    fontSize: setFontSize(),\n    ...styles.compactText\n  } : styles.text\n\n  return (\n    <div>\n      <div ref={header} style={switchStyles}></div>\n      <div\n        style={rootStyles}\n        >\n        <GradientBackground\n          addlStyles={gradientStyles}\n          />\n        <div style={itemStyles}>\n          {\n            showMenu &&\n            <ProjectMenu\n              baseUrl={baseUrl}\n              id={id}\n              />\n          }\n          <div style={textStyles}>\n            <Header3 content={title} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'grid',\n    gridTemplateColumns: '[leftCol] auto [centerMargin] 6% [rightCol] 45% [end]',\n    gridTemplateRows: '[row1] minmax(4em, max-content) [ws1] 3em',\n  },\n  compactRoot: {\n    display: 'block',\n    width: '100%',\n    position: 'fixed',\n    zIndex: 2,\n    top: 0,\n    background: 'white',\n    boxShadow,\n    transition: 'all 1s'\n  },\n  placement: {\n    gridColumn: 'leftCol / centerMargin',\n    gridRowStart: 'row1',\n  },\n  background: {\n    clipPath: 'polygon(0 0, 100% 0, 98% 100%, 0 100%)'\n  },\n  items: {\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n    color: colors.white,\n    zIndex: 1,\n  },\n  compactItems: {\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n    width: '100%',\n    color: colors.gray,\n    alignItems: 'baseline',\n  },\n  text: {\n    padding: '.5em 2em',\n    alignSelf: 'flex-end',\n    background: 'transparent',\n  },\n  compactText: {\n    padding: '.5em 2em',\n  },\n}\n\nProjectPageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n}\n\nexport default ProjectPageHeader\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport ProjectPageHeader from './ProjectPageHeader'\n\nconst ProjectPageTemplate = ({\n  title,\n  baseUrl,\n  id,\n  children,\n  showMenu = true,\n}) => (\n\n  <div>\n    <ProjectPageHeader\n      title={title}\n      baseUrl={baseUrl}\n      id={id}\n      showMenu={showMenu}\n      />\n    {children}\n  </div>\n)\n\nProjectPageTemplate.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  hideMenu: PropTypes.bool,\n}\n\nexport default ProjectPageTemplate\n","import moment from 'moment-timezone'\n\nexport function fieldOnchange(e){\n  e.preventDefault()\n  this.setState({\n    [e.target.id]: e.target.value,\n  })\n}\n\nexport const formatMillis = (millis, tz, format) => moment.tz(millis, tz).format(format)\n\nexport const findRelevantKeys = data => data.reduce( (arr, d) => {\n  Object.keys(d).forEach( k => arr = !arr.includes(k) && k !== 'timestamp' ? [...arr, k] : arr )\n  return arr\n}, [])\n\nexport const roundToDigits = (val, digits) => {\n  const rounder = 10 ** digits\n  return Math.round((val * rounder))/rounder\n}\n\nexport const setField = (e, stateFunction) => {\n  e.preventDefault()\n  stateFunction(e.target.value)\n}\n\nexport const getBaseUrl = (url, page, projectId) => projectId ? url.replace(`/${page}/${projectId}`, '') : url.replace(`/${page}`, '')\n\nexport const formatDollars = number => `$${roundToDigits(number, 2).toFixed(2)}`\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router'\n\nimport Map from './map/Map'\n\nimport MapNodeRenderer from './map/MapNodeRenderer'\n\nimport MapMarkerRenderer from '../components/map/MapMarkerRenderer'\nimport MapISOAreaRenderer from '../components/map/MapISOAreaRenderer'\n\nimport LabeledInput from '../components/LabeledInput'\nimport Header4 from '../components/Header4'\nimport Button from '../components/button/'\nimport Loading from '../components/loading/'\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\n\nimport {\n  colors,\n  fontSize,\n} from '../config/styles'\n\nimport {\n  singleRequest,\n  parseResponse,\n} from '../utils/requestUtils'\n\nimport {\n  roundToDigits,\n  setField,\n} from '../utils/'\n\nimport { getBaseUrl } from '../utils/'\n\nconst CreateProject = ({\n  match,\n  history,\n}) => {\n\n  const {\n    url,\n  } = match\n\n  const cleanUrl = getBaseUrl(url, 'create_project')\n\n  const [lat, setLat] = useState(38.00002)\n  const [lng, setLng] = useState(-119.00003)\n  const [name, setProjectName] = useState('')\n  const [energy, setEnergyCapacity] = useState(2)\n  const [power, setPowerCapacity] = useState(1)\n  const [rte, setRte] = useState(.85)\n  const [address, setAddress] = useState('')\n  const [city, setCity] = useState('')\n  const [state, setState] = useState('CA')\n  const [zip, setZip] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [locationChosen, setLocationChosen] = useState(false)\n\n  const setLocation = ({lat, lng}) => {\n    setLat(roundToDigits(lat, 5))\n    setLng(roundToDigits(lng, 5))\n    setLocationChosen(true)\n  }\n\n  const setError = err => console.error(`There was an error creating your project: ${err}`)\n\n  const onSubmit = () => {\n\n    setLoading(true)\n\n    const body = JSON.stringify({\n      name,\n      address,\n      city,\n      state,\n      power,\n      energy,\n      lat,\n      lng,\n      rte,\n      type: match.url.includes('demo') ? 'demo' : 'test'\n    })\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body,\n    }\n\n    singleRequest('/project/create', request)\n      .then(parseResponse)\n      .then( res => {\n        setLoading(false)\n        history.push(`${cleanUrl}/project/${res.id}`)\n      })\n      .catch( err => {\n        setLoading(false)\n        setError(err)\n      })\n  }\n\n  const rteOnchange = e => {\n    e.preventDefault()\n    setRte(e.target.value/100)\n  }\n\n  return (\n    <ProjectPageTemplate\n      title=\"Create Your Project\"\n      baseUrl={cleanUrl}\n      id=\"create_project\"\n      showMenu={false}\n      >\n      <div style={styles.root}>\n        { loading &&\n          <Loading message={'Building your project...'} />\n        }\n        <div style={styles.form}>\n          <div style={styles.subSection}>\n            <div style={styles.header}>\n              <Header4 content={'General'} />\n            </div>\n            <LabeledInput\n              name={'projectName'}\n              label={'Project Name'}\n              placeholder={'\"My Project\"'}\n              value={name}\n              inputWidth={'23em'}\n              onChange={e => setField(e, setProjectName)}\n              />\n            <LabeledInput\n              name={'energyCapacity'}\n              label={'Project Energy Capacity'}\n              type={'number'}\n              value={energy}\n              inputWidth={'4em'}\n              unit={'MWh'}\n              min={0}\n              step={0.1}\n              onChange={e => setField(e, setEnergyCapacity)}\n              />\n            <LabeledInput\n              name={'powerCapacity'}\n              label={'Project Power Capacity'}\n              type={'number'}\n              value={power}\n              inputWidth={'4em'}\n              unit={'MW'}\n              min={0}\n              step={0.1}\n              onChange={e => setField(e, setPowerCapacity)}\n              />\n            <LabeledInput\n              name={'rte'}\n              label={'Round Trip Efficiency'}\n              type={'number'}\n              value={roundToDigits(rte * 100, 1)}\n              inputWidth={'2.5em'}\n              unit={'%'}\n              min={0}\n              max={99}\n              step={1}\n              onChange={rteOnchange}\n              />\n          </div>\n          <div style={styles.subSection}>\n            <div style={styles.header}>\n              <Header4 content={'Location'} />\n              <p style={styles.label}>Enter an address or pick a location on the map</p>\n            </div>\n            <LabeledInput\n              name={'address'}\n              label={'Address'}\n              placeholder={'\"123 Main St. Ste 456\"'}\n              value={address}\n              inputWidth={'23em'}\n              onChange={e => setField(e, setAddress)}\n              />\n            <LabeledInput\n              name={'city'}\n              label={'City'}\n              placeholder={'\"Los Angeles\"'}\n              value={city}\n              inputWidth={'18em'}\n              onChange={e => setField(e, setCity)}\n              />\n            <LabeledInput\n              name={'state'}\n              label={'State'}\n              value={state}\n              inputWidth={'5em'}\n              onChange={setState}\n              disabled={true}\n              />\n            <LabeledInput\n              name={'zip'}\n              label={'Zip Code'}\n              placeholder={'\"90001\"'}\n              value={zip}\n              inputWidth={'10em'}\n              onChange={e => setField(e, setZip)}\n              />\n            <div style={styles.latLng}>\n              <LabeledInput\n                name={'lat'}\n                label={'Latitude'}\n                type={'number'}\n                value={lat}\n                inputWidth={'6em'}\n                disabled={true}\n                />\n              <LabeledInput\n                name={'lng'}\n                label={'Longitude'}\n                type={'number'}\n                value={lng}\n                inputWidth={'6em'}\n                disabled={true}\n                />\n            </div>\n          </div>\n        </div>\n        <div style={styles.mapContainer}>\n          <Map\n            center={[lng, lat]}\n            zoom={5}\n            style={styles.map}\n            >\n            <MapISOAreaRenderer\n              iso=\"caiso\"\n              getLatLng={setLocation}\n              />\n            <MapNodeRenderer />\n            {\n              locationChosen &&\n              <MapMarkerRenderer\n                lat={lat}\n                lng={lng}\n                />\n            }\n          </Map>\n        </div>\n        <div style={styles.button}>\n          <Button\n            value={'SUBMIT'}\n            type=\"success\"\n            onClick={onSubmit}\n            />\n        </div>\n      </div>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'flex',\n    boxSizing: 'border-box',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    color: colors.text,\n    padding: '0 3em 2em',\n    width: '100%',\n  },\n  form: {\n    display: 'block',\n    boxSizing: 'border-box',\n    minWidth: '30rem',\n    textAlign: 'left',\n    flex: '1 1 48%',\n    padding: '0 1em',\n  },\n  subSection: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    padding: '1em 0',\n  },\n  header: {\n    width: '100%',\n  },\n  label: {\n    fontSize: fontSize.label,\n    padding: '1em 0',\n  },\n  latLng: {\n    display: 'inline-flex',\n    justifyContent: 'space-between',\n  },\n  mapContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    boxSizing: 'border-box',\n    flex: '1 1 48%',\n    padding: '1em',\n    minHeight: '50em',\n  },\n  map: {\n    height: '100%',\n  },\n  button: {\n    display: 'flex',\n    width: '100%',\n    padding: '0 1em',\n  }\n}\n\nexport default withRouter(CreateProject)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst DataDisplay = ({content}) => (\n\n  <p style={styles}>\n    {content}\n  </p>\n)\n\nconst styles = {\n  fontSize: '1.2em',\n  padding: '0 .5em 1em',\n}\n\nDataDisplay.propTypes = {\n  content: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.element,\n  ])\n}\n\nexport default DataDisplay\n","import React, {useState, useEffect, useCallback} from 'react'\nimport { withRouter } from 'react-router'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Header4 from '../components/Header4'\nimport Label from '../components/Label'\nimport DataDisplay from '../components/DataDisplay'\nimport Button from '../components/button/'\nimport Loading from '../components/loading/'\n\nimport Map from './map/Map'\nimport MapMarkerRenderer from '../components/map/MapMarkerRenderer'\n\nimport {\n  singleRequest,\n  parseResponse,\n} from '../utils/requestUtils'\n\nimport { getBaseUrl } from '../utils/'\nimport { defaultHeaders } from '../config'\n\nconst Project = ({match, history}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const [loading, setLoading] = useState(false)\n  const [project, setProject] = useState(null)\n\n  const cleanUrl = getBaseUrl(url, 'project', projectId)\n\n  const onDelete = () => {\n\n    setLoading(true)\n\n    const request = {\n      method: 'DELETE',\n      headers: defaultHeaders,\n    }\n\n    singleRequest(`/project/${projectId}`, request)\n      .then( res => {\n        setLoading(false)\n        history.push(`${cleanUrl}`)\n      })\n      .catch( err => {\n        setLoading(false)\n        console.error(`There was an error deleting your project: ${err}`)\n      })\n  }\n\n  const getProject = useCallback(() => {\n\n    setLoading(true)\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    singleRequest(`/project/${projectId}`, request)\n      .then(parseResponse)\n      .then( res => {\n        setProject(res[0])\n        setLoading(false)\n      })\n      .catch( err => {\n        setLoading(false)\n        console.error(`There was an error retrieving your project: ${err}`)\n      })\n  }, [projectId])\n\n  useEffect( () => getProject(), [getProject])\n\n  return (\n    <ProjectPageTemplate\n      title={project ? `${project.name} - Home` : 'Project Home'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      <div style={styles.root}>\n        { loading && <Loading message={''} />}\n\n        <div style={styles.project}>\n          <div style={styles.header}>\n            <Header4 content=\"Project Specifications\" />\n          </div>\n          {\n            project &&\n            <div style={styles.specs}>\n              <Label content=\"Power\"/>\n              <DataDisplay content={`${project.power} Mw`}/>\n              <Label content=\"Energy\"/>\n              <DataDisplay content={`${project.energy} Mwh`}/>\n              <Label content=\"Round Trip Efficiency\"/>\n              <DataDisplay content={`${project.rte * 100}%`}/>\n              <Label content=\"Location\"/>\n              {\n                project.address ?\n                <DataDisplay content={`${project.address} - ${project.city} -  ${project.state}`}/>\n                :\n                <div style={styles.latLng}>\n                  <DataDisplay content={project.lat}/>\n                  <Label content=\"latitude\"/>\n                  <DataDisplay content={project.lng}/>\n                  <Label content=\"longitude\"/>\n                </div>\n              }\n            </div>\n          }\n          <div style={styles.button}>\n            <Button\n              value={'DELETE PROJECT'}\n              type=\"danger\"\n              onClick={onDelete}\n              />\n          </div>\n        </div>\n        <div style={styles.mapContainer}>\n          {\n            project &&\n            <Map\n              center={[project.lng, project.lat]}\n              zoom={8}\n              style={styles.map}\n              >\n              <MapMarkerRenderer\n                lat={project.lat}\n                lng={project.lng}\n                />\n            </Map>\n          }\n        </div>\n      </div>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    display: 'flex',\n  },\n  project: {\n    display: 'flex',\n    flexDirection: 'column',\n    textAlign: 'left',\n    padding: '0 1em',\n    flex: '1 1 48%',\n  },\n  header: {\n    padding: '0 1em 2em',\n  },\n  specs: {\n    padding: '0 2em',\n  },\n  latLng: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n    justifyContent: 'space-between',\n    width: '22em',\n  },\n  button: {\n    padding: '0 1em',\n  },\n  map: {\n    height: '100%',\n  },\n  mapContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    boxSizing: 'border-box',\n    padding: '0 2em',\n    height: '30em',\n    flex: '1 1 48%',\n  },\n}\n\nexport default withRouter(Project)\n","import {\n  useEffect,\n  useState,\n  useRef,\n} from 'react'\n\nexport const useConnectToServerSideEvent = (route, handleData) => useEffect( () => {\n    const stream = new EventSource(route)\n\n    const handlePing = e => console.log(`ping: ${JSON.parse(e.data).time}`)\n\n    const handleError = err => console.error(`There was an error getting data from event source ${route}:`, err)\n\n    stream.addEventListener('message', handleData)\n    stream.addEventListener('ping', handlePing)\n    stream.addEventListener('error', handleError)\n\n    return () => {\n      stream.removeEventListener('message', handleData)\n      stream.removeEventListener('ping', handlePing)\n      stream.removeEventListener('error', handleError)\n      console.log('closing sse connection...')\n      stream.close()\n    }\n  }, [route, handleData])\n\nexport const useInterpolateValues = (value, seconds) => {\n\n  const [displayVal, setDisplayVal] = useState(0)\n\n  const timerRef = useRef(null)\n  const valRef = useRef({nextVal: 0, prevVal: 0})\n\n  useEffect( () => {\n\n    valRef.current = {\n      prevVal: valRef.current.prevVal === 0 ? value : valRef.current.nextVal,\n      nextVal: value,\n    }\n\n    const {\n      prevVal,\n      nextVal,\n    } = valRef.current\n\n    const step = (nextVal - prevVal) / seconds\n\n    const updateDisplayVal = () => {\n      console.log('updating interpolate hook - next val:', nextVal, 'prev val:', prevVal, 'step:', step)\n\n      if (prevVal !== nextVal) {\n        console.log('updating at if');\n        timerRef.current = setTimeout( () => {\n          setDisplayVal( displayVal => {\n            if ((nextVal < prevVal && displayVal + step >= nextVal) || (nextVal > prevVal && displayVal + step <= nextVal)) {\n              return displayVal + step\n            }\n            else {\n              return displayVal\n            }\n          })\n          updateDisplayVal()\n        }, 1000)\n      }\n      else {\n        console.log('setting value at else');\n        setDisplayVal(value)\n      }\n    }\n\n    updateDisplayVal()\n\n    return () => {\n      clearTimeout(timerRef.current)\n      timerRef.current = null\n      // valRef.current = {nextVal: 0, prevVal: 0}\n    }\n  }, [value, seconds])\n\n  return displayVal\n}\n","import React, { useState, useCallback } from 'react'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\n\nimport { useConnectToServerSideEvent } from '../hooks/'\n\nimport { getBaseUrl } from '../utils/'\n\nconst ProjectRoi = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'roi', projectId)\n\n  const [loading] = useState(false)\n  const [data, setData] = useState(null)\n\n  const handleData = useCallback( e => {\n    // TODO Check origin in production and dev per https://html.spec.whatwg.org/multipage/web-messaging.html#authors\n    console.log(e);\n    setData(JSON.parse(e.data))\n  }, [])\n\n  const sseRoute = `/roi/${projectId}`\n\n  useConnectToServerSideEvent(sseRoute, handleData)\n\n  return (\n    <ProjectPageTemplate\n      title={'Project Return on Investment'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { loading && <Loading message={''} />}\n      <p>Project id: {projectId}</p>\n      {\n        data &&\n        <p>{data.cheese}</p>\n      }\n    </ProjectPageTemplate>\n  )\n}\n\n// const styles = {\n//\n// }\n\nexport default ProjectRoi\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Header4 from '../components/Header4'\n\nconst DashboardSection = ({\n  headerContent,\n  children,\n  childStyles = {}\n}) => (\n\n  <div style={styles.root}>\n    <div style={styles.header}>\n      <Header4 content={headerContent} />\n    </div>\n    <div style={childStyles}>\n      {children}\n    </div>\n  </div>\n)\n\nconst styles = {\n  root: {\n    textAlign: 'left',\n    padding: '0 3em 2em',\n  },\n  header: {\n    padding: '0 0 .5em',\n  },\n}\n\nDashboardSection.propTypes = {\n  headerContent: PropTypes.string,\n  childStyles: PropTypes.object,\n}\n\nexport default DashboardSection\n","import React from 'react'\n\nconst DashboardSectionContent = ({children}) => (\n  <div style={styles}>\n    {children}\n  </div>\n)\n\nconst styles = {\n  display: 'flex',\n  flexWrap: 'wrap',\n  justifyContent: 'space-between',\n  padding: '.5em 1em',\n}\n\nexport default DashboardSectionContent\n","import React, { useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { colors } from '../config/styles'\n\nconst Skycons = require('skycons')(window)\n\nconst getIconConfig = icon => {\n  switch (icon) {\n    case 'clear-night':\n    return {\n      key: 'CLEAR_NIGHT',\n      color: colors.darkBlue,\n    }\n\n    case 'rain':\n    return {\n      key: 'RAIN',\n      color: colors.lightBlue,\n    }\n\n    case 'snow':\n    return {\n      key: 'SNOW',\n      color: colors.lightBlue,\n    }\n\n    case 'sleet':\n    return {\n      key: 'SLEET',\n      color: colors.lightBlue,\n    }\n\n    case 'wind':\n    return {\n      key: 'WIND',\n      color: colors.mediumGray,\n    }\n\n    case 'fog':\n    return {\n      key: 'FOG',\n      color: colors.mediumGray,\n    }\n\n    case 'cloudy':\n    return {\n      key: 'CLOUDY',\n      color: colors.mediumGray,\n    }\n\n    case 'partly-cloudy-day':\n    return {\n      key: 'PARTLY_CLOUDY_DAY',\n      color: colors.paleYellow,\n    }\n\n    case 'partly-cloudy-night':\n    return {\n      key: 'PARTLY_CLOUDY_NIGHT',\n      color: colors.darkBlue,\n    }\n\n    default:\n      return {\n        key: 'CLEAR_DAY',\n        color: colors.deepYellow,\n      }\n  }\n}\n\nconst WeatherIcon = ({icon, style}) => {\n\n  const iconConfig = getIconConfig(icon)\n\n  const skycons = new Skycons({color: iconConfig.color})\n\n  const iconRef = useRef(null)\n\n  useEffect( () => {\n\n    skycons.add(iconRef.current, Skycons[iconConfig.key])\n\n    skycons.play()\n\n    const skycon = iconRef.current\n\n    return () => skycons.remove(skycon)\n  }, [icon, skycons, iconConfig.key])\n\n  return (\n    <canvas width='128' height='128' style={style} ref={iconRef}></canvas>\n  )\n}\n\nWeatherIcon.propTypes = {\n  icon: PropTypes.string.isRequired,\n  style: PropTypes.object,\n}\n\nexport default WeatherIcon\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport { monthDayTimeFormat } from '../config/'\n\nconst DataTimeDisplay = ({message, millis, timeZone}) => (\n\n  <p style={styles}>\n    {`${message} ${moment(millis).tz(timeZone).format(monthDayTimeFormat)}`}\n  </p> \n)\n\nconst styles = {\n  padding: '0 0 1em',\n  fontSize: '.8em',\n  fontStyle: 'italic',\n}\n\nDataTimeDisplay.propTypes = {\n  message: PropTypes.string.isRequired,\n  millis: PropTypes.number.isRequired,\n  timeZone: PropTypes.string.isRequired,\n}\n\nexport default DataTimeDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Label from '../components/Label'\nimport DashboardSection from '../components/DashboardSection'\nimport DashboardSectionContent from '../components/DashboardSectionContent'\nimport DataDisplay from '../components/DataDisplay'\nimport WeatherIcon from '../components/WeatherIcon'\nimport DataTimeDisplay from '../components/DataTimeDisplay'\n\nimport { roundToDigits } from '../utils/'\n\nconst CurrentWeatherDisplay = ({ weather, timeZone }) => (\n\n  <DashboardSection headerContent=\"Weather\">\n    { weather ?\n      <DashboardSectionContent>\n        <div>\n        <DataTimeDisplay\n          message=\"Data as of\"\n          millis={weather.time * 1000}\n          timeZone={timeZone}\n          />\n        <WeatherIcon\n          icon={weather.icon}\n          style={styles.icon}\n          />\n      </div>\n      <div>\n        <Label content=\"Current Temperature\"/>\n        <DataDisplay content={`${roundToDigits(weather.temperature, 1)}°F`}/>\n      </div>\n      <div>\n        <Label content=\"Cloud Cover\"/>\n        <DataDisplay content={`${roundToDigits(weather.cloudCover * 100, 0)} %`}/>\n      </div>\n      <div>\n        <Label content=\"Wind\"/>\n        <DataDisplay content={`${roundToDigits(weather.windSpeed, 1)} mph gusting to ${roundToDigits(weather.windGust, 1)} mph, bearing ${weather.windBearing}°`}/>\n      </div>\n      {\n        weather.nearestStormDistance > 0 &&\n        <div>\n          <Label content=\"Nearest Storm\"/>\n          <DataDisplay content={`${weather.nearestStormDistance} mi bearing ${weather.nearestStormBearing}°`}/>\n        </div>\n      }\n      <div style={styles.linkContainer}>\n        <a\n          style={styles.ds}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://darksky.net/poweredby/\">\n          Powered by Dark Sky\n        </a>\n      </div>\n    </DashboardSectionContent> :\n    <p>Weather data is not currently available</p>\n    }\n  </DashboardSection>\n)\n\nconst styles = {\n  linkContainer: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  icon: {\n    height: '5em',\n    padding: '0 0 1em',\n  },\n  ds: {\n    color: '#0BA8F7',\n    textDecoration: 'none',\n    fontSize: '.8em',\n    textAlign: 'right',\n  }\n}\n\nCurrentWeatherDisplay.propTypes = {\n  weather: PropTypes.shape({\n    time: PropTypes.number,\n    icon: PropTypes.string,\n    temperature: PropTypes.number,\n    cloudCover: PropTypes.number,\n    windSpeed: PropTypes.number,\n    windGust: PropTypes.number,\n    windBearing: PropTypes.number,\n    nearestStormDistance: PropTypes.number,\n    nearestStormBearing: PropTypes.number,\n  }),\n}\n\nexport default CurrentWeatherDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { roundToDigits } from '../utils/'\n\nimport { colors } from '../config/styles'\n\nconst getPriceDescription = (diff, charge, discharge) => {\n\n  const displayPrc = roundToDigits(Math.abs(diff), 2)\n\n  switch (true) {\n    case charge:\n      return `LMP is currently $${displayPrc}/MWh less than 3-week running average`\n\n    case discharge:\n      return `LMP is currently $${displayPrc}/MWh greater than 3-week running average`\n\n    default:\n      return 'Prices are not currently favorable for charging or discharging'\n  }\n}\n\nconst getStatusStyles = color => ({\n  color,\n  fontSize: '2em',\n  fontStyle: 'italic',\n  fontWeight: 'bold',\n  padding: '0 0 .5em',\n  boxSizing: 'border-box',\n  width: 'min-content',\n})\n\nconst statusColors = {\n  charge: colors.lightBlue,\n  discharge: colors.brightGreen,\n  standby: colors.gray,\n}\n\nconst ChargeStatusDisplay = ({\n  currentPrc,\n  avgPrc,\n  status,\n}) => {\n\n  if (currentPrc && avgPrc && status) {\n\n    const diff = currentPrc - avgPrc\n\n    const charge = status === 'charge'\n\n    const discharge = status === 'discharge'\n\n    const standby = !charge && !discharge\n\n    return (\n      <div>\n        {\n          charge &&\n          <div style={getStatusStyles(statusColors.charge)}>\n            CHARGE\n          </div>\n        }\n        {\n          discharge &&\n          <div style={getStatusStyles(statusColors.discharge)}>DISCHARGE</div>\n        }\n        {\n          standby &&\n          <div style={getStatusStyles(statusColors.standby)}>STANDBY</div>\n        }\n\n        <p>\n          {\n            getPriceDescription(diff, charge, discharge)\n          }\n        </p>\n      </div>\n    )\n  }\n  else {\n    return (\n      <p>Status data is not currently available</p>\n    )\n  }\n}\n\nChargeStatusDisplay.propTypes = {\n  currentPrc: PropTypes.number,\n  avgPrc: PropTypes.number,\n  status: PropTypes.oneOf(['charge', 'discharge', 'standby'])\n}\n\nexport default ChargeStatusDisplay\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst HeadingLabel = ({ content }) => (\n\n  <span style={styles}>\n    {content}\n  </span>\n)\n\nconst styles = {\n  display: 'block',\n  padding: '0 0 1em',\n  fontStyle: 'italic',\n  fontSize: fontSize.h4,\n}\n\nHeadingLabel.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default HeadingLabel\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport DashboardSection from '../components/DashboardSection'\nimport DataTimeDisplay from '../components/DataTimeDisplay'\nimport ChargeStatusDisplay from '../components/ChargeStatusDisplay'\nimport HeadingLabel from '../components/HeadingLabel'\nimport DataDisplay from '../components/DataDisplay'\nimport Label from '../components/Label'\n// import AnimatedDataDisplay from '../components/AnimatedDataDisplay'\n\nimport {\n  roundToDigits,\n  formatDollars,\n} from '../utils/'\n\nconst Status = ({\n  config,\n  prices,\n  charge,\n  revenue,\n  status,\n}) => {\n\n  const latest = prices && prices[prices.length - 1]\n  const currentPrc = latest && latest.lmp\n  const avgPrc = latest && latest.mvgAvg\n  const timestamp = latest && latest.timestamp\n\n  return (\n    <DashboardSection headerContent=\"Status\">\n      <div style={styles.root}>\n        <div style={styles.status}>\n          {\n            timestamp &&\n            <DataTimeDisplay\n              message=\"Data as of\"\n              millis={timestamp}\n              timeZone={config.timeZone}\n              />\n          }\n          <ChargeStatusDisplay\n            currentPrc={currentPrc}\n            avgPrc={avgPrc}\n            status={status}\n            />\n          {\n            (config && currentPrc) &&\n            <div style={styles.prices}>\n              <div>\n                <Label content=\"Current Price\"/>\n                <DataDisplay content={formatDollars(currentPrc)}/>\n              </div>\n              <div>\n                <Label content=\"Charge Threshold\"/>\n                <DataDisplay content={formatDollars(config.chargeThreshold)}/>\n              </div>\n              <div>\n                <Label content=\"Discharge Threshold\"/>\n                <DataDisplay content={formatDollars(config.dischargeThreshold)}/>\n              </div>\n            </div>\n          }\n        </div>\n        <div style={styles.followingSection}>\n          <HeadingLabel content=\"State of Charge\" />\n          {\n            (charge !== null && config.energy) ?\n            <DataDisplay content={`${roundToDigits((charge/config.energy) * 100, 1)} %`}/> :\n              <span>State of charge data is not currently available</span>\n            }\n          </div>\n          <div style={styles.followingSection}>\n            <HeadingLabel content=\"Revenue\" />\n            {\n              revenue !== null ?\n              <DataDisplay content={formatDollars(revenue)}/> :\n                <span>Revenue data is not currently available</span>\n              }\n            </div>\n            {/*<div style={styles.followingSection}>\n            <AnimatedDataDisplay\n            label=\"Animated State of Charge\"\n            seconds={5 * 60}\n            value={(charge/energy) * 100}\n            digits={2}\n            unit={' %'}\n            />\n            </div>*/}\n        </div>\n      </DashboardSection>\n    )\n}\n\nconst styles = {\n  root: {\n    display: 'flex',\n    padding: '0 1em',\n  },\n  status: {\n    width: '35em',\n  },\n  prices: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '1.5em 0 0',\n  },\n  followingSection: {\n    padding: '0 0 0 2em',\n  }\n}\n\nStatus.propTypes = {\n  config: PropTypes.shape({\n    energy: PropTypes.number,\n    timeZone: PropTypes.string,\n  }),\n  prices: PropTypes.arrayOf(PropTypes.shape({\n      lmp: PropTypes.number,\n      mvgAvg: PropTypes.number,\n      score: PropTypes.number,\n      timestamp: PropTypes.number,\n    })\n  ),\n  charge: PropTypes.number,\n  revenue: PropTypes.number,\n  status: PropTypes.oneOf(['charge', 'discharge', 'standby'])\n}\n\nexport default Status\n","import { roundToDigits } from '../utils/'\n\nexport const trendColors = [\n  '#03CEA4',\n  '#78C3FB',\n  '#89A6FB',\n  '#7067CF',\n  '#345995',\n  '#A11692',\n  '#861388',\n]\n\nexport const lineDataFormat = {\n  lmp: {\n    unit: '$/Mwh',\n    label: 'Locational Marginal Price',\n    color: trendColors[0],\n    format: value => roundToDigits(value, 2),\n  },\n  temperature: {\n    unit: '°F',\n    label: 'Temperature',\n    color: trendColors[1],\n    format: value => roundToDigits(value, 0),\n  },\n  windSpeed: {\n    unit: ' m/s',\n    label: 'Wind Speed',\n    color: trendColors[2],\n    format: value => roundToDigits(value, 0),\n  },\n  windBearing: {\n    unit: '°',\n    label: 'Wind Bearing',\n    color: trendColors[3],\n    format: value => value ? value : 'n/a',\n  },\n  cloudCover: {\n    unit: '%',\n    label: 'Cloud Cover',\n    color: trendColors[4],\n    format: value => roundToDigits(value, 2) * 100,\n  },\n  mvgAvg: {\n    unit: '$/Mwh',\n    label: 'Average Price',\n    color: trendColors[6],\n    format: value => Math.round((value * 100)) / 100,\n  },\n}\n\nexport const barDataFormat = {\n  score: {\n    unit: '',\n    label: 'Score',\n    color: value => value > 0 ? 'red' : 'green',\n    format: value => Math.round((value * 1000)) / 1000,\n  }\n}\n","import React from 'react'\n\nimport { monthDayTimeFormat } from '../../config/'\n\nimport {\n  lineDataFormat,\n  barDataFormat,\n} from '../../config/chart'\n\nimport { formatMillis } from '../../utils/'\n\nconst formats = {\n  ...lineDataFormat,\n  ...barDataFormat,\n}\n\nconst CustomTooltip = ({\n  payload,\n  label,\n  active,\n  timeZone,\n }) => (\n\n  active &&\n    <div style={styles.root}>\n      <p style={styles.date}>\n        {formatMillis(label, timeZone, monthDayTimeFormat)}\n      </p>\n      { payload.map( (obj, i) =>\n        <p\n          style={\n            {\n              color: obj.color,\n              padding: 5,\n            }\n          }\n          key={`value-${i}`}\n          >\n            {\n              `${formats[obj.name].label}:  ${formats[obj.name].format(obj.value)}${formats[obj.name].unit}`\n            }\n         </p>\n      )}\n    </div>\n)\n\nconst styles = {\n  root: {\n    backgroundColor: '#fff',\n    border: '1px solid #a8a2aa',\n    borderRadius: 5,\n    textAlign: 'left',\n  },\n  date: {\n    padding: 5,\n    fontSize: '1em'\n  },\n}\n\nexport default CustomTooltip\n","import React from 'react'\n\nimport {\n  lineDataFormat,\n  barDataFormat,\n} from '../../config/chart'\n\nimport './CustomLegend.css'\n\nconst formats = {\n  ...lineDataFormat,\n  ...barDataFormat,\n}\n\nconst CustomLegend = ({ payload }) => (\n\n  <div style={styles.root}>\n    {\n      payload.map( (p, i) =>\n        <div\n          style={styles.dataType}\n          key={`legend-${i}`}\n        >\n          {formats[p.value].label}: <div style={getLegendTileStyles(p.color)}/>\n        </div>\n    )}\n  </div>\n)\n\nconst getLegendTileStyles = color => ({\n  ...styles.legendTile,\n  background: color,\n})\n\nconst styles = {\n  root: {\n    display: 'inline-flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n    padding: '0 5em 0 0',\n  },\n  dataType: {\n    padding: '.3em',\n    display: 'inline-flex',\n    alignItems: 'baseline',\n  },\n  legendTile: {\n    margin: '0 12px 0 6px',\n    width: 20,\n    height: 10,\n  },\n}\n\nexport default CustomLegend\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  ComposedChart,\n  Cell,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ReferenceLine,\n  ResponsiveContainer,\n  Brush,\n} from 'recharts'\n\nimport CustomTooltip from './CustomTooltip'\nimport CustomLegend from './CustomLegend'\n\nimport {\n  twelveHourFormat,\n  monthDayTimeFormat,\n} from '../../config/'\n\nimport { lineDataFormat } from '../../config/chart'\n\nimport { colors } from '../../config/styles'\n\nimport {\n  formatMillis,\n  findRelevantKeys,\n} from '../../utils'\n\nconst LineBarChart = React.memo(({\n  data,\n  timeZone,\n  barKey,\n  negBarThreshold = 0,\n  posBarThreshold = 0,\n  aspect = 3,\n  xRefLines = [],\n  useBrush = false,\n}) => {\n\n  const dataTypes = findRelevantKeys(data)\n                      .filter( d => Object.keys(lineDataFormat).includes(d) )\n\n  const overThreshold = data.reduce( (agg, entry) => {\n    const isScorePositive = entry.score > 0\n\n    const includeScore = isScorePositive ?\n      entry[barKey] > posBarThreshold : entry[barKey] < negBarThreshold\n\n      const {\n        score,\n        ...remaining\n      } = entry\n\n    return includeScore ? [...agg, entry] : [...agg, {...remaining}]\n  }, [])\n\n  return (\n    <ResponsiveContainer width={'100%'} aspect={aspect}>\n      <ComposedChart\n        data={overThreshold}\n        margin={{top: 0, right: 0, left: 0, bottom: 0}}>\n        <XAxis\n          dataKey=\"timestamp\"\n          tickFormatter={millis => formatMillis(millis, timeZone, twelveHourFormat)}\n          />\n        <YAxis\n          yAxisId=\"left\"\n          tickCount={10}\n          minTickGap={5}\n          />\n        <YAxis\n          yAxisId=\"right\"\n          orientation=\"right\"\n          tickCount={5}\n          domain={[-3, 3]}\n          />\n        <CartesianGrid strokeDasharray=\"3 3\"/>\n        <Tooltip\n          content={\n            <CustomTooltip\n              timeZone={timeZone}\n              />\n          }\n          />\n        <ReferenceLine\n          y={0}\n          yAxisId=\"right\"\n          stroke={colors.gray}\n          strokeDasharray=\"4 4\"\n          />\n        <Bar\n          yAxisId=\"right\"\n          dataKey={'score'}\n          fill={'#000'}\n          >\n          {\n            data.map( (entry, i) =>\n            <Cell\n              fill={entry.score > 0 ? colors.brightGreen : colors.lightBlue}\n              key={`bar-${i}`}\n              />\n          )\n        }\n      </Bar>\n      {\n        useBrush &&\n        <Brush\n          dataKey=\"timestamp\"\n          height={30} stroke={colors.lightGreen}\n          tickFormatter={millis => formatMillis(millis, timeZone, monthDayTimeFormat)}\n          endIndex={0}\n        />\n      }\n      {\n        dataTypes.map( t =>\n          <Line\n            yAxisId=\"left\"\n            key={`${t}-line`}\n            type=\"monotone\"\n            dataKey={t}\n            connectNulls={true}\n            stroke={lineDataFormat[t].color}\n            dot={false}\n            />\n        )\n      }\n      {\n        xRefLines.map( (x, i) =>\n        <ReferenceLine\n          x={x}\n          yAxisId=\"right\"\n          key={`x-${i}`}\n          />\n      )\n    }\n    <Legend\n      content={\n        <CustomLegend />\n      }\n      />\n  </ComposedChart>\n    </ResponsiveContainer>\n  )\n})\n\nLineBarChart.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    lmp: PropTypes.number,\n    mvgAvg: PropTypes.number,\n    score: PropTypes.number,\n    timestamp: PropTypes.number,\n  })).isRequired,\n  barKey: PropTypes.string.isRequired,\n  posBarThreshold: PropTypes.number,\n  negBarThreshold: PropTypes.number,\n  timeZone: PropTypes.string.isRequired,\n  xRefLines: PropTypes.arrayOf(PropTypes.number),\n  useBrush: PropTypes.bool,\n}\n\nexport default LineBarChart\n","import React, { useState, useEffect, useCallback } from 'react'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport CurrentWeatherDisplay from '../components/CurrentWeatherDisplay'\nimport Status from '../components/Status'\nimport Loading from '../components/loading/'\nimport DashboardSection from '../components/DashboardSection'\nimport LineBarChart from '../components/charts/LineBarChart'\n\nimport { useConnectToServerSideEvent } from '../hooks/'\n\nimport { getBaseUrl } from '../utils/'\n\nimport {\n  singleRequest,\n  parseResponse,\n} from '../utils/requestUtils'\n\nimport { defaultHeaders } from '../config/'\n\nconst ProjectDashboard = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'dashboard', projectId)\n\n  const [loading, setLoading] = useState(false)\n  const [weather, setWeather] = useState(null)\n  const [prices, setPrices] = useState(null)\n  const [revenue, setRevenue] = useState(null)\n  const [charge, setCharge] = useState(null)\n  const [status, setStatus] = useState('standby')\n  const [config, setConfig] = useState(null)\n\n/**\nJS Docs - insta documentation\n* turns on the spinner\n* @param {object} config\n* @param {lat: Number}\n*/\n\n  const getInitDashboard = useCallback( async () => {\n\n    setLoading(true)\n\n    const request = {\n      method: 'GET',\n      headers: defaultHeaders,\n    }\n\n    try {\n      const res = await singleRequest(`/dashboard/${projectId}/config`, request)\n\n      const parsed = await parseResponse(res)\n\n      setConfig(parsed.config)\n\n    }\n    catch (err) {\n      console.error(`There was an error retrieving your project: ${err}`)\n\n    }\n    finally {\n      setLoading(false)\n    }\n  }, [projectId])\n\n  const handleData = useCallback( e => {\n    e.preventDefault()\n    const {\n      weather,\n      prices,\n      revenue,\n      charge,\n      status,\n    } = JSON.parse(e.data)\n\n    setWeather(weather)\n    setPrices(prices)\n    setRevenue(revenue)\n    setCharge(charge)\n    setStatus(status)\n  }, [])\n\n  const sseRoute = `/dashboard/${projectId}/data`\n\n  useConnectToServerSideEvent(sseRoute, handleData)\n\n  useEffect( () => {\n    getInitDashboard()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  const hasPrices = prices && prices.length > 0\n\n  const dataLoaded = loading && !hasPrices\n\n  return (\n\n    <ProjectPageTemplate\n      title={config ? `${config.projectName} - Dashboard` : 'Project Dashboard'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { dataLoaded && <Loading message={''} />}\n      <div style={styles.root}>\n        <Status\n          config={config}\n          prices={prices}\n          charge={charge}\n          revenue={revenue}\n          status={status}\n          />\n        <DashboardSection headerContent={'Last Hour'}>\n        {\n          (hasPrices && config) ?\n            <LineBarChart\n              barKey={'lmp'}\n              negBarThreshold={config.chargeThreshold}\n              posBarThreshold={config.dischargeThreshold}\n              data={prices}\n              timeZone={config.timeZone}\n              aspect={4}\n              /> :\n            <p style={styles.noData}>Data for the last hour is not currently available</p>\n        }\n        </DashboardSection>\n        {\n          config &&\n          <CurrentWeatherDisplay\n            weather={weather}\n            timeZone={config.timeZone}\n            />\n        }\n      </div>\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  root: {\n    textAlign: 'left',\n  },\n  chart: {\n    padding: '1em 0',\n  },\n  noData: {\n    padding: '0 1em',\n  },\n}\n\nexport default ProjectDashboard\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Button from './button/'\nimport Label from './Label'\nimport DataDisplay from './DataDisplay'\n\nconst ValueControl = ({\n  value,\n  format,\n  title,\n  onIncrement,\n  onDecrement,\n  onIncrementLabel,\n  onDecrementLabel,\n  disabled = false,\n  width = '16em',\n}) => (\n\n  <div style={getRootStyle(width)}>\n    <Label content={title}/>\n    <DataDisplay content={format(value)}/>\n    <div style={styles.buttons}>\n      <Button\n        value={`- ${onDecrementLabel}`}\n        disabled={disabled}\n        type=\"primary\"\n        onClick={onDecrement}\n        overrideStyles={styles.button}\n        />\n      <Button\n        value={`+ ${onIncrementLabel}`}\n        disabled={disabled}\n        type=\"primary\"\n        onClick={onIncrement}\n        overrideStyles={styles.button}\n        />\n    </div>\n  </div>\n)\n\nconst getRootStyle = width => ({\n  ...styles.root,\n  width,\n})\n\nconst styles = {\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    padding: '.5em 0',\n  },\n  value: {\n    padding: '.5em 1em',\n    fontSize: '1.2em',\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '0 .5em',\n  },\n  button: {\n    padding: '.5em',\n    margin: 0,\n    width: '5em',\n  },\n}\n\nValueControl.propTypes = {\n  value: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.object,\n  ]),\n  format: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  onIncrement: PropTypes.func.isRequired,\n  onDecrement: PropTypes.func.isRequired,\n  onIncrementLabel: PropTypes.string.isRequired,\n  onDecrementLabel: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n}\n\nexport default ValueControl\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport ValueControl from './ValueControl'\n\nimport {\n  dayMonthYearTimeFormat,\n  timeIncrements,\n} from '../config/'\n\nconst DateControl = ({\n  date,\n  title,\n  increment,\n  onIncrement,\n  onDecrement,\n  timeZone,\n  disabled = false,\n}) => {\n\n  const formatter = date => moment.tz(date, timeZone).format(dayMonthYearTimeFormat)\n\n  return (\n    <ValueControl\n      value={date}\n      format={formatter}\n      title={title}\n      onIncrement={onIncrement}\n      onDecrement={onDecrement}\n      onIncrementLabel={`${timeIncrements[increment].label}`}\n      onDecrementLabel={`${timeIncrements[increment].label}`}\n      disabled={disabled}\n      width={'18em'}\n    />\n  )\n}\n\nDateControl.propTypes = {\n  date: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  timeZone: PropTypes.string.isRequired, //timeZone\n  onIncrement: PropTypes.func.isRequired,\n  onDecrement: PropTypes.func.isRequired,\n}\n\nexport default DateControl\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  fontSize,\n  colors,\n} from '../config/styles'\n\nimport { labelStyle } from './Label'\n\nconst LabeledRadio = ({\n  name,\n  label,\n  value,\n  checked,\n  onChange,\n  disabled = false,\n}) => (\n\n  <div style={styles.root}>\n    <input\n      style={getInputStyles(disabled)}\n      type=\"radio\"\n      id={name}\n      value={value}\n      checked={checked}\n      disabled={disabled}\n      onChange={onChange}\n      />\n    <label\n      htmlFor={name}\n      style={{\n        ...labelStyle,\n        ...styles.label,\n      }}\n      >{label}</label>\n  </div>\n)\n\nconst getInputStyles = disabled => ({\n  ...styles.input,\n  color: disabled ? colors.gray : colors.text,\n  cursor: disabled ? 'not-allowed' : 'inherit',\n})\n\nconst styles = {\n  root: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n  },\n  input: {\n    margin: '0 .5em 1em',\n    fontSize: fontSize.label,\n    padding: '.5em',\n    background: colors.lightGray,\n    border: 'none',\n    borderRadius: 10,\n  },\n  label: {\n    padding: '.2em 0',\n    fontSize: '1em',\n  }\n}\n\nLabeledRadio.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n  ]).isRequired,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n  disabled: PropTypes.bool,\n}\n\nexport default LabeledRadio\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { fontSize } from '../config/styles'\n\nconst Header5 = ({content}) => (\n  <h5\n    style={styles}\n  >\n  {content}\n  </h5>\n)\n\nconst styles = {\n  fontSize: fontSize.h5,\n}\n\nHeader5.propTypes = {\n  content: PropTypes.string,\n}\n\nexport default Header5\n","import React from 'react'\n\nimport LabeledRadio from '../components/LabeledRadio'\nimport Header5 from './Header5'\n\nimport {timeIncrements} from '../config/'\n\nconst TimeIncrementSelect = ({\n  onSelect,\n  selected,\n  disabled\n}) => {\n\n  const increments = Object.keys(timeIncrements).map( inc => ({\n      ...timeIncrements[inc],\n      disabled: false,\n    })\n  )\n\n  return (\n    <div >\n      <Header5 content=\"Select Time Increment\" />\n      <div style={styles}>\n        {\n          increments.map( (inc, i) =>\n          <LabeledRadio\n            name={inc.value}\n            label={inc.label}\n            value={inc.value}\n            checked={selected === inc.value}\n            onChange={onSelect}\n            disabled={inc.disabled}\n            key={`lr=${i}`}\n            />\n        )\n      }\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  display: 'flex',\n  flexDirection: 'column',\n  padding: '.5em 0',\n}\n\nexport default TimeIncrementSelect\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  fontSize,\n  colors,\n} from '../config/styles'\n\nimport { labelStyle } from './Label'\n\nconst LabeledCheckbox = ({\n  name,\n  label,\n  value,\n  checked,\n  onChange,\n  disabled = false,\n}) => (\n\n  <div style={styles.root}>\n    <input\n      style={getInputStyles(disabled)}\n      type=\"checkbox\"\n      id={name}\n      value={value}\n      checked={checked}\n      disabled={disabled}\n      onChange={onChange}\n      />\n    <label\n      htmlFor={name}\n      style={{\n        ...labelStyle,\n        ...styles.label,\n      }}\n      >{label}</label>\n  </div>\n)\n\nconst getInputStyles = disabled => ({\n  ...styles.input,\n  color: disabled ? colors.gray : colors.text,\n  cursor: disabled ? 'not-allowed' : 'inherit',\n})\n\nconst styles = {\n  root: {\n    display: 'inline-flex',\n    alignItems: 'baseline',\n  },\n  input: {\n    margin: '0 .5em 1em',\n    fontSize: fontSize.label,\n    padding: '.5em',\n    background: colors.lightGray,\n    border: 'none',\n    borderRadius: 10,\n  },\n  label: {\n    padding: '.2em 0',\n    fontSize: '1em',\n  }\n}\n\nLabeledCheckbox.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n  ]).isRequired,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n  disabled: PropTypes.bool,\n}\n\nexport default LabeledCheckbox\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment-timezone'\n\nimport { monthDayTimeFormat } from '../config/'\n\nconst DataTimeRangeDisplay = ({message, startMillis, endMillis, timeZone}) => (\n\n  <p style={styles}>\n    {`${message} ${moment(startMillis).tz(timeZone).format(monthDayTimeFormat)} to ${moment(endMillis).tz(timeZone).format(monthDayTimeFormat)}`}\n  </p>\n)\n\nconst styles = {\n  padding: '0 0 1em',\n  fontSize: '.8em',\n  fontStyle: 'italic',\n}\n\nDataTimeRangeDisplay.propTypes = {\n  message: PropTypes.string.isRequired,\n  startMillis: PropTypes.number.isRequired,\n  endMillis: PropTypes.number.isRequired,\n  timeZone: PropTypes.string.isRequired,\n}\n\nexport default DataTimeRangeDisplay\n","import React, {useState, useEffect, useCallback} from 'react'\nimport moment from 'moment-timezone'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\nimport Button from '../components/button/'\nimport LineBarChart from '../components/charts/LineBarChart'\nimport DashboardSection from '../components/DashboardSection'\nimport DateControl from '../components/DateControl'\nimport TimeIncrementSelect from '../components/TimeIncrementSelect'\nimport LabeledCheckbox from '../components/LabeledCheckbox'\nimport DataTimeDisplay from '../components/DataTimeDisplay'\nimport DataTimeRangeDisplay from '../components/DataTimeRangeDisplay'\n\nimport { getBaseUrl } from '../utils/'\n\nimport {\n  singleRequest,\n  parseResponse,\n} from '../utils/requestUtils'\n\nimport {\n  timeIncrements,\n  defaultHeaders,\n} from '../config/'\n\nimport { useConnectToServerSideEvent } from '../hooks/'\n\nconst HistoricalDisplay = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'historical', projectId)\n\n  const getNow = () => moment()\n\n  const now = getNow()\n  const oneWeekAgo = now.clone()\n    .subtract(7, 'days')\n\n  const incrementsArr = Object.keys(timeIncrements)\n\n  const [startTime, setStartTime] = useState(oneWeekAgo)\n  const [endTime, setEndTime] = useState(now)\n  const [timeIncrement, setTimeIncrement] = useState(incrementsArr[1])\n  const [loading, setLoading] = useState(false)\n  const [timeseries, setTimeseries] = useState(null)\n  // const [aggregate, setAggregate] = useState(null)\n  const [config, setConfig] = useState(null)\n  const [includeWeather, setIncludeWeather] = useState(false)\n  const [minDate, setMinDate] = useState(null)\n\n  const onIncrement = moment => moment.clone().add(1, timeIncrement)\n\n  const onDecrement = moment => moment.clone().subtract(1, timeIncrement)\n\n  const onIncrementStartTime = () => {\n    const incremented = onIncrement(startTime)\n\n    incremented.isBefore(endTime) ? setStartTime(incremented) : setStartTime(endTime.clone().subtract(1, 'day'))\n  }\n\n  const onDecrementStartTime = () => {\n    const decremented = onDecrement(startTime)\n\n    decremented.isAfter(minDate) ? setStartTime(decremented) : setStartTime(minDate.clone())\n  }\n\n  const onIncrementEndTime = () => {\n    const incremented = onIncrement(endTime)\n\n    incremented.isBefore(getNow()) ? setEndTime(incremented) : setEndTime(getNow())\n  }\n\n  const onDecrementEndTime = () => {\n    const decremented = onDecrement(endTime)\n\n    decremented.isAfter(startTime) ? setEndTime(decremented) : setEndTime(startTime.clone().add(1, 'day'))\n  }\n\n  const onTimeIncrementSelect = e => setTimeIncrement(e.target.value)\n\n  const onSetIncludeWeather = e => setIncludeWeather(e.target.value === 'true')\n\n  const getData = useCallback(() => {\n\n    const startMillis = startTime.valueOf()\n    const endMillis = endTime.valueOf()\n\n    const body = {\n      id: projectId,\n      endMillis,\n      startMillis,\n      includeWeather,\n    }\n\n    const request = {\n      method: 'POST',\n      headers: defaultHeaders,\n      body: JSON.stringify(body)\n    }\n\n    setLoading(true)\n    singleRequest('/historical/', request)\n      .then(parseResponse)\n      .then( res => {\n        setLoading(false)\n        setConfig(res.config)\n        setTimeseries(res.timeseries)\n      })\n      .catch( err => {\n        setLoading(false)\n        console.error(`There was an error retrieving your project: ${err}`)\n      })\n  }, [startTime, endTime, includeWeather, projectId])\n\n  useEffect( () => {\n    getData()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleData = useCallback( e => {\n    e.preventDefault()\n    const {minDateMillis} = JSON.parse(e.data)\n    setMinDate(moment(minDateMillis))\n  }, [])\n\n  const sseRoute = `/historical/${projectId}/min_date`\n\n  useConnectToServerSideEvent(sseRoute, handleData)\n\n  return (\n\n    <ProjectPageTemplate\n      title={config ? `${config.projectName} - Historical` : 'Project Historical Analysis'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { loading && <Loading message={''} />}\n      {\n        (timeseries && config && minDate) &&\n        <div>\n          <DashboardSection headerContent={'Historical Data'}>\n            <DataTimeRangeDisplay\n              message=\"Data from\"\n              startMillis={timeseries[0].timestamp}\n              endMillis={timeseries[timeseries.length - 1].timestamp}\n              timeZone={config.timeZone}\n              />\n            <LineBarChart\n              barKey={'lmp'}\n              data={timeseries}\n              timeZone={config.timeZone}\n              aspect={4}\n              useBrush={true}\n              />\n          </DashboardSection>\n          <DashboardSection>\n            <div style={styles.minDate}>\n              <DataTimeDisplay\n                message=\"Earliest data currently available is from\"\n                millis={minDate.valueOf()}\n                timeZone={config.timeZone}\n                />\n            </div>\n            <div style={styles.dateControls}>\n              <TimeIncrementSelect\n                onSelect={onTimeIncrementSelect}\n                selected={timeIncrement}\n                />\n              <DateControl\n                date={startTime}\n                title='Start Time'\n                increment={timeIncrement}\n                onIncrement={onIncrementStartTime}\n                onDecrement={onDecrementStartTime}\n                timeZone={config.timeZone}\n                />\n              <DateControl\n                date={endTime}\n                title='End Time'\n                increment={timeIncrement}\n                onIncrement={onIncrementEndTime}\n                onDecrement={onDecrementEndTime}\n                timeZone={config.timeZone}\n                />\n              <div style={styles.inclusion}>\n                <LabeledCheckbox\n                  name={'include-weather'}\n                  label=\"Include Weather\"\n                  value={!includeWeather}\n                  checked={includeWeather}\n                  onChange={onSetIncludeWeather}\n                  />\n                <Button\n                  value=\"Get Data\"\n                  disabled={loading}\n                  type=\"success\"\n                  onClick={getData}\n                  />\n              </div>\n            </div>\n          </DashboardSection>\n        </div>\n      }\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  dateControls: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  inclusion: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n  },\n  getData: {\n    margin: '.5em 0 0 1.5em',\n  },\n  minDate: {\n    padding: '0 0 1em',\n  },\n}\n\nexport default HistoricalDisplay\n\n// xRefLines={aggregate.inflections}\n","import * as d3 from 'd3'\nimport { _3d } from 'd3-3d'\nimport React, {useRef, useEffect} from 'react'\n// import PropTypes from 'prop-types'\n\nimport { colors } from '../../config/styles'\n\nconst ThreeDimensionalChart = ({\n  data,\n}) => {\n\n  const chartRef = useRef(null)\n\n  const width = 750, height = 1000\n  const startAngle = Math.PI/4\n  const origin = [width/2, 100]\n\n  const color = d3.scaleLinear()\n\n  useEffect(() => {\n\n    const {\n      points,\n      axisLength,\n    } = data\n\n    const surface = _3d()\n      .scale(1)\n      .x( d => d.x )\n      .y( d => d.y )\n      .z( d => d.z )\n      .origin(origin)\n      .rotateY(startAngle)\n      .rotateX(-startAngle)\n      .shape('SURFACE', axisLength)\n\n    const svg = d3.select(chartRef.current).append('g')\n\n    const colorize = d => {\n      const _y = (d[0].y + d[1].y + d[2].y + d[3].y)/4\n\n      return d.ccw ? d3.interpolateSpectral(color(_y)) : d3.color(d3.interpolateSpectral(color(_y))).darker(2.5)\n    }\n\n    const processData = (surfaceData, millis) => {\n      const planes = svg.selectAll('path').data(surfaceData, sd => sd.plane )\n\n      planes\n        .enter()\n        .append('path')\n        .attr('class', '_3d')\n        .attr('fill', colorize)\n        .attr('opacity', 0)\n        .attr('stroke-opacity', 0.1)\n        .merge(planes)\n        .attr('stroke', 'black')\n        .transition().duration(millis)\n        .attr('opacity', 1)\n        .attr('fill', colorize)\n        .attr('d', surface.draw)\n\n      planes.exit().remove()\n\n      d3.selectAll('._3d').sort(surface.sort);\n    }\n\n    const init = () => {\n      const yMin = d3.min(points, d => d.y )\n      const yMax = d3.max(points, d => d.y )\n\n      const maxPoint = d3.scan(points, (a, b) => b.y - a.y)\n\n      console.log('max revenue:', yMax, '\\npoint?', points[maxPoint]);\n\n      color.domain([yMin, yMax])\n      processData(surface(points), 1000)\n    }\n\n    init()\n\n  }, [color, data, origin, startAngle])\n\n  return (\n    <svg style={style} width={width} height={height} ref={chartRef} />\n  )\n}\n\nconst style = {\n  background: colors.mediumGray,\n}\n\nexport default ThreeDimensionalChart\n","import React, {useState, useEffect, useCallback} from 'react'\nimport moment from 'moment-timezone'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\nimport Loading from '../components/loading/'\nimport Button from '../components/button/'\nimport DashboardSection from '../components/DashboardSection'\n// import DateControl from '../components/DateControl'\n// import TimeIncrementSelect from '../components/TimeIncrementSelect'\n// import LabeledCheckbox from '../components/LabeledCheckbox'\n// import DataTimeDisplay from '../components/DataTimeDisplay'\nimport ValueControl from '../components/ValueControl'\n\nimport Label from '../components/Label'\nimport DataDisplay from '../components/DataDisplay'\nimport ThreeDimensionalChart from '../components/charts/ThreeDimensionalChart'\n\n\nimport {\n  getBaseUrl,\n  roundToDigits,\n} from '../utils/'\n\nimport {\n  singleRequest,\n  parseResponse,\n} from '../utils/requestUtils'\n\n// import {timeIncrements} from '../config/'\n//\n// import { useConnectToServerSideEvent } from '../hooks/'\n\nimport { formatDollars } from '../utils/'\n\nimport {\n  blankDollars,\n  defaultHeaders,\n} from '../config/'\n\nconst InsightsDisplay = ({match}) => {\n\n  const {\n    url,\n    params,\n  } = match\n\n  const { projectId } = params\n\n  const cleanUrl = getBaseUrl(url, 'insights', projectId)\n\n  const getNow = () => moment()\n\n  const now = getNow()\n  // const oneWeekAgo = now.clone()\n    .subtract(7, 'days')\n  const threeWeeksAgo = now.clone()\n    .subtract(7, 'days')\n\n  // const incrementsArr = Object.keys(timeIncrements)\n\n  const [startTime] = useState(threeWeeksAgo)\n  const [endTime] = useState(now)\n\n  const [chargeThreshold, setChargeThreshold] = useState(0)\n  const [chargeStdDev, setChargeStdDev] = useState(0)\n\n  const [dischargeThreshold, setDischargeThreshold] = useState(0)\n  const [dischargeStdDev, setDischargeStdDev] = useState(0)\n\n  const [multiplier] = useState(.1)\n  const [loading, setLoading] = useState(false)\n  const [data, setData] = useState(null)\n  const [aggregate, setAggregate] = useState(null)\n  const [config, setConfig] = useState(null)\n  const [revenue, setRevenue] = useState(0)\n  const [showChart, setShowChart] = useState(false)\n\n  const onIncrement = (value, increment) => value + increment\n\n  const onDecrement = (value, increment) => value - increment\n\n  const onIncrementChargeThreshold = () => {\n    const incremented = onIncrement(chargeThreshold, chargeStdDev * multiplier)\n\n    setChargeThreshold(incremented)\n  }\n\n  const onDecrementChargeThreshold = () => {\n    const decremented = onDecrement(chargeThreshold, chargeStdDev * multiplier)\n\n    setChargeThreshold(decremented)\n  }\n\n  const onIncrementDischargeThreshold = () => {\n    const incremented = onIncrement(dischargeThreshold, dischargeStdDev * multiplier)\n\n    setDischargeThreshold(incremented)\n  }\n\n  const onDecrementDischargeThreshold = () => {\n    const decremented = onDecrement(dischargeThreshold, dischargeStdDev * multiplier)\n\n    setDischargeThreshold(decremented)\n  }\n\n  const getData = useCallback( async () => {\n\n    const startMillis = startTime.valueOf()\n    const endMillis = endTime.valueOf()\n\n    const body = {\n      id: projectId,\n      endMillis,\n      startMillis,\n    }\n\n    const request = {\n      method: 'POST',\n      headers: defaultHeaders,\n      body: JSON.stringify(body)\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest('/insights/', request)\n\n      const parsed = await parseResponse(res)\n\n      setData(parsed.data)\n      setAggregate(parsed.aggregate)\n      setConfig(parsed.config)\n\n      const {\n        belowMean,\n        belowStdDev,\n        aboveMean,\n        aboveStdDev,\n      } = parsed.aggregate\n\n      setChargeThreshold(belowMean)\n      setChargeStdDev(belowStdDev)\n      setDischargeThreshold(aboveMean)\n      setDischargeStdDev(aboveStdDev)\n\n    } catch (err) {\n      console.error(`There was an error retrieving your project: ${err}`)\n    } finally {\n      setLoading(false)\n    }\n  }, [startTime, endTime, projectId])\n\n  const getRevenue = useCallback( async () => {\n\n    const body = {\n      id: projectId,\n      chargeThreshold,\n      dischargeThreshold,\n    }\n\n    const request = {\n      method: 'POST',\n      headers: defaultHeaders,\n      body: JSON.stringify(body)\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await singleRequest('/get_revenue_by_thresholds/', request)\n\n      const parsed = await parseResponse(res)\n\n      setRevenue(parsed.revenue)\n    } catch (err) {\n      console.error(`There was an error retrieving revenue data: ${err}`)\n    } finally {\n      setLoading(false)\n    }\n  }, [chargeThreshold, dischargeThreshold, projectId])\n\n  useEffect( () => {\n    getData()\n  }, []) //eslint-disable-line react-hooks/exhaustive-deps\n\n  console.log('aggregate:', aggregate);\n\n  return (\n\n    <ProjectPageTemplate\n      title={config ? `${config.projectName} - Insights` : 'Project Data Insights'}\n      baseUrl={cleanUrl}\n      id={projectId}\n      >\n      { loading && <Loading message={''} />}\n      <div style={styles.columns}>\n        <DashboardSection headerContent={'Values for Potential Charging'}>\n          <div style={styles.specs}>\n            <Label content=\"Number of Events\"/>\n            <DataDisplay content={`${aggregate ? aggregate.belowN : 0}`}/>\n            <Label content=\"Average Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowMean) : blankDollars}`}/>\n            <Label content=\"Lowest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowMin) : blankDollars}`}/>\n            <Label content=\"Highest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowMax) : blankDollars}`}/>\n            <Label content=\"Standard Deviation\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.belowStdDev) : blankDollars}`}/>\n          </div>\n        </DashboardSection>\n        <DashboardSection headerContent={'Values for Potential Discharging'}>\n          <div style={styles.specs}>\n            <Label content=\"Number of Events\"/>\n            <DataDisplay content={`${aggregate ? aggregate.aboveN : 0}`}/>\n            <Label content=\"Average Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveMean) : blankDollars}`}/>\n            <Label content=\"Lowest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveMin) : blankDollars}`}/>\n            <Label content=\"Highest Price\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveMax) : blankDollars}`}/>\n            <Label content=\"Standard Deviation\"/>\n            <DataDisplay content={`${aggregate ? formatDollars(aggregate.aboveStdDev) : blankDollars}`}/>\n          </div>\n        </DashboardSection>\n      </div>\n      <DashboardSection\n        headerContent={'Test Charge and Discharge Thresholds'}>\n        <div style={styles.controls}>\n          <ValueControl\n            value={chargeThreshold || (config && config.chargeThreshold)}\n            format={formatDollars}\n            title=\"Charge Threshold\"\n            disabled={config && !config.chargeThreshold}\n            onIncrement={onIncrementChargeThreshold}\n            onDecrement={onDecrementChargeThreshold}\n            onIncrementLabel={`${multiplier}\\u03C3`}\n            onDecrementLabel={`${multiplier}\\u03C3`}\n            />\n          <ValueControl\n            value={dischargeThreshold || (config && config.dischargeThreshold)}\n            format={formatDollars}\n            title=\"Discharge Threshold\"\n            disabled={config && !config.dischargeThreshold}\n            onIncrement={onIncrementDischargeThreshold}\n            onDecrement={onDecrementDischargeThreshold}\n            onIncrementLabel={`${multiplier}\\u03C3`}\n            onDecrementLabel={`${multiplier}\\u03C3`}\n            />\n        </div>\n        <div style={styles.revenue}>\n          <div>\n            <Label content=\"7 Day Revenue for Selected Thresholds\"/>\n            <DataDisplay content={`${revenue ? formatDollars(revenue) : blankDollars}`}/>\n          </div>\n          <Button\n            value=\"Get Revenue\"\n            disabled={loading}\n            type=\"success\"\n            onClick={getRevenue}\n            />\n        </div>\n        {\n          (revenue !== 0 && aggregate) &&\n          <div style={styles.thresholds}>\n            <span>\n              {`Charge Threshold is ${roundToDigits((aggregate.belowMean - chargeThreshold)/aggregate.belowStdDev, 2)} x \\u03C3 below the mean`}\n            </span>\n            <span>\n              {`Discharge Threshold is ${roundToDigits((dischargeThreshold -aggregate.aboveMean)/aggregate.aboveStdDev, 2)} x \\u03C3 above the mean`}\n            </span>\n          </div>\n        }\n        <div style={styles.showChart}>\n          <Button\n            value=\"Show Chart\"\n            disabled={loading}\n            type=\"success\"\n            onClick={() => setShowChart(!showChart)}\n            />\n        </div>\n      </DashboardSection>\n      {\n        showChart &&\n        <ThreeDimensionalChart\n          data={data}\n          />\n      }\n    </ProjectPageTemplate>\n  )\n}\n\nconst styles = {\n  specs: {\n    padding: '0 2em',\n  },\n  columns: {\n    display: 'flex',\n    flexDirection: 'rows',\n    justifyContent: 'space-between',\n    maxWidth: '60em',\n  },\n  controls: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  inclusion: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  getData: {\n    margin: '.5em 0 0 1.5em',\n  },\n  minDate: {\n    padding: '0 0 1em',\n  },\n  revenue: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'space-between',\n  },\n  thresholds: {\n    display: 'flex',\n    flexDirection: 'column',\n    lineHeight: '2.5em',\n    padding: '1em 0',\n    fontStyle: 'italic',\n  },\n  showChart: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n}\n\nexport default InsightsDisplay\n","import React from 'react'\n\nimport { Route } from 'react-router-dom'\n\nimport CreateProject from '../containers/CreateProject'\nimport Project from '../containers/Project'\nimport ProjectRoi from '../containers/ProjectRoi'\nimport ProjectDashboard from '../containers/ProjectDashboard'\nimport HistoricalDisplay from '../containers/HistoricalDisplay'\nimport InsightsDisplay from '../containers/InsightsDisplay'\n\nconst ProjectTools = ({match}) => (\n\n  <React.Fragment>\n    <Route\n      exact path={`${match.path}/create_project`}\n      component={CreateProject}\n    />\n    <Route\n      path={`${match.path}/project/:projectId`}\n      component={Project}\n    />\n    <Route\n      path={`${match.path}/roi/:projectId`}\n      component={ProjectRoi}\n    />\n    <Route\n      path={`${match.path}/dashboard/:projectId`}\n      component={ProjectDashboard}\n    />\n    <Route\n      path={`${match.path}/historical/:projectId`}\n      component={HistoricalDisplay}\n    />\n    <Route\n      path={`${match.path}/insights/:projectId`}\n      component={InsightsDisplay}\n    />\n  </React.Fragment>\n)\n\nexport default ProjectTools\n","import React from 'react'\n\nimport PublicPageTemplate from './PublicPageTemplate'\nimport ProjectTools from './ProjectTools'\nimport Header3 from './Header3'\nimport DisableableLink from './DisableableLink'\nimport Button from '../components/button/'\n\nconst Demo = ({ match }) => (\n\n  <PublicPageTemplate\n    title={'Demo'}\n    >\n    {\n      match.isExact &&\n      <div style={styles.root}>\n        <Header3\n          content={'Evaluate Project Locations'}\n          />\n        <ul style={styles.list}>\n          <li>\n            <p>Coming Soon!</p>\n          </li>\n        </ul>\n        <Header3\n          content={'Build a Project'}\n          />\n        <ul style={styles.list}>\n          <li>\n            <p>Specify the project location either by clicking on the map or entering an address.</p>\n          </li>\n          <li>\n            <p>Specify the power, energy capacity, and round trip efficiency of your battery or other storage technology.</p>\n          </li>\n          <li>\n            <p>Create the project to get access to try out the Project Dashboard and Historical data visualizer.</p>\n          </li>\n        </ul>\n        <div style={styles.link}>\n          <DisableableLink to=\"/demo/create_project\" >\n            <Button\n              value={'CREATE PROJECT'}\n              type=\"primary\"\n              overrideStyles={styles.button}\n              />\n          </DisableableLink>\n        </div>\n      </div>\n    }\n    <ProjectTools match={match}/>\n  </PublicPageTemplate>\n)\n\nconst styles = {\n  root: {\n    textAlign: 'left',\n    padding: '1em 3em',\n  },\n  list: {\n    lineHeight: '3em',\n    padding: '1em 0 1em 1.5em',\n    listStyle: 'disc',\n  },\n  link: {\n    textAlign: 'right',\n    padding: '0 2em',\n  },\n  button: {\n    padding: '.8em'\n  }\n}\n\nexport default Demo\n","import React from 'react'\n\nimport PublicPageTemplate from './PublicPageTemplate'\n\nimport { colors } from '../config/styles'\n\nconst Contact = () => (\n\n  <PublicPageTemplate\n    title={'Contact'}\n    >\n    <div style={styles.root}>\n      <p style={styles.text}>As I've detailed <a  href=\"/about\" target=\"_blank\" rel=\"noopener noreferrer\" style={styles.link}>here</a>, this idea of this project has be rattling around my brain for the last three years, even prior to changing careers to software development.  In fact, building something like this was among the reasons I undertook that change.</p>\n      <p style={styles.text}>I would like help making it better</p>\n      <p style={styles.text}>If you have feedback, advice, or interest in this project, please contact me either on <a href=\"https://twitter.com/matsad111\" target=\"_blank\" rel=\"noopener noreferrer\" style={styles.link}>Twitter</a> or on <a  href=\"https://www.linkedin.com/in/matthew-sadauckas-68bb9793/\" target=\"_blank\" rel=\"noopener noreferrer\" style={styles.link}>LinkedIn</a>.</p>\n      <p style={styles.text}>If you would like to know more about the code behind this project, take a look <a  href=\"https://github.com/matsad3547/entelx\" target=\"_blank\" rel=\"noopener noreferrer\" style={styles.link}>here</a>.</p>\n    </div>\n  </PublicPageTemplate>\n)\n\nconst styles = {\n  text: {\n    textAlign: 'left',\n    padding: '1em 3em',\n  },\n  link: {\n    textDecoration: 'none',\n    color: colors.middleGreen,\n    fontWeight: 'bold',\n  }\n}\n\nexport default Contact\n","import React from 'react'\n\nimport PublicPageTemplate from './PublicPageTemplate'\n\nconst About = () => (\n\n  <PublicPageTemplate\n    title={'About'}\n    >\n    <p style={styles}>This project is the work of Matt Sadauckas.  Motivated, knowledgeable collaborators and critical feedback sought!</p>\n  </PublicPageTemplate>\n)\n\nconst styles = {\n  padding: '1em 0',\n}\n\nexport default About\n","import React from 'react'\n\nimport DisableableLink from './DisableableLink'\n\nconst NavBar = () => (\n\n  <div style={styles.root}>\n    <nav style={styles.nav}>\n      <DisableableLink to=\"/\">\n        Home\n      </DisableableLink>\n      <DisableableLink to=\"/demo\">\n        Demo\n      </DisableableLink>\n      <DisableableLink to=\"/login\" disabled={true} >\n        Log In\n      </DisableableLink>\n    </nav>\n  </div>\n)\n\nconst styles = {\n  root: {\n    textAlign: 'right',\n  },\n  nav: {\n    display: 'inline-flex',\n    width: '13em',\n    justifyContent: 'space-between',\n    padding: '1em 3em',\n  },\n}\n\nexport default NavBar\n","import React, {useState} from 'react'\n\nimport ProjectPageTemplate from '../components/ProjectPageTemplate'\n\nimport Button from '../components/button/'\nimport Loading from '../components/loading/'\n\nimport {\n  singleRequest,\n  // parseResponse,\n} from '../utils/requestUtils'\n\n// import { setField } from '../utils/'\n\nconst SystemAdmin = () => {\n\n  const [loading, setLoading] = useState(false)\n  // const [keys, setKeys] = useState([])\n\n  // const addKey = key => setKeys([...keys, key])\n  //\n  // const removeKey = key => {\n  //   const index = keys.indexOf(key)\n  //   setKeys(\n  //     [\n  //       ...keys.slice(0, index),\n  //       ...keys.slice(index + 1),\n  //     ]\n  //   )\n  // }\n\n  const onRequest = () => {\n\n    setLoading(true)\n\n    const keys = []\n    const path = ''\n\n    const body = JSON.stringify({keys,})\n\n    const request = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body,\n    }\n\n    singleRequest(path, request)\n      .then( res => {\n        console.log('res at onRequest', res);\n        setLoading(false)\n      })\n      .catch( err => {\n        setLoading(false)\n        console.error(`There was an error writing to ${path}: ${err}`)\n      })\n  }\n\n  return (\n    <ProjectPageTemplate title={'System Administration'}>\n      { loading && <Loading message={''} />}\n      <p>One Time Request</p>\n      <Button\n        value={'EXECUTE'}\n        type=\"danger\"\n        onClick={onRequest}\n        />\n    </ProjectPageTemplate>\n  )\n}\n\n// const styles = {\n// }\n\nexport default SystemAdmin\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport Home from './components/Home'\nimport Demo from './components/Demo'\nimport Contact from './components/Contact'\nimport About from './components/About'\nimport NavBar from './components/NavBar'\n\nimport SystemAdmin from './containers/SystemAdmin'\n\nimport './App.css'\n\nconst App = () => (\n\n  <div style={styles.root}>\n    <NavBar />\n    <React.Fragment>\n      <Route\n        exact path=\"/\"\n        component={Home}\n      />\n      <Route\n        path=\"/demo\"\n        component={Demo}\n      />\n      <Route\n        path=\"/about\"\n        component={About}\n      />\n      <Route\n        path=\"/contact\"\n        component={Contact}\n      />\n      <Route\n        path=\"/system_admin\"\n        component={SystemAdmin}\n      />\n    </React.Fragment>\n  </div>\n)\n\nconst styles = {\n  root: {\n    fontFamily: 'Montserrat, Helvetica, sans-serif',\n    fontWeight: 200,\n    // fontSize: '1.3vw',\n    fontSize: 16,\n    textAlign: 'center',\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\n\nReactDOM.render((\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n), document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}